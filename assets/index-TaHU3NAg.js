(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=isString(i)?parseStringStyle(i):normalizeStyle(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(isString(e)||isObject(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const i=n.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let n=0;n<e.length;n++){const i=normalizeClass(e[n]);i&&(t+=i+" ")}else if(isObject(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],o)=>(n[stringifySymbol(i,o)+" =>"]=s,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}let activeEffect;class ReactiveEffect{constructor(t,n,i,s){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,s)}get dirty(){if(this._dirtyLevel===1){pauseTracking();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(triggerComputed(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=shouldTrack,n=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=n,shouldTrack=t}}stop(){var t;this.active&&(preCleanupEffect(this),postCleanupEffect(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function triggerComputed(e){return e.value}function preCleanupEffect(e){e._trackId++,e._depsLength=0}function postCleanupEffect(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)cleanupDepEffect(e.deps[t],e);e.deps.length=e._depsLength}}function cleanupDepEffect(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&cleanupDepEffect(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(e,t,n){pauseScheduling();for(const i of e.keys())if(i._dirtyLevel<t&&e.get(i)===i._trackId){const s=i._dirtyLevel;i._dirtyLevel=t,s===0&&(i._shouldSchedule=!0,i.trigger())}scheduleEffects(e),resetScheduling()}function scheduleEffects(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,queueEffectSchedulers.push(t.scheduler))}const createDep=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeEffect){let i=targetMap.get(e);i||targetMap.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=createDep(()=>i.delete(n))),trackEffect(activeEffect,s)}}function trigger(e,t,n,i,s,o){const f=targetMap.get(e);if(!f)return;let l=[];if(t==="clear")l=[...f.values()];else if(n==="length"&&isArray(e)){const g=Number(i);f.forEach((u,a)=>{(a==="length"||!isSymbol(a)&&a>=g)&&l.push(u)})}else switch(n!==void 0&&l.push(f.get(n)),t){case"add":isArray(e)?isIntegerKey(n)&&l.push(f.get("length")):(l.push(f.get(ITERATE_KEY)),isMap(e)&&l.push(f.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(l.push(f.get(ITERATE_KEY)),isMap(e)&&l.push(f.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l.push(f.get(ITERATE_KEY));break}pauseScheduling();for(const g of l)g&&triggerEffects(g,2);resetScheduling()}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=toRaw(this);for(let o=0,f=this.length;o<f;o++)track(i,"get",o+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking(),pauseScheduling();const i=toRaw(this)[t].apply(this,n);return resetScheduling(),resetTracking(),i}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(s?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const f=isArray(t);if(!s){if(f&&hasOwn(arrayInstrumentations,n))return Reflect.get(arrayInstrumentations,n,i);if(n==="hasOwnProperty")return hasOwnProperty}const l=Reflect.get(t,n,i);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(s||track(t,"get",n),o)?l:isRef(l)?f&&isIntegerKey(n)?l:l.value:isObject(l)?s?readonly(l):reactive(l):l}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,i,s){let o=t[n];if(!this._shallow){const g=isReadonly(o);if(!isShallow(i)&&!isReadonly(i)&&(o=toRaw(o),i=toRaw(i)),!isArray(t)&&isRef(o)&&!isRef(i))return g?!1:(o.value=i,!0)}const f=isArray(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn(t,n),l=Reflect.set(t,n,i,s);return t===toRaw(s)&&(f?hasChanged(i,o)&&trigger(t,"set",n,i):trigger(t,"add",n,i)),l}deleteProperty(t,n){const i=hasOwn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&trigger(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),i}ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,n=!1,i=!1){e=e.__v_raw;const s=toRaw(e),o=toRaw(t);n||(hasChanged(t,o)&&track(s,"get",t),track(s,"get",o));const{has:f}=getProto(s),l=i?toShallow:n?toReadonly:toReactive;if(f.call(s,t))return l(e.get(t));if(f.call(s,o))return l(e.get(o));e!==s&&e.get(t)}function has(e,t=!1){const n=this.__v_raw,i=toRaw(n),s=toRaw(e);return t||(hasChanged(e,s)&&track(i,"has",e),track(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const n=toRaw(this),{has:i,get:s}=getProto(n);let o=i.call(n,e);o||(e=toRaw(e),o=i.call(n,e));const f=s.call(n,e);return n.set(e,t),o?hasChanged(t,f)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:i}=getProto(t);let s=n.call(t,e);s||(e=toRaw(e),s=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return s&&trigger(t,"delete",e,void 0),o}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(i,s){const o=this,f=o.__v_raw,l=toRaw(f),g=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),f.forEach((u,a)=>i.call(s,g(u),g(a),o))}}function createIterableMethod(e,t,n){return function(...i){const s=this.__v_raw,o=toRaw(s),f=isMap(o),l=e==="entries"||e===Symbol.iterator&&f,g=e==="keys"&&f,u=s[e](...i),a=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",g?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:y}=u.next();return y?{value:m,done:y}:{value:l?[a(m[0]),a(m[1])]:a(m),done:y}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(){const e={get(o){return get(this,o)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(o){return get(this,o,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(o){return get(this,o,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(o){return get(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=createIterableMethod(o,!1,!1),n[o]=createIterableMethod(o,!0,!1),t[o]=createIterableMethod(o,!1,!0),i[o]=createIterableMethod(o,!0,!0)}),[e,n,t,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(i,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(hasOwn(n,s)&&s in i?n:i,s,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,i,s){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const f=getTargetType(e);if(f===0)return e;const l=new Proxy(e,f===2?i:n);return s.set(e,l),l}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;class ComputedRefImpl{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>t(this._value),()=>triggerRefValue(this,1),()=>this.dep&&scheduleEffects(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=toRaw(this);return(!t._cacheable||t.effect.dirty)&&hasChanged(t._value,t._value=t.effect.run())&&triggerRefValue(t,2),trackRefValue(t),t.effect._dirtyLevel>=1&&triggerRefValue(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function computed$1(e,t,n=!1){let i,s;const o=isFunction(e);return o?(i=e,s=NOOP):(i=e.get,s=e.set),new ComputedRefImpl(i,s,o||!s,n)}function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffect(activeEffect,e.dep||(e.dep=createDep(()=>e.dep=void 0,e instanceof ComputedRefImpl?e:void 0))))}function triggerRefValue(e,t=2,n){e=toRaw(e);const i=e.dep;i&&triggerEffects(i,t)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this,2))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1(e,...t){pauseTracking();const n=stack.length?stack[stack.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=getComponentTrace();if(i)callWithErrorHandling(i,n,11,[e+t.join(""),n&&n.proxy,s.map(({vnode:o})=>`at <${formatComponentName(n,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${e}`,...t];s.length&&o.push(`
`,...formatTrace(s)),console.warn(...o)}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,i)=>{t.push(...i===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,s=` at <${formatComponentName(e.component,e.type,i)}`,o=">"+n;return e.props?[s,...formatProps(e.props),o]:[s+o]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(i=>{t.push(...formatProp(i,e[i]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,i){let s;try{s=i?e(...i):e()}catch(o){handleError(o,t,n)}return s}function callWithAsyncErrorHandling(e,t,n,i){if(isFunction(e)){const o=callWithErrorHandling(e,t,n,i);return o&&isPromise(o)&&o.catch(f=>{handleError(f,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(callWithAsyncErrorHandling(e[o],t,n,i));return s}function handleError(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const f=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let a=0;a<u.length;a++)if(u[a](e,f,l)===!1)return}o=o.parent}const g=t.appContext.config.errorHandler;if(g){callWithErrorHandling(g,null,10,[e,f,l]);return}}logError(e,n,s,i)}function logError(e,t,n,i=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const i=t+n>>>1,s=queue[i],o=getId(s);o<e||o===e&&s.pre?t=i+1:n=i}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t,n=isFlushing?flushIndex+1:0){for(;n<queue.length;n++){const i=queue[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;queue.splice(n,1),n--,i()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,i)=>getId(n)-getId(i));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&t.active!==!1&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||EMPTY_OBJ;let s=n;const o=t.startsWith("update:"),f=o&&t.slice(7);if(f&&f in i){const a=`${f==="modelValue"?"model":f}Modifiers`,{number:m,trim:y}=i[a]||EMPTY_OBJ;y&&(s=n.map(c=>isString(c)?c.trim():c)),m&&(s=n.map(looseToNumber))}let l,g=i[l=toHandlerKey(t)]||i[l=toHandlerKey(camelize(t))];!g&&o&&(g=i[l=toHandlerKey(hyphenate(t))]),g&&callWithAsyncErrorHandling(g,e,6,s);const u=i[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,callWithAsyncErrorHandling(u,e,6,s)}}function normalizeEmitsOptions(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const o=e.emits;let f={},l=!1;if(!isFunction(e)){const g=u=>{const a=normalizeEmitsOptions(u,t,!0);a&&(l=!0,extend(f,a))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!o&&!l?(isObject(e)&&i.set(e,null),null):(isArray(o)?o.forEach(g=>f[g]=null):extend(f,o),isObject(e)&&i.set(e,f),f)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let f;try{f=e(...s)}finally{setCurrentRenderingInstance(o),i._d&&setBlockTracking(1)}return f};return i._n=!0,i._c=!0,i._d=!0,i}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[f],slots:l,attrs:g,emit:u,render:a,renderCache:m,data:y,setupState:c,ctx:R,inheritAttrs:O}=e;let P,C;const _=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const T=s||i,E=T;P=normalizeVNode(a.call(E,T,m,o,c,y,R)),C=g}else{const T=t;P=normalizeVNode(T.length>1?T(o,{attrs:g,slots:l,emit:u}):T(o,null)),C=t.props?g:getFunctionalFallthrough(g)}}catch(T){blockStack.length=0,handleError(T,e,1),P=createVNode(Comment)}let I=P;if(C&&O!==!1){const T=Object.keys(C),{shapeFlag:E}=I;T.length&&E&7&&(f&&T.some(isModelListener)&&(C=filterModelListeners(C,f)),I=cloneVNode(I,C))}return n.dirs&&(I=cloneVNode(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),P=I,setCurrentRenderingInstance(_),P}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const i in e)(!isModelListener(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function shouldUpdateComponent(e,t,n){const{props:i,children:s,component:o}=e,{props:f,children:l,patchFlag:g}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return i?hasPropsChanged(i,f,u):!!f;if(g&8){const a=t.dynamicProps;for(let m=0;m<a.length;m++){const y=a[m];if(f[y]!==i[y]&&!isEmitListener(u,y))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===f?!1:i?f?hasPropsChanged(i,f,u):!0:!!f;return!1}function hasPropsChanged(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==e[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(e,t,n=!0,i=!1){const s=currentRenderingInstance||currentInstance;if(s){const o=s.type;if(e===COMPONENTS){const l=getComponentName(o,!1);if(l&&(l===t||l===camelize(t)||l===capitalize(camelize(t))))return o}const f=resolve(s[e]||o[e],t)||resolve(s.appContext[e],t);return!f&&i?o:f}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:i,flush:s,once:o,onTrack:f,onTrigger:l}=EMPTY_OBJ){if(t&&o){const v=t;t=(...x)=>{v(...x),E()}}const g=currentInstance,u=v=>i===!0?v:traverse(v,i===!1?1:void 0);let a,m=!1,y=!1;if(isRef(e)?(a=()=>e.value,m=isShallow(e)):isReactive(e)?(a=()=>u(e),m=!0):isArray(e)?(y=!0,m=e.some(v=>isReactive(v)||isShallow(v)),a=()=>e.map(v=>{if(isRef(v))return v.value;if(isReactive(v))return u(v);if(isFunction(v))return callWithErrorHandling(v,g,2)})):isFunction(e)?t?a=()=>callWithErrorHandling(e,g,2):a=()=>(c&&c(),callWithAsyncErrorHandling(e,g,3,[R])):a=NOOP,t&&i){const v=a;a=()=>traverse(v())}let c,R=v=>{c=I.onStop=()=>{callWithErrorHandling(v,g,4),c=I.onStop=void 0}},O;if(isInSSRComponentSetup)if(R=NOOP,t?n&&callWithAsyncErrorHandling(t,g,3,[a(),y?[]:void 0,R]):a(),s==="sync"){const v=useSSRContext();O=v.__watcherHandles||(v.__watcherHandles=[])}else return NOOP;let P=y?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const C=()=>{if(!(!I.active||!I.dirty))if(t){const v=I.run();(i||m||(y?v.some((x,Y)=>hasChanged(x,P[Y])):hasChanged(v,P)))&&(c&&c(),callWithAsyncErrorHandling(t,g,3,[v,P===INITIAL_WATCHER_VALUE?void 0:y&&P[0]===INITIAL_WATCHER_VALUE?[]:P,R]),P=v)}else I.run()};C.allowRecurse=!!t;let _;s==="sync"?_=C:s==="post"?_=()=>queuePostRenderEffect(C,g&&g.suspense):(C.pre=!0,g&&(C.id=g.uid),_=()=>queueJob(C));const I=new ReactiveEffect(a,NOOP,_),T=getCurrentScope(),E=()=>{I.stop(),T&&remove(T.effects,I)};return t?n?C():P=I.run():s==="post"?queuePostRenderEffect(I.run.bind(I),g&&g.suspense):I.run(),O&&O.push(E),E}function instanceWatch(e,t,n){const i=this.proxy,s=isString(e)?e.includes(".")?createPathGetter(i,e):()=>i[e]:e.bind(i,i);let o;isFunction(t)?o=t:(o=t.handler,n=t);const f=setCurrentInstance(this),l=doWatch(s,o.bind(i),n);return f(),l}function createPathGetter(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function traverse(e,t,n=0,i){if(!isObject(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(i=i||new Set,i.has(e))return e;if(i.add(e),isRef(e))traverse(e.value,t,n,i);else if(isArray(e))for(let s=0;s<e.length;s++)traverse(e[s],t,n,i);else if(isSet(e)||isMap(e))e.forEach(s=>{traverse(s,t,n,i)});else if(isPlainObject(e))for(const s in e)traverse(e[s],t,n,i);return e}function invokeDirectiveHook(e,t,n,i){const s=e.dirs,o=t&&t.dirs;for(let f=0;f<s.length;f++){const l=s[f];o&&(l.oldValue=o[f].value);let g=l.dir[i];g&&(pauseTracking(),callWithAsyncErrorHandling(g,n,8,[e.el,l,e,t]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction(e)?extend({name:e.name},t,{setup:e}):e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(injectHook(t,i,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(i,t,n,s),s=s.parent}}function injectToKeepAliveRoot(e,t,n,i){const s=injectHook(t,e,i,!0);onUnmounted(()=>{remove(i[t],s)},n)}function injectHook(e,t,n=currentInstance,i=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...f)=>{if(n.isUnmounted)return;pauseTracking();const l=setCurrentInstance(n),g=callWithAsyncErrorHandling(t,n,e,f);return l(),resetTracking(),g});return i?s.unshift(o):s.push(o),o}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...i)=>t(...i),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function renderList(e,t,n,i){let s;const o=n&&n[i];if(isArray(e)||isString(e)){s=new Array(e.length);for(let f=0,l=e.length;f<l;f++)s[f]=t(e[f],f,void 0,o&&o[f])}else if(typeof e=="number"){s=new Array(e);for(let f=0;f<e;f++)s[f]=t(f+1,f,void 0,o&&o[f])}else if(isObject(e))if(e[Symbol.iterator])s=Array.from(e,(f,l)=>t(f,l,void 0,o&&o[l]));else{const f=Object.keys(e);s=new Array(f.length);for(let l=0,g=f.length;l<g;l++){const u=f[l];s[l]=t(e[u],u,l,o&&o[l])}}else s=[];return n&&(n[i]=s),s}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:i,data:s,props:o,accessCache:f,type:l,appContext:g}=e;let u;if(t[0]!=="$"){const c=f[t];if(c!==void 0)switch(c){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(i,t))return f[t]=1,i[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return f[t]=2,s[t];if((u=e.propsOptions[0])&&hasOwn(u,t))return f[t]=3,o[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return f[t]=4,n[t];shouldCacheAccess&&(f[t]=0)}}const a=publicPropertiesMap[t];let m,y;if(a)return t==="$attrs"&&track(e,"get",t),a(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==EMPTY_OBJ&&hasOwn(n,t))return f[t]=4,n[t];if(y=g.config.globalProperties,hasOwn(y,t))return y[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return hasSetupBinding(s,t)?(s[t]=n,!0):i!==EMPTY_OBJ&&hasOwn(i,t)?(i[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o}},f){let l;return!!n[f]||e!==EMPTY_OBJ&&hasOwn(e,f)||hasSetupBinding(t,f)||(l=o[0])&&hasOwn(l,f)||hasOwn(i,f)||hasOwn(publicPropertiesMap,f)||hasOwn(s.config.globalProperties,f)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,i=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:f,watch:l,provide:g,inject:u,created:a,beforeMount:m,mounted:y,beforeUpdate:c,updated:R,activated:O,deactivated:P,beforeDestroy:C,beforeUnmount:_,destroyed:I,unmounted:T,render:E,renderTracked:v,renderTriggered:x,errorCaptured:Y,serverPrefetch:re,expose:ce,inheritAttrs:oe,components:ue,directives:U,filters:F}=t;if(u&&resolveInjections(u,i,null),f)for(const N in f){const X=f[N];isFunction(X)&&(i[N]=X.bind(n))}if(s){const N=s.call(n,n);isObject(N)&&(e.data=reactive(N))}if(shouldCacheAccess=!0,o)for(const N in o){const X=o[N],Q=isFunction(X)?X.bind(n,n):isFunction(X.get)?X.get.bind(n,n):NOOP,W=!isFunction(X)&&isFunction(X.set)?X.set.bind(n):NOOP,ae=computed({get:Q,set:W});Object.defineProperty(i,N,{enumerable:!0,configurable:!0,get:()=>ae.value,set:le=>ae.value=le})}if(l)for(const N in l)createWatcher(l[N],i,n,N);if(g){const N=isFunction(g)?g.call(n):g;Reflect.ownKeys(N).forEach(X=>{provide(X,N[X])})}a&&callHook(a,e,"c");function H(N,X){isArray(X)?X.forEach(Q=>N(Q.bind(n))):X&&N(X.bind(n))}if(H(onBeforeMount,m),H(onMounted,y),H(onBeforeUpdate,c),H(onUpdated,R),H(onActivated,O),H(onDeactivated,P),H(onErrorCaptured,Y),H(onRenderTracked,v),H(onRenderTriggered,x),H(onBeforeUnmount,_),H(onUnmounted,T),H(onServerPrefetch,re),isArray(ce))if(ce.length){const N=e.exposed||(e.exposed={});ce.forEach(X=>{Object.defineProperty(N,X,{get:()=>n[X],set:Q=>n[X]=Q})})}else e.exposed||(e.exposed={});E&&e.render===NOOP&&(e.render=E),oe!=null&&(e.inheritAttrs=oe),ue&&(e.components=ue),U&&(e.directives=U)}function resolveInjections(e,t,n=NOOP){isArray(e)&&(e=normalizeInject(e));for(const i in e){const s=e[i];let o;isObject(s)?"default"in s?o=inject(s.from||i,s.default,!0):o=inject(s.from||i):o=inject(s),isRef(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:f=>o.value=f}):t[i]=o}}function callHook(e,t,n){callWithAsyncErrorHandling(isArray(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,i){const s=i.includes(".")?createPathGetter(n,i):()=>n[i];if(isString(e)){const o=t[e];isFunction(o)&&watch(s,o)}else if(isFunction(e))watch(s,e.bind(n));else if(isObject(e))if(isArray(e))e.forEach(o=>createWatcher(o,t,n,i));else{const o=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(o)&&watch(s,o,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:f}}=e.appContext,l=o.get(t);let g;return l?g=l:!s.length&&!n&&!i?g=t:(g={},s.length&&s.forEach(u=>mergeOptions(g,u,f,!0)),mergeOptions(g,t,f)),isObject(t)&&o.set(t,g),g}function mergeOptions(e,t,n,i=!1){const{mixins:s,extends:o}=t;o&&mergeOptions(e,o,n,!0),s&&s.forEach(f=>mergeOptions(e,f,n,!0));for(const f in t)if(!(i&&f==="expose")){const l=internalOptionMergeStrats[f]||n&&n[f];e[f]=l?l(e[f],t[f]):t[f]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const i in t)n[i]=mergeAsArray(e[i],t[i]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(i,s=null){isFunction(i)||(i=extend({},i)),s!=null&&!isObject(s)&&(s=null);const o=createAppContext(),f=new WeakSet;let l=!1;const g=o.app={_uid:uid$1++,_component:i,_props:s,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(u){},use(u,...a){return f.has(u)||(u&&isFunction(u.install)?(f.add(u),u.install(g,...a)):isFunction(u)&&(f.add(u),u(g,...a))),g},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),g},component(u,a){return a?(o.components[u]=a,g):o.components[u]},directive(u,a){return a?(o.directives[u]=a,g):o.directives[u]},mount(u,a,m){if(!l){const y=createVNode(i,s);return y.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),a&&t?t(y,u):e(y,u,m),l=!0,g._container=u,u.__vue_app__=g,getExposeProxy(y.component)||y.component.proxy}},unmount(){l&&(e(null,g._container),delete g._container.__vue_app__)},provide(u,a){return o.provides[u]=a,g},runWithContext(u){currentApp=g;try{return u()}finally{currentApp=null}}};return g}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===n&&(n=currentInstance.provides=Object.create(i)),n[e]=t}}function inject(e,t,n=!1){const i=currentInstance||currentRenderingInstance;if(i||currentApp){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:currentApp._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&isFunction(t)?t.call(i&&i.proxy):t}}function initProps(e,t,n,i=!1){const s={},o={};def(o,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,s,o);for(const f in e.propsOptions[0])f in s||(s[f]=void 0);n?e.props=i?s:shallowReactive(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function updateProps(e,t,n,i){const{props:s,attrs:o,vnode:{patchFlag:f}}=e,l=toRaw(s),[g]=e.propsOptions;let u=!1;if((i||f>0)&&!(f&16)){if(f&8){const a=e.vnode.dynamicProps;for(let m=0;m<a.length;m++){let y=a[m];if(isEmitListener(e.emitsOptions,y))continue;const c=t[y];if(g)if(hasOwn(o,y))c!==o[y]&&(o[y]=c,u=!0);else{const R=camelize(y);s[R]=resolvePropValue(g,l,R,c,e,!1)}else c!==o[y]&&(o[y]=c,u=!0)}}}else{setFullProps(e,t,s,o)&&(u=!0);let a;for(const m in l)(!t||!hasOwn(t,m)&&((a=hyphenate(m))===m||!hasOwn(t,a)))&&(g?n&&(n[m]!==void 0||n[a]!==void 0)&&(s[m]=resolvePropValue(g,l,m,void 0,e,!0)):delete s[m]);if(o!==l)for(const m in o)(!t||!hasOwn(t,m))&&(delete o[m],u=!0)}u&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,i){const[s,o]=e.propsOptions;let f=!1,l;if(t)for(let g in t){if(isReservedProp(g))continue;const u=t[g];let a;s&&hasOwn(s,a=camelize(g))?!o||!o.includes(a)?n[a]=u:(l||(l={}))[a]=u:isEmitListener(e.emitsOptions,g)||(!(g in i)||u!==i[g])&&(i[g]=u,f=!0)}if(o){const g=toRaw(n),u=l||EMPTY_OBJ;for(let a=0;a<o.length;a++){const m=o[a];n[m]=resolvePropValue(s,g,m,u[m],e,!hasOwn(u,m))}}return f}function resolvePropValue(e,t,n,i,s,o){const f=e[n];if(f!=null){const l=hasOwn(f,"default");if(l&&i===void 0){const g=f.default;if(f.type!==Function&&!f.skipFactory&&isFunction(g)){const{propsDefaults:u}=s;if(n in u)i=u[n];else{const a=setCurrentInstance(s);i=u[n]=g.call(null,t),a()}}else i=g}f[0]&&(o&&!l?i=!1:f[1]&&(i===""||i===hyphenate(n))&&(i=!0))}return i}function normalizePropsOptions(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const o=e.props,f={},l=[];let g=!1;if(!isFunction(e)){const a=m=>{g=!0;const[y,c]=normalizePropsOptions(m,t,!0);extend(f,y),c&&l.push(...c)};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!o&&!g)return isObject(e)&&i.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(o))for(let a=0;a<o.length;a++){const m=camelize(o[a]);validatePropName(m)&&(f[m]=EMPTY_OBJ)}else if(o)for(const a in o){const m=camelize(a);if(validatePropName(m)){const y=o[a],c=f[m]=isArray(y)||isFunction(y)?{type:y}:extend({},y);if(c){const R=getTypeIndex(Boolean,c.type),O=getTypeIndex(String,c.type);c[0]=R>-1,c[1]=O<0||R<O,(R>-1||hasOwn(c,"default"))&&l.push(m)}}}const u=[f,l];return isObject(e)&&i.set(e,u),u}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(n=>isSameType(n,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const i=withCtx((...s)=>normalizeSlotValue(t(...s)),n);return i._c=!1,i},normalizeObjectSlots=(e,t,n)=>{const i=e._ctx;for(const s in e){if(isInternalKey(s))continue;const o=e[s];if(isFunction(o))t[s]=normalizeSlot(s,o,i);else if(o!=null){const f=normalizeSlotValue(o);t[s]=()=>f}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,f=EMPTY_OBJ;if(i.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(extend(s,t),!n&&l===1&&delete s._):(o=!t.$stable,normalizeObjectSlots(t,s)),f=t}else t&&(normalizeVNodeSlots(e,t),f={default:1});if(o)for(const l in s)!isInternalKey(l)&&f[l]==null&&delete s[l]};function setRef(e,t,n,i,s=!1){if(isArray(e)){e.forEach((y,c)=>setRef(y,t&&(isArray(t)?t[c]:t),n,i,s));return}if(isAsyncWrapper(i)&&!s)return;const o=i.shapeFlag&4?getExposeProxy(i.component)||i.component.proxy:i.el,f=s?null:o,{i:l,r:g}=e,u=t&&t.r,a=l.refs===EMPTY_OBJ?l.refs={}:l.refs,m=l.setupState;if(u!=null&&u!==g&&(isString(u)?(a[u]=null,hasOwn(m,u)&&(m[u]=null)):isRef(u)&&(u.value=null)),isFunction(g))callWithErrorHandling(g,l,12,[f,a]);else{const y=isString(g),c=isRef(g),R=e.f;if(y||c){const O=()=>{if(R){const P=y?hasOwn(m,g)?m[g]:a[g]:g.value;s?isArray(P)&&remove(P,o):isArray(P)?P.includes(o)||P.push(o):y?(a[g]=[o],hasOwn(m,g)&&(m[g]=a[g])):(g.value=[o],e.k&&(a[e.k]=g.value))}else y?(a[g]=f,hasOwn(m,g)&&(m[g]=f)):c&&(g.value=f,e.k&&(a[e.k]=f))};s||R?O():(O.id=-1,queuePostRenderEffect(O,n))}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:f,createText:l,createComment:g,setText:u,setElementText:a,parentNode:m,nextSibling:y,setScopeId:c=NOOP,insertStaticContent:R}=e,O=(A,B,$,se=null,ie=null,pe=null,be=void 0,me=null,D=!!B.dynamicChildren)=>{if(A===B)return;A&&!isSameVNodeType(A,B)&&(se=de(A),le(A,ie,pe,!0),A=null),B.patchFlag===-2&&(D=!1,B.dynamicChildren=null);const{type:S,ref:k,shapeFlag:G}=B;switch(S){case Text:P(A,B,$,se);break;case Comment:C(A,B,$,se);break;case Static:A==null&&_(B,$,se,be);break;case Fragment:ue(A,B,$,se,ie,pe,be,me,D);break;default:G&1?E(A,B,$,se,ie,pe,be,me,D):G&6?U(A,B,$,se,ie,pe,be,me,D):(G&64||G&128)&&S.process(A,B,$,se,ie,pe,be,me,D,he)}k!=null&&ie&&setRef(k,A&&A.ref,pe,B||A,!B)},P=(A,B,$,se)=>{if(A==null)i(B.el=l(B.children),$,se);else{const ie=B.el=A.el;B.children!==A.children&&u(ie,B.children)}},C=(A,B,$,se)=>{A==null?i(B.el=g(B.children||""),$,se):B.el=A.el},_=(A,B,$,se)=>{[A.el,A.anchor]=R(A.children,B,$,se,A.el,A.anchor)},I=({el:A,anchor:B},$,se)=>{let ie;for(;A&&A!==B;)ie=y(A),i(A,$,se),A=ie;i(B,$,se)},T=({el:A,anchor:B})=>{let $;for(;A&&A!==B;)$=y(A),s(A),A=$;s(B)},E=(A,B,$,se,ie,pe,be,me,D)=>{B.type==="svg"?be="svg":B.type==="math"&&(be="mathml"),A==null?v(B,$,se,ie,pe,be,me,D):re(A,B,ie,pe,be,me,D)},v=(A,B,$,se,ie,pe,be,me)=>{let D,S;const{props:k,shapeFlag:G,transition:q,dirs:Z}=A;if(D=A.el=f(A.type,pe,k&&k.is,k),G&8?a(D,A.children):G&16&&Y(A.children,D,null,se,ie,resolveChildrenNamespace(A,pe),be,me),Z&&invokeDirectiveHook(A,null,se,"created"),x(D,A,A.scopeId,be,se),k){for(const xe in k)xe!=="value"&&!isReservedProp(xe)&&o(D,xe,null,k[xe],pe,A.children,se,ie,te);"value"in k&&o(D,"value",null,k.value,pe),(S=k.onVnodeBeforeMount)&&invokeVNodeHook(S,se,A)}Z&&invokeDirectiveHook(A,null,se,"beforeMount");const ee=needTransition(ie,q);ee&&q.beforeEnter(D),i(D,B,$),((S=k&&k.onVnodeMounted)||ee||Z)&&queuePostRenderEffect(()=>{S&&invokeVNodeHook(S,se,A),ee&&q.enter(D),Z&&invokeDirectiveHook(A,null,se,"mounted")},ie)},x=(A,B,$,se,ie)=>{if($&&c(A,$),se)for(let pe=0;pe<se.length;pe++)c(A,se[pe]);if(ie){let pe=ie.subTree;if(B===pe){const be=ie.vnode;x(A,be,be.scopeId,be.slotScopeIds,ie.parent)}}},Y=(A,B,$,se,ie,pe,be,me,D=0)=>{for(let S=D;S<A.length;S++){const k=A[S]=me?cloneIfMounted(A[S]):normalizeVNode(A[S]);O(null,k,B,$,se,ie,pe,be,me)}},re=(A,B,$,se,ie,pe,be)=>{const me=B.el=A.el;let{patchFlag:D,dynamicChildren:S,dirs:k}=B;D|=A.patchFlag&16;const G=A.props||EMPTY_OBJ,q=B.props||EMPTY_OBJ;let Z;if($&&toggleRecurse($,!1),(Z=q.onVnodeBeforeUpdate)&&invokeVNodeHook(Z,$,B,A),k&&invokeDirectiveHook(B,A,$,"beforeUpdate"),$&&toggleRecurse($,!0),S?ce(A.dynamicChildren,S,me,$,se,resolveChildrenNamespace(B,ie),pe):be||X(A,B,me,null,$,se,resolveChildrenNamespace(B,ie),pe,!1),D>0){if(D&16)oe(me,B,G,q,$,se,ie);else if(D&2&&G.class!==q.class&&o(me,"class",null,q.class,ie),D&4&&o(me,"style",G.style,q.style,ie),D&8){const ee=B.dynamicProps;for(let xe=0;xe<ee.length;xe++){const Ee=ee[xe],Se=G[Ee],ke=q[Ee];(ke!==Se||Ee==="value")&&o(me,Ee,Se,ke,ie,A.children,$,se,te)}}D&1&&A.children!==B.children&&a(me,B.children)}else!be&&S==null&&oe(me,B,G,q,$,se,ie);((Z=q.onVnodeUpdated)||k)&&queuePostRenderEffect(()=>{Z&&invokeVNodeHook(Z,$,B,A),k&&invokeDirectiveHook(B,A,$,"updated")},se)},ce=(A,B,$,se,ie,pe,be)=>{for(let me=0;me<B.length;me++){const D=A[me],S=B[me],k=D.el&&(D.type===Fragment||!isSameVNodeType(D,S)||D.shapeFlag&70)?m(D.el):$;O(D,S,k,null,se,ie,pe,be,!0)}},oe=(A,B,$,se,ie,pe,be)=>{if($!==se){if($!==EMPTY_OBJ)for(const me in $)!isReservedProp(me)&&!(me in se)&&o(A,me,$[me],null,be,B.children,ie,pe,te);for(const me in se){if(isReservedProp(me))continue;const D=se[me],S=$[me];D!==S&&me!=="value"&&o(A,me,S,D,be,B.children,ie,pe,te)}"value"in se&&o(A,"value",$.value,se.value,be)}},ue=(A,B,$,se,ie,pe,be,me,D)=>{const S=B.el=A?A.el:l(""),k=B.anchor=A?A.anchor:l("");let{patchFlag:G,dynamicChildren:q,slotScopeIds:Z}=B;Z&&(me=me?me.concat(Z):Z),A==null?(i(S,$,se),i(k,$,se),Y(B.children||[],$,k,ie,pe,be,me,D)):G>0&&G&64&&q&&A.dynamicChildren?(ce(A.dynamicChildren,q,$,ie,pe,be,me),(B.key!=null||ie&&B===ie.subTree)&&traverseStaticChildren(A,B,!0)):X(A,B,$,k,ie,pe,be,me,D)},U=(A,B,$,se,ie,pe,be,me,D)=>{B.slotScopeIds=me,A==null?B.shapeFlag&512?ie.ctx.activate(B,$,se,be,D):F(B,$,se,ie,pe,be,D):j(A,B,D)},F=(A,B,$,se,ie,pe,be)=>{const me=A.component=createComponentInstance(A,se,ie);if(isKeepAlive(A)&&(me.ctx.renderer=he),setupComponent(me),me.asyncDep){if(ie&&ie.registerDep(me,H),!A.el){const D=me.subTree=createVNode(Comment);C(null,D,B,$)}}else H(me,A,B,$,ie,pe,be)},j=(A,B,$)=>{const se=B.component=A.component;if(shouldUpdateComponent(A,B,$))if(se.asyncDep&&!se.asyncResolved){N(se,B,$);return}else se.next=B,invalidateJob(se.update),se.effect.dirty=!0,se.update();else B.el=A.el,se.vnode=B},H=(A,B,$,se,ie,pe,be)=>{const me=()=>{if(A.isMounted){let{next:k,bu:G,u:q,parent:Z,vnode:ee}=A;{const Ie=locateNonHydratedAsyncRoot(A);if(Ie){k&&(k.el=ee.el,N(A,k,be)),Ie.asyncDep.then(()=>{A.isUnmounted||me()});return}}let xe=k,Ee;toggleRecurse(A,!1),k?(k.el=ee.el,N(A,k,be)):k=ee,G&&invokeArrayFns(G),(Ee=k.props&&k.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ee,Z,k,ee),toggleRecurse(A,!0);const Se=renderComponentRoot(A),ke=A.subTree;A.subTree=Se,O(ke,Se,m(ke.el),de(ke),A,ie,pe),k.el=Se.el,xe===null&&updateHOCHostEl(A,Se.el),q&&queuePostRenderEffect(q,ie),(Ee=k.props&&k.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ee,Z,k,ee),ie)}else{let k;const{el:G,props:q}=B,{bm:Z,m:ee,parent:xe}=A,Ee=isAsyncWrapper(B);if(toggleRecurse(A,!1),Z&&invokeArrayFns(Z),!Ee&&(k=q&&q.onVnodeBeforeMount)&&invokeVNodeHook(k,xe,B),toggleRecurse(A,!0),G&&M){const Se=()=>{A.subTree=renderComponentRoot(A),M(G,A.subTree,A,ie,null)};Ee?B.type.__asyncLoader().then(()=>!A.isUnmounted&&Se()):Se()}else{const Se=A.subTree=renderComponentRoot(A);O(null,Se,$,se,A,ie,pe),B.el=Se.el}if(ee&&queuePostRenderEffect(ee,ie),!Ee&&(k=q&&q.onVnodeMounted)){const Se=B;queuePostRenderEffect(()=>invokeVNodeHook(k,xe,Se),ie)}(B.shapeFlag&256||xe&&isAsyncWrapper(xe.vnode)&&xe.vnode.shapeFlag&256)&&A.a&&queuePostRenderEffect(A.a,ie),A.isMounted=!0,B=$=se=null}},D=A.effect=new ReactiveEffect(me,NOOP,()=>queueJob(S),A.scope),S=A.update=()=>{D.dirty&&D.run()};S.id=A.uid,toggleRecurse(A,!0),S()},N=(A,B,$)=>{B.component=A;const se=A.vnode.props;A.vnode=B,A.next=null,updateProps(A,B.props,se,$),updateSlots(A,B.children,$),pauseTracking(),flushPreFlushCbs(A),resetTracking()},X=(A,B,$,se,ie,pe,be,me,D=!1)=>{const S=A&&A.children,k=A?A.shapeFlag:0,G=B.children,{patchFlag:q,shapeFlag:Z}=B;if(q>0){if(q&128){W(S,G,$,se,ie,pe,be,me,D);return}else if(q&256){Q(S,G,$,se,ie,pe,be,me,D);return}}Z&8?(k&16&&te(S,ie,pe),G!==S&&a($,G)):k&16?Z&16?W(S,G,$,se,ie,pe,be,me,D):te(S,ie,pe,!0):(k&8&&a($,""),Z&16&&Y(G,$,se,ie,pe,be,me,D))},Q=(A,B,$,se,ie,pe,be,me,D)=>{A=A||EMPTY_ARR,B=B||EMPTY_ARR;const S=A.length,k=B.length,G=Math.min(S,k);let q;for(q=0;q<G;q++){const Z=B[q]=D?cloneIfMounted(B[q]):normalizeVNode(B[q]);O(A[q],Z,$,null,ie,pe,be,me,D)}S>k?te(A,ie,pe,!0,!1,G):Y(B,$,se,ie,pe,be,me,D,G)},W=(A,B,$,se,ie,pe,be,me,D)=>{let S=0;const k=B.length;let G=A.length-1,q=k-1;for(;S<=G&&S<=q;){const Z=A[S],ee=B[S]=D?cloneIfMounted(B[S]):normalizeVNode(B[S]);if(isSameVNodeType(Z,ee))O(Z,ee,$,null,ie,pe,be,me,D);else break;S++}for(;S<=G&&S<=q;){const Z=A[G],ee=B[q]=D?cloneIfMounted(B[q]):normalizeVNode(B[q]);if(isSameVNodeType(Z,ee))O(Z,ee,$,null,ie,pe,be,me,D);else break;G--,q--}if(S>G){if(S<=q){const Z=q+1,ee=Z<k?B[Z].el:se;for(;S<=q;)O(null,B[S]=D?cloneIfMounted(B[S]):normalizeVNode(B[S]),$,ee,ie,pe,be,me,D),S++}}else if(S>q)for(;S<=G;)le(A[S],ie,pe,!0),S++;else{const Z=S,ee=S,xe=new Map;for(S=ee;S<=q;S++){const Pe=B[S]=D?cloneIfMounted(B[S]):normalizeVNode(B[S]);Pe.key!=null&&xe.set(Pe.key,S)}let Ee,Se=0;const ke=q-ee+1;let Ie=!1,Ce=0;const Le=new Array(ke);for(S=0;S<ke;S++)Le[S]=0;for(S=Z;S<=G;S++){const Pe=A[S];if(Se>=ke){le(Pe,ie,pe,!0);continue}let Ae;if(Pe.key!=null)Ae=xe.get(Pe.key);else for(Ee=ee;Ee<=q;Ee++)if(Le[Ee-ee]===0&&isSameVNodeType(Pe,B[Ee])){Ae=Ee;break}Ae===void 0?le(Pe,ie,pe,!0):(Le[Ae-ee]=S+1,Ae>=Ce?Ce=Ae:Ie=!0,O(Pe,B[Ae],$,null,ie,pe,be,me,D),Se++)}const je=Ie?getSequence(Le):EMPTY_ARR;for(Ee=je.length-1,S=ke-1;S>=0;S--){const Pe=ee+S,Ae=B[Pe],Ne=Pe+1<k?B[Pe+1].el:se;Le[S]===0?O(null,Ae,$,Ne,ie,pe,be,me,D):Ie&&(Ee<0||S!==je[Ee]?ae(Ae,$,Ne,2):Ee--)}}},ae=(A,B,$,se,ie=null)=>{const{el:pe,type:be,transition:me,children:D,shapeFlag:S}=A;if(S&6){ae(A.component.subTree,B,$,se);return}if(S&128){A.suspense.move(B,$,se);return}if(S&64){be.move(A,B,$,he);return}if(be===Fragment){i(pe,B,$);for(let G=0;G<D.length;G++)ae(D[G],B,$,se);i(A.anchor,B,$);return}if(be===Static){I(A,B,$);return}if(se!==2&&S&1&&me)if(se===0)me.beforeEnter(pe),i(pe,B,$),queuePostRenderEffect(()=>me.enter(pe),ie);else{const{leave:G,delayLeave:q,afterLeave:Z}=me,ee=()=>i(pe,B,$),xe=()=>{G(pe,()=>{ee(),Z&&Z()})};q?q(pe,ee,xe):xe()}else i(pe,B,$)},le=(A,B,$,se=!1,ie=!1)=>{const{type:pe,props:be,ref:me,children:D,dynamicChildren:S,shapeFlag:k,patchFlag:G,dirs:q}=A;if(me!=null&&setRef(me,null,$,A,!0),k&256){B.ctx.deactivate(A);return}const Z=k&1&&q,ee=!isAsyncWrapper(A);let xe;if(ee&&(xe=be&&be.onVnodeBeforeUnmount)&&invokeVNodeHook(xe,B,A),k&6)ne(A.component,$,se);else{if(k&128){A.suspense.unmount($,se);return}Z&&invokeDirectiveHook(A,null,B,"beforeUnmount"),k&64?A.type.remove(A,B,$,ie,he,se):S&&(pe!==Fragment||G>0&&G&64)?te(S,B,$,!1,!0):(pe===Fragment&&G&384||!ie&&k&16)&&te(D,B,$),se&&K(A)}(ee&&(xe=be&&be.onVnodeUnmounted)||Z)&&queuePostRenderEffect(()=>{xe&&invokeVNodeHook(xe,B,A),Z&&invokeDirectiveHook(A,null,B,"unmounted")},$)},K=A=>{const{type:B,el:$,anchor:se,transition:ie}=A;if(B===Fragment){J($,se);return}if(B===Static){T(A);return}const pe=()=>{s($),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(A.shapeFlag&1&&ie&&!ie.persisted){const{leave:be,delayLeave:me}=ie,D=()=>be($,pe);me?me(A.el,pe,D):D()}else pe()},J=(A,B)=>{let $;for(;A!==B;)$=y(A),s(A),A=$;s(B)},ne=(A,B,$)=>{const{bum:se,scope:ie,update:pe,subTree:be,um:me}=A;se&&invokeArrayFns(se),ie.stop(),pe&&(pe.active=!1,le(be,A,B,$)),me&&queuePostRenderEffect(me,B),queuePostRenderEffect(()=>{A.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},te=(A,B,$,se=!1,ie=!1,pe=0)=>{for(let be=pe;be<A.length;be++)le(A[be],B,$,se,ie)},de=A=>A.shapeFlag&6?de(A.component.subTree):A.shapeFlag&128?A.suspense.next():y(A.anchor||A.el);let _e=!1;const ye=(A,B,$)=>{A==null?B._vnode&&le(B._vnode,null,null,!0):O(B._vnode||null,A,B,null,null,null,$),_e||(_e=!0,flushPreFlushCbs(),flushPostFlushCbs(),_e=!1),B._vnode=A},he={p:O,um:le,m:ae,r:K,mt:F,mc:Y,pc:X,pbc:ce,n:de,o:e};let ge,M;return t&&([ge,M]=t(he)),{render:ye,hydrate:ge,createApp:createAppAPI(ye,ge)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const i=e.children,s=t.children;if(isArray(i)&&isArray(s))for(let o=0;o<i.length;o++){const f=i[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=cloneIfMounted(s[o]),l.el=f.el),n||traverseStaticChildren(f,l)),l.type===Text&&(l.el=f.el)}}function getSequence(e){const t=e.slice(),n=[0];let i,s,o,f,l;const g=e.length;for(i=0;i<g;i++){const u=e[i];if(u!==0){if(s=n[n.length-1],e[s]<u){t[i]=s,n.push(i);continue}for(o=0,f=n.length-1;o<f;)l=o+f>>1,e[n[l]]<u?o=l+1:f=l;u<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,f=n[o-1];o-- >0;)n[o]=f,f=t[f];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}const isTeleport=e=>e.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,i,s,o){return setupBlock(createBaseVNode(e,t,n,i,s,o,!0))}function createBlock(e,t,n,i,s){return setupBlock(createVNode(e,t,n,i,s,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,i=0,s=null,o=e===Fragment?0:1,f=!1,l=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(g,n),o&128&&e.normalize(g)):n&&(g.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!f&&currentBlock&&(g.patchFlag>0||o&6)&&g.patchFlag!==32&&currentBlock.push(g),g}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,i=0,s=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const l=cloneVNode(e,t,!0);return n&&normalizeChildren(l,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=l:currentBlock.push(l)),l.patchFlag|=-2,l}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:g}=t;l&&!isString(l)&&(t.class=normalizeClass(l)),isObject(g)&&(isProxy(g)&&!isArray(g)&&(g=extend({},g)),t.style=normalizeStyle(g))}const f=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,n,i,s,f,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:i,ref:s,patchFlag:o,children:f}=e,l=t?mergeProps(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&normalizeKey(l),ref:t&&t.ref?n&&s?isArray(s)?s.concat(normalizeRef(t)):[s,normalizeRef(t)]:normalizeRef(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(isArray(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),i&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(s==="style")t.style=normalizeStyle([t.style,i.style]);else if(isOn(s)){const o=t[s],f=i[s];f&&o!==f&&!(isArray(o)&&o.includes(f))&&(t[s]=o?[].concat(o,f):f)}else s!==""&&(t[s]=i[s])}return t}function invokeVNodeHook(e,t,n,i=null){callWithAsyncErrorHandling(e,t,7,[n,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,s),emitsOptions:normalizeEmitsOptions(i,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),o=>{s.length>1?s.forEach(f=>f(o)):s[0](o)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){t&&setInSSRSetupState(t);const{props:n,children:i}=e.vnode,s=isStatefulComponent(e);initProps(e,n,s,t),initSlots(e,i);const o=s?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),o}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?createSetupContext(e):null,o=setCurrentInstance(e);pauseTracking();const f=callWithErrorHandling(i,e,0,[e.props,s]);if(resetTracking(),o(),isPromise(f)){if(f.then(unsetCurrentInstance,unsetCurrentInstance),t)return f.then(l=>{handleSetupResult(e,l,t)}).catch(l=>{handleError(l,e,0)});e.asyncDep=f}else handleSetupResult(e,f,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,t,n){const i=e.type;if(!e.render){if(!t&&compile&&!i.render){const s=i.template||resolveMergedOptions(e).template;if(s){const{isCustomElement:o,compilerOptions:f}=e.appContext.config,{delimiters:l,compilerOptions:g}=i,u=extend(extend({isCustomElement:o,delimiters:l},f),g);i.render=compile(s,u)}}e.render=i.render||NOOP}{const s=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),s()}}}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}}))}function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let i=getComponentName(t);if(!i&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&e&&e.parent){const s=o=>{for(const f in o)if(o[f]===t)return f};i=s(e.components||e.parent.type.components)||s(e.appContext.components)}return i?classify(i):n?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const i=arguments.length;return i===2?isObject(t)&&!isArray(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}const version="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,o){const f=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{templateContainer.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const l=templateContainer.content;if(i==="svg"||i==="mathml"){const g=l.firstChild;for(;g.firstChild;)l.appendChild(g.firstChild);l.removeChild(g)}t.insertBefore(l,n)}return[f?f.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,n){const i=e[vtcKey];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOldKey=Symbol("_vod"),CSS_VAR_TEXT=Symbol("");function patchStyle(e,t,n){const i=e.style,s=i.display,o=isString(n);if(n&&!o){if(t&&!isString(t))for(const f in t)n[f]==null&&setStyle(i,f,"");for(const f in n)setStyle(i,f,n[f])}else if(o){if(t!==n){const f=i[CSS_VAR_TEXT];f&&(n+=";"+f),i.cssText=n}}else t&&e.removeAttribute("style");vShowOldKey in e&&(i.display=s)}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray(n))n.forEach(i=>setStyle(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(i),n.replace(importantRE,""),"important"):e[i]=n}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let i=camelize(t);if(i!=="filter"&&i in e)return prefixCache[t]=i;i=capitalize(i);for(let s=0;s<prefixes$1.length;s++){const o=prefixes$1[s]+i;if(o in e)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const o=isSpecialBooleanAttr(t);n==null||o&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function patchDOMProp(e,t,n,i,s,o,f){if(t==="innerHTML"||t==="textContent"){i&&f(i,s,o),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const u=l==="OPTION"?e.getAttribute("value"):e.value,a=n??"";u!==a&&(e.value=a),n==null&&e.removeAttribute(t);return}let g=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=includeBooleanAttr(n):n==null&&u==="string"?(n="",g=!0):u==="number"&&(n=0,g=!0)}try{e[t]=n}catch{}g&&e.removeAttribute(t)}function addEventListener(e,t,n,i){e.addEventListener(t,n,i)}function removeEventListener(e,t,n,i){e.removeEventListener(t,n,i)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,i,s=null){const o=e[veiKey]||(e[veiKey]={}),f=o[t];if(i&&f)f.value=i;else{const[l,g]=parseName(t);if(i){const u=o[t]=createInvoker(i,s);addEventListener(e,l,u,g)}else f&&(removeEventListener(e,l,f,g),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let i;for(;i=e.match(optionsModifierRE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,n.value),t,5,[i])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,i,s,o,f,l,g)=>{const u=s==="svg";t==="class"?patchClass(e,i,u):t==="style"?patchStyle(e,n,i):isOn(t)?isModelListener(t)||patchEvent(e,t,n,i,f):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,i,u))?patchDOMProp(e,t,i,o,f,l,g):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),patchAttr(e,t,i,u))};function shouldSetAsProp(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(t)&&isString(n)?!1:t in e}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=normalizeContainer(i);if(!s)return;const o=t._component;!isFunction(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const f=n(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),f},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const _sfc_main$1={__name:"HandSymbol",props:{handId:{type:Number,required:!0},size:{type:String,default:"20vmin"},hue:{type:Number,default:0},saturation:{type:Number,default:0},lightness:{type:Number,default:50}},setup(e){const t=["rock","paper","scissors"],n=e,i=computed(()=>({color:`hsl(${n.hue}deg ${n.saturation}% ${n.lightness}%)`,fontSize:n.size}));return(s,o)=>{const f=resolveComponent("font-awesome-icon");return openBlock(),createBlock(f,{icon:`fa-regular fa-hand-${t[e.handId]}`,style:normalizeStyle(i.value)},null,8,["icon","style"])}}};var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser={exports:{}};/**
 * Modules in this bundle
 * @license
 *
 * brain.js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Heather Arthur <fayearthur@gmail.com>
 *   homepage: https://github.com/brainjs/brain.js#readme
 *   version: 1.6.1
 *
 * acorn:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   maintainers: Marijn Haverbeke <marijnh@gmail.com>, Ingvar Stepanyan <me@rreverser.com>, Adrian Heine <http://adrianheine.de>
 *   homepage: https://github.com/acornjs/acorn
 *   version: 5.7.2
 *
 * base64-js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: T. Jameson Little <t.jameson.little@gmail.com>
 *   homepage: https://github.com/beatgammit/base64-js
 *   version: 1.3.0
 *
 * buffer:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Feross Aboukhadijeh <feross@feross.org>
 *   contributors: Romain Beauxis <toots@rastageeks.org>, James Halliday <mail@substack.net>
 *   homepage: https://github.com/feross/buffer
 *   version: 4.9.1
 *
 * core-util-is:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Isaac Z. Schlueter <i@izs.me> (http://blog.izs.me/)
 *   version: 1.0.2
 *
 * events:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Irakli Gozalishvili <rfobic@gmail.com> (http://jeditoolkit.com)
 *   version: 1.1.1
 *
 * gpu.js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: The gpu.js Team
 *   homepage: http://gpu.rocks/
 *   version: 1.10.4
 *
 * ieee754:
 *   license: BSD-3-Clause (http://opensource.org/licenses/BSD-3-Clause)
 *   author: Feross Aboukhadijeh <feross@feross.org>
 *   contributors: Romain Beauxis <toots@rastageeks.org>
 *   version: 1.1.12
 *
 * inherits:
 *   license: ISC (http://opensource.org/licenses/ISC)
 *   version: 2.0.3
 *
 * isarray:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Julian Gruber <mail@juliangruber.com>
 *   homepage: https://github.com/juliangruber/isarray
 *   version: 1.0.0
 *
 * process:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Roman Shtylman <shtylman@gmail.com>
 *   version: 0.11.10
 *
 * process-nextick-args:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   homepage: https://github.com/calvinmetcalf/process-nextick-args
 *   version: 2.0.0
 *
 * readable-stream:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   version: 2.3.6
 *
 * safe-buffer:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Feross Aboukhadijeh <feross@feross.org>
 *   homepage: https://github.com/feross/safe-buffer
 *   version: 5.1.2
 *
 * stream-browserify:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: James Halliday <mail@substack.net>
 *   homepage: https://github.com/substack/stream-browserify
 *   version: 2.0.1
 *
 * string_decoder:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   homepage: https://github.com/nodejs/string_decoder
 *   version: 1.1.1
 *
 * thaw.js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Robert Lee Plummer Jr. <robertleeplummerjr@gmail.com>
 *   homepage: https://github.com/robertleeplummerjr/thaw.js#readme
 *   version: 2.0.0
 *
 * timers-browserify:
 *   licenses: MIT (http://opensource.org/licenses/MIT)
 *   author: J. Ryan Stinnett <jryans@gmail.com> (http://convolv.es/)
 *   contributors: Guy Bedford <guybedford@gmail.com>, Ionut-Cristian Florescu <ionut.florescu@gmail.com>, James Halliday <mail@substack.net>, Jan Schr <jscissr@gmail.com>, Johannes Ewald <johannes.ewald@peerigon.com>, Jonathan Prins <jon@blip.tv>, Matt Esch <matt@mattesch.info>
 *   homepage: https://github.com/jryans/timers-browserify
 *   version: 1.4.2
 *
 * util-deprecate:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Nathan Rajlich <nathan@tootallnate.net> (http://n8.io/)
 *   homepage: https://github.com/TooTallNate/util-deprecate
 *   version: 1.0.2
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */(function(module,exports){(function(e){module.exports=e()})(function(){return function(){function e(t,n,i){function s(l,g){if(!n[l]){if(!t[l]){var u=typeof commonjsRequire=="function"&&commonjsRequire;if(!g&&u)return u(l,!0);if(o)return o(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var m=n[l]={exports:{}};t[l][0].call(m.exports,function(y){var c=t[l][1][y];return s(c||y)},m,m.exports,e,t,n,i)}return n[l].exports}for(var o=typeof commonjsRequire=="function"&&commonjsRequire,f=0;f<i.length;f++)s(i[f]);return s}return e}()({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function f(l,g){for(var u=0;u<g.length;u++){var a=g[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,g,u){return g&&f(l.prototype,g),u&&f(l,u),l}}();function s(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function(){function f(l,g){s(this,f),this.Classifier=l,this.options=g,this.json=null}return i(f,[{key:"testPartition",value:function(g,u,a){var m=new this.Classifier(this.options),y=Date.now(),c=m.train(u,g),R=Date.now(),O=m.test(a),P=Date.now(),C=Object.assign({},O,{trainTime:R-y,testTime:P-R,iterations:c.iterations,error:c.error,total:O.total,learningRate:m.trainOpts.learningRate,hiddenLayers:m.hiddenLayers,network:m.toJSON()});return C}},{key:"shuffleArray",value:function(g){for(var u=g.length-1;u>0;u--){var a=Math.floor(Math.random()*(u+1)),m=g[u];g[u]=g[a],g[a]=m}return g}},{key:"train",value:function(g){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4;if(g.length<a)throw new Error("Training set size is too small for "+g.length+" k folds of "+a);var m=g.length/a;if(g.constructor===Array)this.shuffleArray(g);else{var y={};this.shuffleArray(Object.keys(g)).forEach(function(Y){y[Y]=g[Y]}),g=y}for(var c={trainTime:0,testTime:0,iterations:0,error:0},R={total:0},O={total:0,truePos:0,trueNeg:0,falsePos:0,falseNeg:0},P=[],C=void 0,_=null,I=0;I<a;I++){var T=g.slice(0),E=T.splice(I*m,m),v=T,x=this.testPartition(u,v,E);_===null&&(_=x.hasOwnProperty("falseNeg")&&x.hasOwnProperty("falsePos")&&x.hasOwnProperty("trueNeg")&&x.hasOwnProperty("truePos"),_&&Object.assign(R,O));for(C in c)C in c&&(c[C]+=x[C]);for(C in R)C in R&&(R[C]+=x[C]);P.push(x)}for(C in c)C in c&&(c[C]/=a);return _&&(R.precision=R.truePos/(R.truePos+R.falsePos),R.recall=R.truePos/(R.truePos+R.falseNeg),R.accuracy=(R.trueNeg+R.truePos)/R.total),R.testSize=m,R.trainSize=g.length-m,this.json={avgs:c,stats:R,sets:P}}},{key:"toNeuralNetwork",value:function(){return this.fromJSON(this.json)}},{key:"toJSON",value:function(){return this.json}},{key:"fromJSON",value:function(g){var u=this.Classifier,a=g.sets.reduce(function(y,c){return y.error<c.error?y:c},{error:1/0}).network;if(u.fromJSON)return u.fromJSON(a);var m=new u;return m.fromJSON(a),m}}]),f}();n.default=o},{}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){var f=o.run(s),l=null,g=-1;for(var u in f){var a=f[u];a>g&&(l=u,g=a)}return l}},{}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s=function(){function l(g,u){for(var a=0;a<u.length;a++){var m=u[a];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,u,a){return u&&l(g.prototype,u),a&&l(g,a),g}}();function o(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}var f=function(){function l(){o(this,l)}return s(l,null,[{key:"toTable",value:function(u){var a=u.reduce(function(m,y){return Object.assign(m,y)},{});return l.toHash(a)}},{key:"toTable2D",value:function(u){for(var a={},m=0,y=0;y<u.length;y++)for(var c=u[y],R=0;R<c.length;R++){var O=c[R];for(var P in O)O.hasOwnProperty(P)&&!a.hasOwnProperty(P)&&(a[P]=m++)}return a}},{key:"toInputTable",value:function(u){for(var a={},m=0,y=0;y<u.length;y++)for(var c in u[y].input)a.hasOwnProperty(c)||(a[c]=m++);return a}},{key:"toInputTable2D",value:function(u){for(var a={},m=0,y=0;y<u.length;y++)for(var c=u[y].input,R=0;R<c.length;R++){var O=c[R];for(var P in O)a.hasOwnProperty(P)||(a[P]=m++)}return a}},{key:"toOutputTable",value:function(u){for(var a={},m=0,y=0;y<u.length;y++)for(var c in u[y].output)a.hasOwnProperty(c)||(a[c]=m++);return a}},{key:"toOutputTable2D",value:function(u){for(var a={},m=0,y=0;y<u.length;y++)for(var c=u[y].output,R=0;R<c.length;R++){var O=c[R];for(var P in O)a.hasOwnProperty(P)||(a[P]=m++)}return a}},{key:"toHash",value:function(u){var a={},m=0;for(var y in u)a[y]=m++;return a}},{key:"toArray",value:function(u,a,m){var y=new Float32Array(m);for(var c in u)y[u[c]]=a.hasOwnProperty(c)?a[c]:0;return y}},{key:"toArrayShort",value:function(u,a){var m=[];for(var y in u){if(!a.hasOwnProperty(y))break;m[u[y]]=a[y]}return Float32Array.from(m)}},{key:"toArrays",value:function(u,a,m){for(var y=[],c=0;c<a.length;c++)y.push(this.toArray(u,a[c],m));return y}},{key:"toObject",value:function(u,a){var m={};for(var y in u)m[y]=a[u[y]];return m}},{key:"toObjectPartial",value:function(u,a){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c={},R=0;for(var O in u)m>0&&R++<m||y>0&&R++>=y||(c[O]=a[u[O]-m]);return c}},{key:"lookupFromArray",value:function(u){for(var a={},m=0,y=u.length;y-- >0;)a[u[y]]=m++;return a}},{key:"dataShape",value:function(u){var a=[];u.input?(a.push("datum"),u=u.input):Array.isArray(u)&&(u[0].input?(a.push("array","datum"),u=u[0].input):(a.push("array"),u=u[0]));for(var m=void 0;u;){for(m in u)break;if(!u.hasOwnProperty(m))break;if(Array.isArray(u)||u.buffer instanceof ArrayBuffer)a.push("array"),u=u[m];else if((typeof u>"u"?"undefined":i(u))==="object")a.push("object"),u=u[m];else throw new Error("unhandled signature")}return a.push(typeof u>"u"?"undefined":i(u)),a}},{key:"addKeys",value:function(u,a){if(!Array.isArray(u)){a=a||{};var m=Object.keys(a).length;for(var y in u)u.hasOwnProperty(y)&&(a.hasOwnProperty(y)||(a[y]=m++));return a}}}]),l}();n.default=f},{}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function F(j,H){for(var N=0;N<H.length;N++){var X=H[N];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(j,X.key,X)}}return function(j,H,N){return H&&F(j.prototype,H),N&&F(j,N),j}}(),s=function F(j,H,N){j===null&&(j=Function.prototype);var X=Object.getOwnPropertyDescriptor(j,H);if(X===void 0){var Q=Object.getPrototypeOf(j);return Q===null?void 0:F(Q,H,N)}else{if("value"in X)return X.value;var W=X.get;return W===void 0?void 0:W.call(N)}},o=e("./neural-network"),f=m(o),l=e("./lookup"),g=m(l),u=e("gpu.js"),a=m(u);function m(F){return F&&F.__esModule?F:{default:F}}function y(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}function c(F,j){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:F}function R(F,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);F.prototype=Object.create(j&&j.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(F,j):F.__proto__=j)}var O=function(F){R(j,F);function j(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y(this,j);var N=c(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,H));return N.forwardPropagate=[],N.backwardPropagate=[],N.changesPropagate=[],N.biasesPropagate=[],N.biasCopies=[],N.copyBias=[],N.changesCopies=[],N.copyChanges=[],N.weightsCopies=[],N.copyWeights=[],N.errorCheckInterval=100,N.gpu=new a.default({mode:H.mode}),N}return i(j,[{key:"initialize",value:function(){s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"initialize",this).call(this),this.buildRunInput(),this.buildCalculateDeltas(),this.buildGetChanges(),this.buildChangeBiases(),this.buildGetMSE()}},{key:"setActivation",value:function(){}},{key:"trainPattern",value:function(N,X){return this.runInput(N.input),this.calculateDeltas(N.output),this.adjustWeights(),X?this.getMSE(this.errors[this.outputLayer])[0]:null}},{key:"adjustWeights",value:function(){this.getChanges(),this.changeBiases()}},{key:"buildRunInput",value:function(){var N=null;switch(this.activation){case"sigmoid":N=P;break;case"relu":N=C;break;case"leaky-relu":N=_;break;case"tanh":N=I;break;default:throw new Error("unknown activation "+this.activation)}for(var X=1;X<=this.outputLayer;X++)this.forwardPropagate[X]=this.gpu.createKernel(N,{output:[this.sizes[X]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.sizes[X-1]}});this.texturizeInputData=this.gpu.createKernel(function(Q){return Q[this.thread.x]},{output:[this.sizes[1]],outputToTexture:!0,hardcodeConstants:!0,outputImmutable:!0})}},{key:"runInput",value:function(N){var X=void 0;this.outputs[0]=N;for(var Q=1;Q<=this.outputLayer;Q++)this.outputs[Q]=this.forwardPropagate[Q](this.weights[Q],this.biases[Q],N),X=N=this.outputs[Q];return X}},{key:"buildCalculateDeltas",value:function(){var N=null;switch(this.activation){case"sigmoid":N=E;break;case"relu":N=v;break;case"leaky-relu":N=x;break;case"tanh":N=Y;break;default:throw new Error("unknown activation "+this.activation)}for(var X=this.outputLayer;X>0;X--)X===this.outputLayer?this.backwardPropagate[X]=this.gpu.createKernelMap({error:a.default.alias("calcErrorOutput",T),deltas:a.default.alias("calcDeltas",N)},function(Q,W){var ae=Q[this.thread.x];return N(T(ae,W),ae)},{output:[this.sizes[X]],outputToTexture:!0,hardcodeConstants:!0}):this.backwardPropagate[X]=this.gpu.createKernelMap({error:a.default.alias("calcError",re),deltas:a.default.alias("calcDeltas",N)},function(Q,W,ae){var le=W[this.thread.x];return N(re(Q,ae),le)},{output:[this.sizes[X]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.deltas[X+1].length}})}},{key:"calculateDeltas",value:function(N){for(var X=this.outputLayer;X>0;X--){var Q=void 0;X===this.outputLayer?Q=this.backwardPropagate[X](this.outputs[X],N):Q=this.backwardPropagate[X](this.weights[X+1],this.outputs[X],this.deltas[X+1]),this.deltas[X]=Q.deltas,this.errors[X]=Q.error}}},{key:"buildGetChanges",value:function(){for(var N=1;N<=this.outputLayer;N++)this.changesPropagate[N]=this.gpu.createKernelMap({weights:a.default.alias("addWeights",oe),changes:a.default.alias("calcChanges",ce)},function(X,Q,W,ae){var le=ce(ae,Q,X);return oe(le,W)},{output:[this.sizes[N-1],this.sizes[N]],outputToTexture:!0,hardcodeConstants:!0,constants:{size:this.outputs[N-1].length,learningRate:this.trainOpts.learningRate,momentum:this.trainOpts.momentum}}),this.copyChanges[N]=this.gpu.createKernel(function(X){return X[this.thread.y][this.thread.x]},{output:this.changesPropagate[N].output,outputToTexture:!0,hardCodeConstants:!0}),this.copyWeights[N]=this.gpu.createKernel(function(X){return X[this.thread.y][this.thread.x]},{output:this.changesPropagate[N].output,outputToTexture:!0,hardCodeConstants:!0})}},{key:"getChanges",value:function(){for(var N=1;N<=this.outputLayer;N++){var X=this.changesPropagate[N](this.outputs[N-1],this.deltas[N],this.weightsCopies[N]||this.weights[N],this.changesCopies[N]||this.changes[N]);this.changes[N]=X.changes,this.weights[N]=X.weights,this.changesCopies[N]=this.copyChanges[N](X.changes),this.weightsCopies[N]=this.copyWeights[N](X.weights)}}},{key:"buildChangeBiases",value:function(){for(var N=1;N<=this.outputLayer;N++)this.biasesPropagate[N]=this.gpu.createKernel(ue,{output:[this.sizes[N]],outputToTexture:!0,hardcodeConstants:!0,constants:{learningRate:this.trainOpts.learningRate}}),this.copyBias[N]=this.gpu.createKernel(function(X){return X[this.thread.x]},{output:this.biasesPropagate[N].output,outputToTexture:!0,hardCodeConstants:!0})}},{key:"changeBiases",value:function(){for(var N=1;N<=this.outputLayer;N++)this.biases[N]=this.biasesPropagate[N](this.biasCopies[N]||this.biases[N],this.deltas[N]),this.biasCopies[N]=this.copyBias[N](this.biases[N])}},{key:"buildGetMSE",value:function(){this.getMSE=this.gpu.createKernel(U,{output:[1],hardcodeConstants:!0,constants:{size:this.sizes[this.outputLayer]}})}},{key:"run",value:function(N){if(!this.isRunnable)return null;this.inputLookup&&(N=g.default.toArray(this.inputLookup,N,this.inputLookupLength));var X=this.texturizeInputData(N),Q=this.runInput(X),W=void 0;return Q.toArray?W=Q.toArray(this.gpu):W=Q,this.outputLookup&&(W=g.default.toObject(this.outputLookup,W)),W}},{key:"prepTraining",value:function(N,X){var Q=this;this.updateTrainingOptions(X),N=this.formatData(N);var W=Date.now()+this.trainOpts.timeout,ae={error:1,iterations:0};this.verifyIsInitialized(N);var le=this.gpu.createKernel(function(K){return K[this.thread.x]},{output:[N[0].output.length],outputToTexture:!0,hardcodeConstants:!0,outputImmutable:!0});return{data:N.map(function(K){return{input:Q.texturizeInputData(K.input),output:le(K.output)}}),status:ae,endTime:W}}},{key:"toJSON",value:function(){var N=this;if(!this.weights[1].toArray)return s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"toJSON",this).call(this);for(var X=[],Q=[],W=1;W<=this.outputLayer;W++)X[W]=Array.from(this.weights[W].toArray(this.gpu)),Q[W]=Array.from(this.biases[W].toArray(this.gpu));return f.default.prototype.toJSON.call({inputLookup:this.inputLookup,outputLookup:this.outputLookup,outputLayer:this.outputLayer,sizes:this.sizes,getTrainOptsJSON:function(){return N.getTrainOptsJSON()},weights:X,biases:Q})}}]),j}(f.default);n.default=O;function P(F,j,H){for(var N=j[this.thread.x],X=0;X<this.constants.size;X++)N+=F[this.thread.x][X]*H[X];return 1/(1+Math.exp(-N))}function C(F,j,H){for(var N=j[this.thread.x],X=0;X<this.constants.size;X++)N+=F[this.thread.x][X]*H[X];return N<0?0:N}function _(F,j,H){for(var N=j[this.thread.x],X=0;X<this.constants.size;X++)N+=F[this.thread.x][X]*H[X];return N<0?0:.01*N}function I(F,j,H){for(var N=j[this.thread.x],X=0;X<this.constants.size;X++)N+=F[this.thread.x][X]*H[X];return Math.tanh(N)}function T(F,j){return j[this.thread.x]-F}function E(F,j){return F*j*(1-j)}function v(F,j){return j>0?F:0}function x(F,j){return j>0?F:.01*F}function Y(F,j){return(1-j*j)*F}function re(F,j){for(var H=0,N=0;N<this.constants.size;N++)H+=j[N]*F[N][this.thread.x];return H}function ce(F,j,H){return this.constants.learningRate*j[this.thread.y]*H[this.thread.x]+this.constants.momentum*F[this.thread.y][this.thread.x]}function oe(F,j){return F+j[this.thread.y][this.thread.x]}function ue(F,j){return F[this.thread.x]+j[this.thread.x]*this.constants.learningRate}function U(F){for(var j=0,H=0;H<this.constants.size;H++)j+=Math.pow(F[H],2);return j/this.constants.size}},{"./lookup":3,"./neural-network":5,"gpu.js":89}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function oe(ue,U){for(var F=0;F<U.length;F++){var j=U[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(ue,j.key,j)}}return function(ue,U,F){return U&&oe(ue.prototype,U),F&&oe(ue,F),ue}}(),s=e("thaw.js"),o=x(s),f=e("./lookup"),l=x(f),g=e("./utilities/max"),u=x(g),a=e("./utilities/mse"),m=x(a),y=e("./utilities/randos"),c=x(y),R=e("./utilities/range"),O=x(R),P=e("./utilities/to-array"),C=x(P),_=e("./utilities/zeros"),I=x(_),T=e("./utilities/lookup-table"),E=x(T),v=e("./utilities/cast");function x(oe){return oe&&oe.__esModule?oe:{default:oe}}function Y(oe,ue){if(!(oe instanceof ue))throw new TypeError("Cannot call a class as a function")}var re=function(){i(oe,null,[{key:"trainDefaults",get:function(){return{iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.3,momentum:.1,callback:null,callbackPeriod:10,timeout:1/0,praxis:null,beta1:.9,beta2:.999,epsilon:1e-8}}},{key:"defaults",get:function(){return{leakyReluAlpha:.01,binaryThresh:.5,hiddenLayers:null,activation:"sigmoid"}}}]);function oe(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Y(this,oe),Object.assign(this,this.constructor.defaults,ue),this.trainOpts={},this.updateTrainingOptions(Object.assign({},this.constructor.trainDefaults,ue)),this.sizes=null,this.outputLayer=null,this.biases=null,this.weights=null,this.outputs=null,this.deltas=null,this.changes=null,this.errors=null,this.errorCheckInterval=1,this.constructor.prototype.hasOwnProperty("runInput")||(this.runInput=null),this.constructor.prototype.hasOwnProperty("calculateDeltas")||(this.calculateDeltas=null),this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null}return i(oe,[{key:"initialize",value:function(){if(!this.sizes)throw new Error("Sizes must be set before initializing");this.outputLayer=this.sizes.length-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[];for(var U=0;U<=this.outputLayer;U++){var F=this.sizes[U];if(this.deltas[U]=(0,I.default)(F),this.errors[U]=(0,I.default)(F),this.outputs[U]=(0,I.default)(F),U>0){this.biases[U]=(0,c.default)(F),this.weights[U]=new Array(F),this.changes[U]=new Array(F);for(var j=0;j<F;j++){var H=this.sizes[U-1];this.weights[U][j]=(0,c.default)(H),this.changes[U][j]=(0,I.default)(H)}}}this.setActivation(),this.trainOpts.praxis==="adam"&&this._setupAdam()}},{key:"setActivation",value:function(U){switch(this.activation=U||this.activation,this.activation){case"sigmoid":this.runInput=this.runInput||this._runInputSigmoid,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasSigmoid;break;case"relu":this.runInput=this.runInput||this._runInputRelu,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasRelu;break;case"leaky-relu":this.runInput=this.runInput||this._runInputLeakyRelu,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasLeakyRelu;break;case"tanh":this.runInput=this.runInput||this._runInputTanh,this.calculateDeltas=this.calculateDeltas||this._calculateDeltasTanh;break;default:throw new Error("unknown activation "+this.activation+", The activation should be one of ['sigmoid', 'relu', 'leaky-relu', 'tanh']")}}},{key:"run",value:function(U){if(!this.isRunnable)return null;this.inputLookup&&(U=l.default.toArray(this.inputLookup,U,this.inputLookupLength));var F=this.runInput(U).slice(0);return this.outputLookup&&(F=l.default.toObject(this.outputLookup,F)),F}},{key:"_runInputSigmoid",value:function(U){this.outputs[0]=U;for(var F=null,j=1;j<=this.outputLayer;j++){for(var H=0;H<this.sizes[j];H++){for(var N=this.weights[j][H],X=this.biases[j][H],Q=0;Q<N.length;Q++)X+=N[Q]*U[Q];this.outputs[j][H]=1/(1+Math.exp(-X))}F=U=this.outputs[j]}return F}},{key:"_runInputRelu",value:function(U){this.outputs[0]=U;for(var F=null,j=1;j<=this.outputLayer;j++){for(var H=0;H<this.sizes[j];H++){for(var N=this.weights[j][H],X=this.biases[j][H],Q=0;Q<N.length;Q++)X+=N[Q]*U[Q];this.outputs[j][H]=X<0?0:X}F=U=this.outputs[j]}return F}},{key:"_runInputLeakyRelu",value:function(U){this.outputs[0]=U;for(var F=this.leakyReluAlpha,j=null,H=1;H<=this.outputLayer;H++){for(var N=0;N<this.sizes[H];N++){for(var X=this.weights[H][N],Q=this.biases[H][N],W=0;W<X.length;W++)Q+=X[W]*U[W];this.outputs[H][N]=Q<0?0:F*Q}j=U=this.outputs[H]}return j}},{key:"_runInputTanh",value:function(U){this.outputs[0]=U;for(var F=null,j=1;j<=this.outputLayer;j++){for(var H=0;H<this.sizes[j];H++){for(var N=this.weights[j][H],X=this.biases[j][H],Q=0;Q<N.length;Q++)X+=N[Q]*U[Q];this.outputs[j][H]=Math.tanh(X)}F=U=this.outputs[j]}return F}},{key:"verifyIsInitialized",value:function(U){var F=this;this.sizes||(this.sizes=[],this.sizes.push(U[0].input.length),this.hiddenLayers?this.hiddenLayers.forEach(function(j){F.sizes.push(j)}):this.sizes.push(Math.max(3,Math.floor(U[0].input.length/2))),this.sizes.push(U[0].output.length),this.initialize())}},{key:"updateTrainingOptions",value:function(U){var F=this.constructor.trainDefaults;for(var j in F)F.hasOwnProperty(j)&&(this.trainOpts[j]=U.hasOwnProperty(j)?U[j]:F[j]);this.validateTrainingOptions(this.trainOpts),this.setLogMethod(U.log||this.trainOpts.log),this.activation=U.activation||this.activation}},{key:"validateTrainingOptions",value:function(U){var F={iterations:function(N){return typeof N=="number"&&N>0},errorThresh:function(N){return typeof N=="number"&&N>0&&N<1},log:function(N){return typeof N=="function"||typeof N=="boolean"},logPeriod:function(N){return typeof N=="number"&&N>0},learningRate:function(N){return typeof N=="number"&&N>0&&N<1},momentum:function(N){return typeof N=="number"&&N>0&&N<1},callback:function(N){return typeof N=="function"||N===null},callbackPeriod:function(N){return typeof N=="number"&&N>0},timeout:function(N){return typeof N=="number"&&N>0}};for(var j in F)if(F.hasOwnProperty(j)&&U.hasOwnProperty(j)&&!F[j](U[j]))throw new Error("["+j+", "+U[j]+"] is out of normal training range, your network will probably not train.")}},{key:"getTrainOptsJSON",value:function(){var U=this;return Object.keys(this.constructor.trainDefaults).reduce(function(F,j){return j==="timeout"&&U.trainOpts[j]===1/0||j==="callback"||(U.trainOpts[j]&&(F[j]=U.trainOpts[j]),j==="log"&&(F.log=typeof F.log=="function")),F},{})}},{key:"setLogMethod",value:function(U){typeof U=="function"?this.trainOpts.log=U:U?this.trainOpts.log=console.log:this.trainOpts.log=!1}},{key:"calculateTrainingError",value:function(U){for(var F=0,j=0;j<U.length;++j)F+=this.trainPattern(U[j],!0);return F/U.length}},{key:"trainPatterns",value:function(U){for(var F=0;F<U.length;++F)this.trainPattern(U[F])}},{key:"trainingTick",value:function(U,F,j){return F.iterations>=this.trainOpts.iterations||F.error<=this.trainOpts.errorThresh||Date.now()>=j?!1:(F.iterations++,this.trainOpts.log&&F.iterations%this.trainOpts.logPeriod===0?(F.error=this.calculateTrainingError(U),this.trainOpts.log("iterations: "+F.iterations+", training error: "+F.error)):F.iterations%this.errorCheckInterval===0?F.error=this.calculateTrainingError(U):this.trainPatterns(U),this.trainOpts.callback&&F.iterations%this.trainOpts.callbackPeriod===0&&this.trainOpts.callback({iterations:F.iterations,error:F.error}),!0)}},{key:"prepTraining",value:function(U,F){this.updateTrainingOptions(F),U=this.formatData(U);var j=Date.now()+this.trainOpts.timeout,H={error:1,iterations:0};return this.verifyIsInitialized(U),{data:U,status:H,endTime:j}}},{key:"train",value:function(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=void 0,H=void 0,N=this.prepTraining(U,F);for(U=N.data,j=N.status,H=N.endTime;this.trainingTick(U,j,H););return j}},{key:"trainAsync",value:function(U){var F=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=void 0,N=void 0,X=this.prepTraining(U,j);return U=X.data,H=X.status,N=X.endTime,new Promise(function(Q,W){try{var ae=new o.default(new Array(F.trainOpts.iterations),{delay:!0,each:function(){return F.trainingTick(U,H,N)||ae.stop()},done:function(){return Q(H)}});ae.tick()}catch(le){W({trainError:le,status:H})}})}},{key:"trainPattern",value:function(U,F){return this.runInput(U.input),this.calculateDeltas(U.output),this.adjustWeights(),F?(0,m.default)(this.errors[this.outputLayer]):null}},{key:"_calculateDeltasSigmoid",value:function(U){for(var F=this.outputLayer;F>=0;F--)for(var j=0;j<this.sizes[F];j++){var H=this.outputs[F][j],N=0;if(F===this.outputLayer)N=U[j]-H;else for(var X=this.deltas[F+1],Q=0;Q<X.length;Q++)N+=X[Q]*this.weights[F+1][Q][j];this.errors[F][j]=N,this.deltas[F][j]=N*H*(1-H)}}},{key:"_calculateDeltasRelu",value:function(U){for(var F=this.outputLayer;F>=0;F--)for(var j=0;j<this.sizes[F];j++){var H=this.outputs[F][j],N=0;if(F===this.outputLayer)N=U[j]-H;else for(var X=this.deltas[F+1],Q=0;Q<X.length;Q++)N+=X[Q]*this.weights[F+1][Q][j];this.errors[F][j]=N,this.deltas[F][j]=H>0?N:0}}},{key:"_calculateDeltasLeakyRelu",value:function(U){for(var F=this.leakyReluAlpha,j=this.outputLayer;j>=0;j--)for(var H=0;H<this.sizes[j];H++){var N=this.outputs[j][H],X=0;if(j===this.outputLayer)X=U[H]-N;else for(var Q=this.deltas[j+1],W=0;W<Q.length;W++)X+=Q[W]*this.weights[j+1][W][H];this.errors[j][H]=X,this.deltas[j][H]=N>0?X:F*X}}},{key:"_calculateDeltasTanh",value:function(U){for(var F=this.outputLayer;F>=0;F--)for(var j=0;j<this.sizes[F];j++){var H=this.outputs[F][j],N=0;if(F===this.outputLayer)N=U[j]-H;else for(var X=this.deltas[F+1],Q=0;Q<X.length;Q++)N+=X[Q]*this.weights[F+1][Q][j];this.errors[F][j]=N,this.deltas[F][j]=(1-H*H)*N}}},{key:"adjustWeights",value:function(){for(var U=1;U<=this.outputLayer;U++)for(var F=this.outputs[U-1],j=0;j<this.sizes[U];j++){for(var H=this.deltas[U][j],N=0;N<F.length;N++){var X=this.changes[U][j][N];X=this.trainOpts.learningRate*H*F[N]+this.trainOpts.momentum*X,this.changes[U][j][N]=X,this.weights[U][j][N]+=X}this.biases[U][j]+=this.trainOpts.learningRate*H}}},{key:"_setupAdam",value:function(){this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0;for(var U=0;U<=this.outputLayer;U++){var F=this.sizes[U];if(U>0){this.biasChangesLow[U]=(0,I.default)(F),this.biasChangesHigh[U]=(0,I.default)(F),this.changesLow[U]=new Array(F),this.changesHigh[U]=new Array(F);for(var j=0;j<F;j++){var H=this.sizes[U-1];this.changesLow[U][j]=(0,I.default)(H),this.changesHigh[U][j]=(0,I.default)(H)}}}this.adjustWeights=this._adjustWeightsAdam}},{key:"_adjustWeightsAdam",value:function(){var U=this.trainOpts;this.iterations++;for(var F=1;F<=this.outputLayer;F++)for(var j=this.outputs[F-1],H=0;H<this.sizes[F];H++){for(var N=this.deltas[F][H],X=0;X<j.length;X++){var Q=N*j[X],W=this.changesLow[F][H][X]*U.beta1+(1-U.beta1)*Q,ae=this.changesHigh[F][H][X]*U.beta2+(1-U.beta2)*Q*Q,le=W/(1-Math.pow(U.beta1,this.iterations)),K=ae/(1-Math.pow(U.beta2,this.iterations));this.changesLow[F][H][X]=W,this.changesHigh[F][H][X]=ae,this.weights[F][H][X]+=this.trainOpts.learningRate*le/(Math.sqrt(K)+U.epsilon)}var J=this.deltas[F][H],ne=this.biasChangesLow[F][H]*U.beta1+(1-U.beta1)*J,te=this.biasChangesHigh[F][H]*U.beta2+(1-U.beta2)*J*J,de=this.biasChangesLow[F][H]/(1-Math.pow(U.beta1,this.iterations)),_e=this.biasChangesHigh[F][H]/(1-Math.pow(U.beta2,this.iterations));this.biasChangesLow[F][H]=ne,this.biasChangesHigh[F][H]=te,this.biases[F][H]+=U.learningRate*de/(Math.sqrt(_e)+U.epsilon)}}},{key:"formatData",value:function(U){if(Array.isArray(U)||(U=[U]),!Array.isArray(U[0].input))if(this.inputLookup)this.inputLookupLength=Object.keys(this.inputLookup).length;else{var F=new E.default(U,"input");this.inputLookup=F.table,this.inputLookupLength=F.length}if(!Array.isArray(U[0].output))if(this.outputLookup)this.outputLookupLength=Object.keys(this.outputLookup).length;else{var j=new E.default(U,"output");this.outputLookup=j.table,this.outputLookupLength=j.length}if(typeof this._formatInput>"u"&&(this._formatInput=ce(U[0].input,this.inputLookup),this._formatOutput=ce(U[0].output,this.outputLookup)),this._formatInput&&this._formatOutput){for(var H=[],N=0;N<U.length;N++)H.push({input:this._formatInput(U[N].input),output:this._formatOutput(U[N].output)});return H}else if(this._formatInput){for(var X=[],Q=0;Q<U.length;Q++)X.push({input:this._formatInput(U[Q].input),output:U[Q].output});return X}else if(this._formatOutput){for(var W=[],ae=0;ae<U.length;ae++)W.push({input:U[ae].input,output:this._formatOutput(U[ae].output)});return W}return U}},{key:"addFormat",value:function(U){this.inputLookup=l.default.addKeys(U.input,this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=l.default.addKeys(U.output,this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length)}},{key:"test",value:function(U){var F=this;U=this.formatData(U);var j=U[0].output.length===1,H=[],N=0;if(j){for(var X=0,Q=0,W=0,ae=0,le=function(te){var de=F.runInput(U[te].input),_e=U[te].output,ye=de[0]>F.binaryThresh?1:0,he=_e[0];if(ye!==he){var ge=U[te];H.push({input:ge.input,output:ge.output,actual:ye,expected:he})}ye===0&&he===0?ae++:ye===1&&he===1?W++:ye===0&&he===1?Q++:ye===1&&he===0&&X++,N+=(0,m.default)(de.map(function(M,A){return _e[A]-M}))},K=0;K<U.length;K++)le(K);return{error:N/U.length,misclasses:H,total:U.length,trueNeg:ae,truePos:W,falseNeg:Q,falsePos:X,precision:W>0?W/(W+X):0,recall:W>0?W/(W+Q):0,accuracy:(ae+W)/U.length}}for(var J=function(te){var de=F.runInput(U[te].input),_e=U[te].output,ye=de.indexOf((0,u.default)(de)),he=_e.indexOf((0,u.default)(_e));if(ye!==he){var ge=U[te];H.push({input:ge.input,output:ge.output,actual:ye,expected:he})}N+=(0,m.default)(de.map(function(M,A){return _e[A]-M}))},K=0;K<U.length;K++)J(K);return{error:N/U.length,misclasses:H,total:U.length}}},{key:"toJSON",value:function(){for(var U=[],F=0;F<=this.outputLayer;F++){U[F]={};var j=void 0;F===0&&this.inputLookup?j=Object.keys(this.inputLookup):this.outputLookup&&F===this.outputLayer?j=Object.keys(this.outputLookup):j=(0,O.default)(0,this.sizes[F]);for(var H=0;H<j.length;H++){var N=j[H];if(U[F][N]={},F>0){U[F][N].bias=this.biases[F][H],U[F][N].weights={};for(var X in U[F-1]){var Q=X;F===1&&this.inputLookup&&(Q=this.inputLookup[X]),U[F][N].weights[X]=this.weights[F][H][Q]}}}}return{sizes:this.sizes.slice(0),layers:U,outputLookup:this.outputLookup!==null,inputLookup:this.inputLookup!==null,activation:this.activation,trainOpts:this.getTrainOptsJSON()}}},{key:"fromJSON",value:function(U){Object.assign(this,this.constructor.defaults,U),this.sizes=U.sizes,this.initialize();for(var F=0;F<=this.outputLayer;F++){var j=U.layers[F];if(F===0&&(!j[0]||U.inputLookup)?(this.inputLookup=l.default.toHash(j),this.inputLookupLength=Object.keys(this.inputLookup).length):F===this.outputLayer&&(!j[0]||U.outputLookup)&&(this.outputLookup=l.default.toHash(j)),F>0){var H=Object.keys(j);this.sizes[F]=H.length;for(var N in H){var X=H[N];this.biases[F][N]=j[X].bias,this.weights[F][N]=(0,C.default)(j[X].weights)}}}return U.hasOwnProperty("trainOpts")&&this.updateTrainingOptions(U.trainOpts),this}},{key:"toFunction",value:function(){var U=this.activation,F=this.leakyReluAlpha,j=!1;function H(ae,le,K){if(le===0)return typeof K=="string"?"input['"+K+"']":"input["+K+"]";var J=ae[le],ne=J[K],te=["(",ne.bias];for(var de in ne.weights)ne.weights[de]<0?te.push(ne.weights[de]+"*"+H(ae,le-1,de)):te.push("+"+ne.weights[de]+"*"+H(ae,le-1,de));switch(te.push(")"),U){case"sigmoid":return"1/(1+1/Math.exp("+te.join("")+"))";case"relu":return j=!0,"((v="+te.join("")+")<0?0:v)";case"leaky-relu":return j=!0,"((v="+te.join("")+")<0?0:"+F+"*v)";case"tanh":return"Math.tanh("+te.join("")+")";default:throw new Error("unknown activation type "+U)}}var N=this.toJSON().layers,X=[],Q=void 0;for(var W in N[N.length-1])X.push(H(N,N.length-1,W));return this.outputLookup?Q="{"+Object.keys(this.outputLookup).map(function(ae,le){return"'"+ae+"':"+X[le]})+"}":Q="["+X.join(",")+"]",new Function("input",(j?"var v;":"")+"return "+Q+";")}},{key:"isRunnable",get:function(){var U=this;if(!this.runInput)return console.error("Activation function has not been initialized, did you run train()?"),!1;var F=["sizes","outputLayer","biases","weights","outputs","deltas","changes","errors"].filter(function(j){return U[j]===null});return F.length>0?(console.error("Some settings have not been initialized correctly, did you run train()? Found issues with: "+F.join(", ")),!1):!0}}]),oe}();n.default=re;function ce(oe,ue){if(oe.buffer instanceof ArrayBuffer)return null;if(Array.isArray(oe))return v.arrayToFloat32Array;var U=Object.keys(ue).length;return function(F){var j=new Float32Array(U);for(var H in ue)j[ue[H]]=F[H]||0;return j}}},{"./lookup":3,"./utilities/cast":38,"./utilities/lookup-table":40,"./utilities/max":41,"./utilities/mse":42,"./utilities/randos":46,"./utilities/range":47,"./utilities/to-array":48,"./utilities/zeros":50,"thaw.js":114}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function R(O,P){for(var C=0;C<P.length;C++){var _=P[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,P,C){return P&&R(O.prototype,P),C&&R(O,C),O}}(),s=e("./matrix");u(s);var o=e("./gru"),f=u(o),l=e("./rnn-time-step"),g=u(l);function u(R){return R&&R.__esModule?R:{default:R}}function a(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function m(R,O){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:R}function y(R,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(R,O):R.__proto__=O)}var c=function(R){y(O,R);function O(){return a(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"getModel",value:function(C,_){return f.default.prototype.getModel(C,_)}},{key:"getEquation",value:function(C,_,I,T){return f.default.prototype.getEquation(C,_,I,T)}}]),O}(g.default);n.default=c},{"./gru":7,"./matrix":16,"./rnn-time-step":34}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function O(P,C){for(var _=0;_<C.length;_++){var I=C[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}return function(P,C,_){return C&&O(P.prototype,C),_&&O(P,_),P}}(),s=e("./matrix"),o=a(s),f=e("./matrix/random-matrix"),l=a(f),g=e("./rnn"),u=a(g);function a(O){return O&&O.__esModule?O:{default:O}}function m(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function y(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function c(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var R=function(O){c(P,O);function P(){return m(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return i(P,[{key:"getModel",value:function(_,I){return{updateGateInputMatrix:new l.default(_,I,.08),updateGateHiddenMatrix:new l.default(_,_,.08),updateGateBias:new o.default(_,1),resetGateInputMatrix:new l.default(_,I,.08),resetGateHiddenMatrix:new l.default(_,_,.08),resetGateBias:new o.default(_,1),cellWriteInputMatrix:new l.default(_,I,.08),cellWriteHiddenMatrix:new l.default(_,_,.08),cellWriteBias:new o.default(_,1)}}},{key:"getEquation",value:function(_,I,T,E){var v=_.sigmoid.bind(_),x=_.add.bind(_),Y=_.multiply.bind(_),re=_.multiplyElement.bind(_),ce=_.tanh.bind(_),oe=_.allOnes.bind(_),ue=_.cloneNegative.bind(_),U=v(x(x(Y(E.updateGateInputMatrix,I),Y(E.updateGateHiddenMatrix,T)),E.updateGateBias)),F=v(x(x(Y(E.resetGateInputMatrix,I),Y(E.resetGateHiddenMatrix,T)),E.resetGateBias)),j=ce(x(x(Y(E.cellWriteInputMatrix,I),Y(E.cellWriteHiddenMatrix,re(F,T))),E.cellWriteBias));return x(re(x(oe(U.rows,U.columns),ue(U)),j),re(T,U))}}]),P}(u.default);n.default=R},{"./matrix":16,"./matrix/random-matrix":23,"./rnn":35}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function R(O,P){for(var C=0;C<P.length;C++){var _=P[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,P,C){return P&&R(O.prototype,P),C&&R(O,C),O}}(),s=e("./matrix");u(s);var o=e("./lstm"),f=u(o),l=e("./rnn-time-step"),g=u(l);function u(R){return R&&R.__esModule?R:{default:R}}function a(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function m(R,O){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:R}function y(R,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(R,O):R.__proto__=O)}var c=function(R){y(O,R);function O(){return a(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"getModel",value:function(C,_){return f.default.prototype.getModel.call(this,C,_)}},{key:"getEquation",value:function(C,_,I,T){return f.default.prototype.getEquation.call(this,C,_,I,T)}}]),O}(g.default);n.default=c},{"./lstm":9,"./matrix":16,"./rnn-time-step":34}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function O(P,C){for(var _=0;_<C.length;_++){var I=C[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}return function(P,C,_){return C&&O(P.prototype,C),_&&O(P,_),P}}(),s=e("./matrix"),o=a(s),f=e("./matrix/random-matrix"),l=a(f),g=e("./rnn"),u=a(g);function a(O){return O&&O.__esModule?O:{default:O}}function m(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function y(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function c(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var R=function(O){c(P,O);function P(){return m(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return i(P,[{key:"getModel",value:function(_,I){return{inputMatrix:new l.default(_,I,.08),inputHidden:new l.default(_,_,.08),inputBias:new o.default(_,1),forgetMatrix:new l.default(_,I,.08),forgetHidden:new l.default(_,_,.08),forgetBias:new o.default(_,1),outputMatrix:new l.default(_,I,.08),outputHidden:new l.default(_,_,.08),outputBias:new o.default(_,1),cellActivationMatrix:new l.default(_,I,.08),cellActivationHidden:new l.default(_,_,.08),cellActivationBias:new o.default(_,1)}}},{key:"getEquation",value:function(_,I,T,E){var v=_.sigmoid.bind(_),x=_.add.bind(_),Y=_.multiply.bind(_),re=_.multiplyElement.bind(_),ce=_.tanh.bind(_),oe=v(x(x(Y(E.inputMatrix,I),Y(E.inputHidden,T)),E.inputBias)),ue=v(x(x(Y(E.forgetMatrix,I),Y(E.forgetHidden,T)),E.forgetBias)),U=v(x(x(Y(E.outputMatrix,I),Y(E.outputHidden,T)),E.outputBias)),F=ce(x(x(Y(E.cellActivationMatrix,I),Y(E.cellActivationHidden,T)),E.cellActivationBias)),j=re(ue,T),H=re(oe,F),N=x(j,H);return re(U,ce(N))}}]),P}(u.default);n.default=R},{"./matrix":16,"./matrix/random-matrix":23,"./rnn":35}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=0;l<s.deltas.length;l++)o.deltas[l]=s.deltas[l],f.deltas[l]=s.deltas[l]}},{}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=0;l<o.weights.length;l++)s.weights[l]=o.weights[l]+f.weights[l],s.deltas[l]=0}},{}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s){for(var o=0;o<s.weights.length;o++)s.weights[o]=1,s.deltas[o]=0}},{}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){s.rows=parseInt(o.rows),s.columns=parseInt(o.columns),s.weights=o.weights.slice(0),s.deltas=o.deltas.slice(0);for(var f=0;f<o.weights.length;f++)s.weights[f]=-o.weights[f],s.deltas[f]=0}},{}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){s.rows=parseInt(o.rows),s.columns=parseInt(o.columns),s.weights=o.weights.slice(0),s.deltas=o.deltas.slice(0)}},{}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function ye(he,ge){for(var M=0;M<ge.length;M++){var A=ge[M];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(he,A.key,A)}}return function(he,ge,M){return ge&&ye(he.prototype,ge),M&&ye(he,M),he}}(),s=e("./"),o=te(s),f=e("./ones-matrix");te(f);var l=e("./copy");te(l);var g=e("./clone-negative"),u=te(g),a=e("./add"),m=te(a),y=e("./add-b"),c=te(y),R=e("./all-ones"),O=te(R),P=e("./multiply"),C=te(P),_=e("./multiply-b"),I=te(_),T=e("./multiply-element"),E=te(T),v=e("./multiply-element-b"),x=te(v),Y=e("./relu"),re=te(Y),ce=e("./relu-b"),oe=te(ce),ue=e("./row-pluck"),U=te(ue),F=e("./row-pluck-b"),j=te(F),H=e("./sigmoid"),N=te(H),X=e("./sigmoid-b"),Q=te(X),W=e("./tanh"),ae=te(W),le=e("./tanh-b"),K=te(le),J=e("./softmax"),ne=te(J);function te(ye){return ye&&ye.__esModule?ye:{default:ye}}function de(ye,he){if(!(ye instanceof he))throw new TypeError("Cannot call a class as a function")}var _e=function(){function ye(){de(this,ye),this.inputRow=0,this.inputValue=null,this.states=[]}return i(ye,[{key:"add",value:function(ge,M){if(ge.weights.length!==M.weights.length)throw new Error("misaligned matrices");var A=new o.default(ge.rows,ge.columns);return this.states.push({left:ge,right:M,product:A,forwardFn:m.default,backpropagationFn:c.default}),A}},{key:"allOnes",value:function(ge,M){var A=new o.default(ge,M);return this.states.push({left:A,product:A,forwardFn:O.default}),A}},{key:"cloneNegative",value:function(ge){var M=new o.default(ge.rows,ge.columns);return this.states.push({left:ge,product:M,forwardFn:u.default}),M}},{key:"subtract",value:function(ge,M){if(ge.weights.length!==M.weights.length)throw new Error("misaligned matrices");return this.add(this.add(this.allOnes(ge.rows,ge.columns),this.cloneNegative(ge)),M)}},{key:"multiply",value:function(ge,M){if(ge.columns!==M.rows)throw new Error("misaligned matrices");var A=new o.default(ge.rows,M.columns);return this.states.push({left:ge,right:M,product:A,forwardFn:C.default,backpropagationFn:I.default}),A}},{key:"multiplyElement",value:function(ge,M){if(ge.weights.length!==M.weights.length)throw new Error("misaligned matrices");var A=new o.default(ge.rows,ge.columns);return this.states.push({left:ge,right:M,product:A,forwardFn:E.default,backpropagationFn:x.default}),A}},{key:"relu",value:function(ge){var M=new o.default(ge.rows,ge.columns);return this.states.push({left:ge,product:M,forwardFn:re.default,backpropagationFn:oe.default}),M}},{key:"input",value:function(ge){var M=this;return this.states.push({product:ge,forwardFn:function(B){B.weights=ge.weights=M.inputValue}}),ge}},{key:"inputMatrixToRow",value:function(ge){var M=this,A=new o.default(ge.columns,1);return this.states.push({left:ge,get right(){return M.inputRow},product:A,forwardFn:U.default,backpropagationFn:j.default}),A}},{key:"sigmoid",value:function(ge){var M=new o.default(ge.rows,ge.columns);return this.states.push({left:ge,product:M,forwardFn:N.default,backpropagationFn:Q.default}),M}},{key:"tanh",value:function(ge){var M=new o.default(ge.rows,ge.columns);return this.states.push({left:ge,product:M,forwardFn:ae.default,backpropagationFn:K.default}),M}},{key:"observe",value:function(ge){return this.states.push({forwardFn:function(){},backpropagationFn:function(){}}),ge}},{key:"runIndex",value:function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.inputRow=ge;for(var M=void 0,A=0,B=this.states.length;A<B;A++)M=this.states[A],M.hasOwnProperty("forwardFn")&&M.forwardFn(M.product,M.left,M.right);return M.product}},{key:"runInput",value:function(ge){this.inputValue=ge;for(var M=void 0,A=0,B=this.states.length;A<B;A++)M=this.states[A],M.hasOwnProperty("forwardFn")&&M.forwardFn(M.product,M.left,M.right);return M.product}},{key:"backpropagate",value:function(){for(var ge=this.states.length,M=void 0;ge-- >0;)M=this.states[ge],M.hasOwnProperty("backpropagationFn")&&M.backpropagationFn(M.product,M.left,M.right);return M.product}},{key:"backpropagateIndex",value:function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.inputRow=ge;for(var M=this.states.length,A=void 0;M-- >0;)A=this.states[M],A.hasOwnProperty("backpropagationFn")&&A.backpropagationFn(A.product,A.left,A.right);return A.product}},{key:"predictTarget",value:function(ge,M){for(var A=this.runInput(ge),B=0,$=0;$<A.weights.length;$++){var se=A.weights[$]-M[$];B+=Math.abs(se),A.deltas[$]=se}return B}},{key:"predictTargetIndex",value:function(ge,M){var A=this.runIndex(ge),B=A,$=(0,ne.default)(A);return B.deltas=$.weights.slice(0),B.deltas[M]-=1,-Math.log2($.weights[M])}}]),ye}();n.default=_e},{"./":16,"./add":11,"./add-b":10,"./all-ones":12,"./clone-negative":13,"./copy":14,"./multiply":21,"./multiply-b":18,"./multiply-element":20,"./multiply-element-b":19,"./ones-matrix":22,"./relu":25,"./relu-b":24,"./row-pluck":27,"./row-pluck-b":26,"./sigmoid":30,"./sigmoid-b":29,"./softmax":31,"./tanh":33,"./tanh-b":32}],16:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function u(a,m){for(var y=0;y<m.length;y++){var c=m[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,m,y){return m&&u(a.prototype,m),y&&u(a,y),a}}(),s=e("../../utilities/zeros"),o=f(s);function f(u){return u&&u.__esModule?u:{default:u}}function l(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}var g=function(){function u(a,m){l(this,u),a!==void 0&&m!==void 0&&(this.rows=a,this.columns=m,this.weights=(0,o.default)(a*m),this.deltas=(0,o.default)(a*m))}return i(u,[{key:"getWeights",value:function(m,y){var c=this.columns*m+y;if(c<0&&c>=this.weights.length)throw new Error("get accessor is skewed");return this.weights[c]}},{key:"setWeight",value:function(m,y,c){var R=this.columns*m+y;if(R<0&&R>=this.weights.length)throw new Error("set accessor is skewed");this.weights[R]=c}},{key:"setDeltas",value:function(m,y,c){var R=this.columns*m+y;if(R<0&&R>=this.weights.length)throw new Error("set accessor is skewed");this.deltas[R]=c}},{key:"toJSON",value:function(){return{rows:this.rows,columns:this.columns,weights:this.weights.slice(0)}}},{key:"weightsToArray",value:function(){for(var m=[],y=0,c=0,R=0;R<this.weights.length;R++)c===0&&m.push([]),m[y].push(this.weights[R]),c++,c>=this.columns&&(c=0,y++);return m}},{key:"deltasToArray",value:function(){for(var m=[],y=0,c=0,R=0;R<this.deltas.length;R++)c===0&&m.push([]),m[y].push(this.deltas[R]),c++,c>=this.columns&&(c=0,y++);return m}}],[{key:"fromJSON",value:function(m){for(var y=new u(m.rows,m.columns),c=0,R=m.rows*m.columns;c<R;c++)y.weights[c]=m.weights[c];return y}},{key:"fromArray",value:function(m,y){var c=m.length,R=m[0].length,O=new u(c,R);y=y||m;for(var P=0;P<c;P++)for(var C=m[P],_=y[P],I=0;I<R;I++)O.setWeight(P,I,C[I]),O.setDeltas(P,I,_[I]);return O}}]),u}();n.default=g},{"../../utilities/zeros":50}],17:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s){for(var o=s.weights,f=o[0],l=0,g=1;g<o.length;g++){var u=o[g];u<f||(l=g,f=u)}return l}},{}],18:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=o.rows,g=o.columns,u=f.columns,a=0;a<l;a++)for(var m=g*a,y=u*a,c=0;c<u;c++)for(var R=0;R<g;R++){var O=u*R,P=m+R,C=O+c,_=s.deltas[y+c];o.deltas[P]+=f.weights[C]*_,f.deltas[C]+=o.weights[P]*_}}},{}],19:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=0;l<o.weights.length;l++)o.deltas[l]=f.weights[l]*s.deltas[l],f.deltas[l]=o.weights[l]*s.deltas[l]}},{}],20:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=o.weights,g=0;g<l.length;g++)s.weights[g]=o.weights[g]*f.weights[g],s.deltas[g]=0}},{}],21:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=o.rows,g=o.columns,u=f.columns,a=0;a<l;a++)for(var m=g*a,y=u*a,c=0;c<u;c++){for(var R=0,O=0;O<g;O++){var P=u*O,C=m+O,_=P+c;R+=o.weights[C]*f.weights[_],o.deltas[C]=0,f.deltas[_]=0}s.weights[y+c]=R}}},{}],22:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=e("./"),s=l(i),o=e("../../utilities/ones"),f=l(o);function l(y){return y&&y.__esModule?y:{default:y}}function g(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function u(y,c){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:y}function a(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(y,c):y.__proto__=c)}var m=function(y){a(c,y);function c(R,O){g(this,c);var P=u(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,R,O));return P.rows=R,P.columns=O,P.weights=(0,f.default)(R*O),P.deltas=(0,f.default)(R*O),P}return c}(s.default);n.default=m},{"../../utilities/ones":43,"./":16}],23:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=e("./"),s=f(i),o=e("../../utilities/random");function f(m){return m&&m.__esModule?m:{default:m}}function l(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function g(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function u(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var a=function(m){u(y,m);function y(c,R,O){l(this,y);var P=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,c,R));P.rows=c,P.columns=R,P.std=O;for(var C=0,_=P.weights.length;C<_;C++)P.weights[C]=(0,o.randomF)(-O,O);return P}return y}(s.default);n.default=a},{"../../utilities/random":45,"./":16}],24:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=0;f<s.deltas.length;f++)o.deltas[f]=o.weights[f]>0?s.deltas[f]:0}},{}],25:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=0;f<o.weights.length;f++)s.weights[f]=Math.max(0,o.weights[f]),s.deltas[f]=0}},{}],26:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=o.columns,g=l*f,u=0;u<l;u++)o.deltas[g+u]=s.deltas[u]}},{}],27:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o,f){for(var l=o.columns,g=l*f,u=0;u<l;u++)s.weights[u]=o.weights[g+u],s.deltas[u]=0}},{}],28:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("../../utilities/random"),s=i.randomF;function o(f){for(var l=s(0,1),g=0,u=0,a=f.weights;;){if(g+=a[u],g>l)return u;u++}}},{"../../utilities/random":45}],29:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=0;f<s.deltas.length;f++){var l=s.weights[f];o.deltas[f]=l*(1-l)*s.deltas[f]}}},{}],30:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=0;f<o.weights.length;f++)s.weights[f]=1/(1+Math.exp(-o.weights[f])),s.deltas[f]=0}},{}],31:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var i=e("./"),s=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function f(l){for(var g=new s.default(l.rows,l.columns),u=-999999,a=0;a<l.weights.length;a++)l.weights[a]>u&&(u=l.weights[a]);for(var m=0,y=0;y<l.weights.length;y++)g.weights[y]=Math.exp(l.weights[y]-u),m+=g.weights[y];for(var c=0;c<l.weights.length;c++)g.weights[c]/=m;return g}},{"./":16}],32:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=0;f<s.deltas.length;f++){var l=s.weights[f];o.deltas[f]=(1-l*l)*s.deltas[f]}}},{}],33:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=0;f<o.weights.length;f++)s.weights[f]=Math.tanh(o.weights[f]),s.deltas[f]=0}},{}],34:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function N(X,Q){for(var W=0;W<Q.length;W++){var ae=Q[W];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(X,ae.key,ae)}}return function(X,Q,W){return Q&&N(X.prototype,Q),W&&N(X,W),X}}(),s=e("./matrix"),o=ue(s),f=e("./matrix/random-matrix"),l=ue(f),g=e("./matrix/equation"),u=ue(g),a=e("./rnn"),m=ue(a),y=e("../utilities/zeros"),c=ue(y),R=e("./matrix/softmax"),O=ue(R),P=e("../utilities/random"),C=e("./matrix/sample-i"),_=ue(C),I=e("./matrix/max-i"),T=ue(I),E=e("../lookup"),v=ue(E),x=e("../utilities/lookup-table"),Y=ue(x),re=e("../utilities/array-lookup-table"),ce=ue(re),oe=e("../utilities/cast");function ue(N){return N&&N.__esModule?N:{default:N}}function U(N,X){if(!(N instanceof X))throw new TypeError("Cannot call a class as a function")}function F(N,X){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:N}function j(N,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);N.prototype=Object.create(X&&X.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(N,X):N.__proto__=X)}var H=function(N){j(X,N);function X(){return U(this,X),F(this,(X.__proto__||Object.getPrototypeOf(X)).apply(this,arguments))}return i(X,[{key:"createOutputMatrix",value:function(){var W=this.model,ae=this.outputSize,le=this.hiddenLayers[this.hiddenLayers.length-1];W.outputConnector=new l.default(ae,le,.08),W.output=new l.default(ae,1,.08)}},{key:"bindEquation",value:function(){var W=this.model,ae=this.hiddenLayers,le=W.hiddenLayers,K=new u.default,J=[],ne=W.equationConnections.length>0?W.equationConnections[W.equationConnections.length-1]:this.initialLayerInputs,te=this.getEquation(K,K.input(new o.default(this.inputSize,1)),ne[0],le[0]);J.push(te);for(var de=1,_e=ae.length;de<_e;de++)te=this.getEquation(K,te,ne[de],le[de]),J.push(te);W.equationConnections.push(J),K.add(K.multiply(W.outputConnector,te),W.output),W.equations.push(K)}},{key:"mapModel",value:function(){var W=this.model,ae=W.hiddenLayers,le=W.allMatrices;if(this.initialLayerInputs=this.hiddenLayers.map(function(de){return new o.default(de,1)}),this.createHiddenLayers(),!W.hiddenLayers.length)throw new Error("net.hiddenLayers not set");for(var K=0,J=ae.length;K<J;K++){var ne=ae[K];for(var te in ne)ne.hasOwnProperty(te)&&le.push(ne[te])}if(this.createOutputMatrix(),!W.outputConnector)throw new Error("net.model.outputConnector not set");if(!W.output)throw new Error("net.model.output not set");le.push(W.outputConnector),le.push(W.output)}},{key:"backpropagate",value:function(){for(var W=this.model.equations.length-1;W>-1;W--)this.model.equations[W].backpropagate()}},{key:"run",value:function(W){return this.inputSize===1?this.outputLookup?(this.run=this.runObject,this.runObject(W)):(this.run=this.runNumbers,this.runNumbers(W)):(this.run=this.runArrays,this.runArrays(W))}},{key:"forecast",value:function(W,ae){return this.inputSize===1?this.outputLookup?(this.forecast=this.runObject,this.runObject(W)):(this.forecast=this.forecastNumbers,this.forecastNumbers(W,ae)):this.outputLookup?(this.forecast=this.forecastObjects,this.forecastObjects(W,ae)):(this.forecast=this.forecastArrays,this.forecastArrays(W,ae))}},{key:"train",value:function(W){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.trainOpts=ae=Object.assign({},this.constructor.trainDefaults,ae);var le=ae.iterations,K=ae.errorThresh,J=ae.log===!0?console.log:ae.log,ne=ae.logPeriod,te=ae.callback,de=ae.callbackPeriod;(this.inputSize===1||!this.inputSize)&&this.setSize(W),W=this.formatData(W);var _e=1/0,ye=void 0;for(this.verifyIsInitialized(W),ye=0;ye<le&&_e>K;ye++){for(var he=0,ge=0;ge<W.length;ge++){var M=this.trainPattern(W[ge],!0);he+=M}if(_e=he/W.length,isNaN(_e))throw new Error("network error rate is unexpected NaN, check network configurations and try again");J&&ye%ne===0&&J("iterations: "+ye+", training error: "+_e),te&&ye%de===0&&te({error:_e,iterations:ye})}return{error:_e,iterations:ye}}},{key:"verifyIsInitialized",value:function(W){W[0].input?this.trainInput=this.trainInputOutput:W[0].length>0&&(W[0][0].length>0?this.trainInput=this.trainArrays:this.inputSize>1?this.trainInput=this.trainArrays:this.trainInput=this.trainNumbers),this.model||this.initialize()}},{key:"setSize",value:function(W){var ae=v.default.dataShape(W).join(",");switch(ae){case"array,array,number":case"array,object,number":case"array,datum,array,number":case"array,datum,object,number":break;case"array,array,array,number":this.inputSize=this.outputSize=W[0][0].length;break;case"array,array,object,number":this.inputSize=this.outputSize=Object.keys(v.default.toTable2D(W)).length;break;case"array,datum,array,array,number":this.inputSize=this.outputSize=W[0].input[0].length;break;case"array,datum,array,object,number":this.inputSize=Object.keys(v.default.toInputTable2D(W)).length,this.outputSize=Object.keys(v.default.toOutputTable2D(W)).length;break;default:throw new Error("unknown data shape or configuration")}}},{key:"trainNumbers",value:function(W){for(var ae=this.model,le=ae.equations;le.length<W.length;)this.bindEquation();for(var K=0,J=0,ne=W.length-1;J<ne;J++)K+=le[J].predictTarget(W[J],W[J+1]);return this.end(),K/W.length}},{key:"runNumbers",value:function(W){if(!this.isRunnable)return null;var ae=this.model,le=ae.equations;for(this.inputLookup&&(W=v.default.toArray(this.inputLookup,W,this.inputLookupLength));le.length<=W.length;)this.bindEquation();for(var K=void 0,J=0;J<W.length;J++)K=le[J].runInput([W[J]]);return this.end(),K.weights[0]}},{key:"forecastNumbers",value:function(W,ae){if(!this.isRunnable)return null;for(var le=this.model,K=le.equations,J=W.length+ae;K.length<=J;)this.bindEquation();for(var ne=void 0,te=0,de=0;de<W.length;de++)ne=K[te++].runInput([W[de]]);for(var _e=[ne.weights[0]],ye=0,he=ae-1;ye<he;ye++)ne=K[te++].runInput(ne.weights),_e.push(ne.weights[0]);return this.end(),_e}},{key:"runObject",value:function(W){if(this.inputLookup===this.outputLookup){var ae=v.default.toArrayShort(this.inputLookup,W);return v.default.toObjectPartial(this.outputLookup,this.forecastNumbers(ae,this.outputLookupLength-ae.length),ae.length)}return v.default.toObject(this.outputLookup,this.forecastNumbers(v.default.toArray(this.inputLookup,W,this.inputLookupLength),this.outputLookupLength))}},{key:"forecastObjects",value:function(W,ae){var le=this;return W=W.map(function(K){return v.default.toArray(le.outputLookup,K,le.outputLookupLength)}),this.forecastArrays(W,ae).map(function(K){return v.default.toObject(le.outputLookup,K)})}},{key:"trainInputOutput",value:function(W){for(var ae=this.model,le=W.input,K=W.output,J=le.length+K.length,ne=ae.equations;ne.length<J;)this.bindEquation();for(var te=0,de=0,_e=0,ye=le.length-1;_e<ye;_e++)te+=ne[de++].predictTarget(le[_e],le[_e+1]);te+=ne[de++].predictTarget(le[le.length-1],K[0]);for(var he=0,ge=K.length-1;he<ge;he++)te+=ne[de++].predictTarget(K[he],K[he+1]);return this.end(),te/J}},{key:"trainArrays",value:function(W){for(var ae=this.model,le=ae.equations;le.length<W.length;)this.bindEquation();for(var K=0,J=0,ne=W.length-1;J<ne;J++)K+=le[J].predictTarget(W[J],W[J+1]);return this.end(),K/W.length}},{key:"runArrays",value:function(W){if(!this.isRunnable)return null;for(var ae=this.model,le=ae.equations;le.length<=W.length;)this.bindEquation();this.inputLookup&&(W=v.default.toArrays(this.inputLookup,W,this.inputLookupLength));for(var K=void 0,J=0;J<W.length;J++){var ne=le[J].runInput(W[J]);K=ne.weights}return this.end(),this.outputLookup?v.default.toObject(this.outputLookup,K):K}},{key:"forecastArrays",value:function(W,ae){if(!this.isRunnable)return null;for(var le=this.model,K=le.equations,J=W.length+ae;K.length<=J;)this.bindEquation();for(var ne=void 0,te=0,de=0;de<W.length;de++)ne=K[te++].runInput(W[de]);for(var _e=[ne.weights],ye=0,he=ae-1;ye<he;ye++)ne=K[te++].runInput(ne.weights),_e.push(ne.weights.slice(0));return this.end(),_e}},{key:"end",value:function(){this.model.equations[this.model.equations.length-1].runInput(new Float32Array(this.outputSize))}},{key:"formatData",value:function(W){var ae=v.default.dataShape(W).join(","),le=[];switch(ae){case"array,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");for(var K=0;K<W.length;K++)le.push(Float32Array.from([W[K]]));return[le]}case"array,array,number":{if(this.inputSize===1&&this.outputSize===1){for(var J=0;J<W.length;J++)le.push((0,oe.arrayToFloat32Arrays)(W[J]));return le}if(this.inputSize!==W[0].length)throw new Error("inputSize must match data input size");if(this.outputSize!==W[0].length)throw new Error("outputSize must match data input size");for(var ne=0;ne<W.length;ne++)le.push(Float32Array.from(W[ne]));return[le]}case"array,object,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");if(!this.inputLookup){var te=new Y.default(W);this.inputLookup=this.outputLookup=te.table,this.inputLookupLength=this.outputLookupLength=te.length}for(var de=0;de<W.length;de++)le.push((0,oe.objectToFloat32Arrays)(W[de]));return le}case"array,datum,array,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");for(var _e=0;_e<W.length;_e++){var ye=W[_e];le.push({input:(0,oe.arrayToFloat32Arrays)(ye.input),output:(0,oe.arrayToFloat32Arrays)(ye.output)})}return le}case"array,datum,object,number":{if(this.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.outputSize!==1)throw new Error("outputSize must be 1 for this data size");if(!this.inputLookup){var he=new Y.default(W,"input");this.inputLookup=he.table,this.inputLookupLength=he.length}if(!this.outputLookup){var ge=new Y.default(W,"output");this.outputLookup=ge.table,this.outputLookupLength=ge.length}for(var M=0;M<W.length;M++){var A=W[M];le.push({input:(0,oe.objectToFloat32Arrays)(A.input),output:(0,oe.objectToFloat32Arrays)(A.output)})}return le}case"array,array,array,number":{for(var B=0;B<W.length;B++)le.push((0,oe.arraysToFloat32Arrays)(W[B]));return le}case"array,array,object,number":{if(!this.inputLookup){var $=new Y.default(W);this.inputLookup=this.outputLookup=$.table,this.inputLookupLength=this.outputLookupLength=$.length}for(var se=0;se<W.length;se++){for(var ie=[],pe=0;pe<W[se].length;pe++)ie.push((0,oe.objectToFloat32Array)(W[se][pe],this.inputLookup,this.inputLookupLength));le.push(ie)}return le}case"array,datum,array,array,number":{if(this.inputSize===1&&this.outputSize===1)for(var be=0;be<W.length;be++){var me=W[be];le.push({input:Float32Array.from(me.input),output:Float32Array.from(me.output)})}else{if(this.inputSize!==W[0].input[0].length)throw new Error("inputSize must match data input size");if(this.outputSize!==W[0].output[0].length)throw new Error("outputSize must match data output size");for(var D=0;D<W.length;D++){var S=W[D];le.push({input:(0,oe.arraysToFloat32Arrays)(S.input),output:(0,oe.arraysToFloat32Arrays)(S.output)})}}return le}case"array,datum,array,object,number":{if(!this.inputLookup){var k=new ce.default(W,"input");this.inputLookup=k.table,this.inputLookupLength=k.length}if(!this.outputLookup){var G=new ce.default(W,"output");this.outputLookup=G.table,this.outputLookupLength=G.length}for(var q=0;q<W.length;q++){var Z=W[q];le.push({input:(0,oe.objectsToFloat32Arrays)(Z.input,this.inputLookup,this.inputLookupLength),output:(0,oe.objectsToFloat32Arrays)(Z.output,this.outputLookup,this.outputLookupLength)})}return le}default:throw new Error("unknown data shape or configuration")}}},{key:"test",value:function(W){var ae=this.formatData(W),le=[],K=0,J=v.default.dataShape(W).join(",");switch(J){case"array,array,number":{if(this.inputSize===1){for(var ne=0;ne<ae.length;ne++){var te=ae[ne],de=this.run(te.splice(0,te.length-1)),_e=te[te.length-1][0],ye=_e-de,he=ye*ye;K+=he;var ge=Math.abs(he);if(ge>this.trainOpts.errorThresh){var M=W[ne];Object.assign(M,{value:te,actual:de}),le.push(M)}}break}throw new Error("unknown data shape or configuration")}case"array,array,array,number":{for(var A=0;A<ae.length;A++){for(var B=ae[A],$=this.run(B.splice(0,B.length-1)),se=B[B.length-1],ie=0,pe=0,be=0;be<$.length;be++){pe++;var me=se[be]-$[be];ie+=me*me}K+=ie/pe;var D=Math.abs(ie);if(D>this.trainOpts.errorThresh){var S=W[A];le.push({value:S,actual:$})}}break}case"array,object,number":{for(var k=0;k<ae.length;k++){var G=ae[k],q=this.run(v.default.toObjectPartial(this.outputLookup,G,0,G.length-1)),Z=G[G.length-1],ee=0,xe=void 0;for(xe in q);var Ee=Z[k]-q[xe];ee+=Ee*Ee,K+=ee;var Se=Math.abs(ee);if(Se>this.trainOpts.errorThresh){var ke=W[k];le.push({value:ke,actual:q})}}break}case"array,array,object,number":{for(var Ie=0;Ie<ae.length;Ie++){var Ce=ae[Ie],Le=this.run(Ce.slice(0,Ce.length-1)),je=W[Ie][Ce.length-1],Pe=0,Ae=0;for(var Ne in Le){var He=je[Ne]-Le[Ne];Pe+=He*He,Ae++}K+=Pe/Ae;var Xe=Math.abs(Pe);if(Xe>this.trainOpts.errorThresh){var $e=W[Ie];le.push({value:$e,actual:Le})}}break}case"array,datum,array,number":case"array,datum,object,number":{for(var Ge=0;Ge<ae.length;Ge++){for(var Oe=ae[Ge],Be=this.forecast(Oe.input,Oe.output.length),ze=0,Ye=0,Ve=0;Ve<Be.length;Ve++){var Je=Oe.output[Ve][0]-Be[Ve];ze+=Je*Je,Ye++}K+=ze/Ye;var Ze=Math.abs(ze);if(Ze>this.trainOpts.errorThresh){var qe=W[Ge];Object.assign(qe,{actual:this.outputLookup?v.default.toObject(this.outputLookup,Be):Be}),le.push(qe)}}break}case"array,datum,array,array,number":{for(var r=0;r<ae.length;r++){for(var b=ae[r],L=this.forecast(b.input,b.output.length),z=0,V=0;V<L.length;V++)for(var fe=0;fe<L[V].length;fe++){var ve=b.output[V][fe]-L[V][fe];z+=ve*ve}K+=z;var we=Math.abs(z);if(we>this.trainOpts.errorThresh){var Te=W[r];le.push({input:Te.input,output:Te.output,actual:L})}}break}case"array,datum,array,object,number":{for(var Re=0;Re<ae.length;Re++){for(var Me=ae[Re],Fe=this.forecast(Me.input,Me.output.length),Ue=0,De=0;De<Fe.length;De++)for(var We in Fe[De]){var Qe=W[Re].output[De][We]-Fe[De][We];Ue+=Qe*Qe}K+=Ue;var et=Math.abs(Ue);if(et>this.trainOpts.errorThresh){var Ke=W[Re];le.push({input:Ke.input,output:Ke.output,actual:Fe})}}break}default:throw new Error("unknown data shape or configuration")}return{error:K/ae.length,misclasses:le,total:ae.length}}},{key:"addFormat",value:function(W){var ae=v.default.dataShape(W).join(",");switch(ae){case"array,array,number":case"datum,array,array,number":case"array,number":case"datum,array,number":return;case"datum,object,number":{this.inputLookup=v.default.addKeys(W.input,this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=v.default.addKeys(W.output,this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}case"object,number":{this.inputLookup=this.outputLookup=v.default.addKeys(W,this.inputLookup),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"array,object,number":{for(var le=0;le<W.length;le++)this.inputLookup=this.outputLookup=v.default.addKeys(W[le],this.inputLookup),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"datum,array,object,number":{for(var K=0;K<W.input.length;K++)this.inputLookup=v.default.addKeys(W.input[K],this.inputLookup),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length);for(var J=0;J<W.output.length;J++)this.outputLookup=v.default.addKeys(W.output[J],this.outputLookup),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}default:throw new Error("unknown data shape or configuration")}}},{key:"toJSON",value:function(){var W=this.constructor.defaults;this.model||this.initialize();var ae=this.model,le={};for(var K in W)W.hasOwnProperty(K)&&(le[K]=this[K]);return{type:this.constructor.name,options:le,hiddenLayers:ae.hiddenLayers.map(function(J){var ne={};for(var te in J)ne[te]=J[te].toJSON();return ne}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}},{key:"fromJSON",value:function(W){var ae=this.constructor.defaults,le=W.options;this.model=null,this.hiddenLayers=null;var K=[],J=[];(W.hiddenLayers||W.hiddenSizes).forEach(function(de){var _e={};for(var ye in de)_e[ye]=o.default.fromJSON(de[ye]),K.push(_e[ye]);J.push(_e)});var ne=o.default.fromJSON(W.outputConnector);K.push(ne);var te=o.default.fromJSON(W.output);K.push(te),Object.assign(this,ae,le),le.hiddenSizes&&(this.hiddenLayers=le.hiddenSizes),this.model={hiddenLayers:J,output:te,allMatrices:K,outputConnector:ne,equations:[],equationConnections:[]},this.initialLayerInputs=this.hiddenLayers.map(function(de){return new o.default(de,1)}),this.bindEquation()}},{key:"toFunction",value:function(){var W=this.model,ae=this.model.equations,le=this.inputSize,K=this.inputLookup,J=this.inputLookupLength,ne=this.outputLookup,te=this.outputLookupLength,de=ae[1],_e=de.states,ye=JSON.stringify(this.toJSON());function he(Z,ee){for(var xe=0,Ee=_e.length;xe<Ee;xe++){var Se=_e[xe];if(xe===ee){var ke=ge(Z);switch(Z){case Se.left:if(ke>-1)return"typeof prevStates["+ke+"] === 'object' ? prevStates["+ke+"].product : new Matrix("+Z.rows+", "+Z.columns+")";case Se.right:if(ke>-1)return"typeof prevStates["+ke+"] === 'object' ? prevStates["+ke+"].product : new Matrix("+Z.rows+", "+Z.columns+")";case Se.product:return"new Matrix("+Z.rows+", "+Z.columns+")";default:throw Error("unknown state")}}if(Z===Se.product)return"states["+xe+"].product";if(Z===Se.right)return"states["+xe+"].right";if(Z===Se.left)return"states["+xe+"].left"}}function ge(Z){for(var ee=W.equationConnections[0],xe=ae[0].states,Ee=0,Se=xe.length;Ee<Se;Ee++)if(xe[Ee].product===Z)return Ee;return ee.indexOf(Z)}function M(Z,ee){if(!Z||!Z.rows||!Z.columns)return"null";if(Z===W.outputConnector)return"json.outputConnector";if(Z===W.output)return"json.output";for(var xe=0,Ee=W.hiddenLayers.length;xe<Ee;xe++){var Se=W.hiddenLayers[xe];for(var ke in Se)if(Se.hasOwnProperty(ke)&&Se[ke]===Z)return"json.hiddenLayers["+xe+"]."+ke}return he(Z,ee)}function A(){return K?le===1?K===ne?`function lookupInput(input) {
            var table = `+JSON.stringify(K)+`;
            var result = [];
            for (var p in table) {
              if (!input.hasOwnProperty(p)) break;
              result.push(Float32Array.from([input[p]]));
            }
            return result;
          }`:`function lookupInput(input) {
          var table = `+JSON.stringify(K)+`;
          var result = [];
          for (var p in table) {
            result.push(Float32Array.from([input[p]]));
          }
          return result;
        }`:`function lookupInput(rawInputs) {
        var table = `+JSON.stringify(K)+`;
        var result = [];
        for (var i = 0; i < rawInputs.length; i++) {
          var rawInput = rawInputs[i];
          var input = new Float32Array(`+J+`);
          for (var p in table) {
            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;
          }
          result.push(input);
        }
        return result;
      }`:""}function B(){return ne?le===1?K===ne?`function lookupOutputPartial(output, input) {
            var table = `+JSON.stringify(ne)+`;
            var offset = input.length;
            var result = {};
            var i = 0;
            for (var p in table) {
              if (i++ < offset) continue;
              result[p] = output[table[p] - offset][0];
            }
            return result;
          }`:`function lookupOutput(output) {
          var table = `+JSON.stringify(ne)+`;
          var result = {};
          for (var p in table) {
            result[p] = output[table[p]][0];
          }
          return result;
        }`:`function lookupOutput(output) {
        var table = `+JSON.stringify(ne)+`;
        var result = {};
        for (var p in table) {
          result[p] = output[table[p]];
        }
        return result;
      }`:""}function $(Z){return Z=Z.toString().split("{"),Z.shift(),Z=Z.join("{"),Z=Z.split("}"),Z.pop(),Z.join("}").split(`
`).join(`
        `).replace("product.weights = _input.weights = _this.inputValue;",K&&le===1?"product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;":le===1?"product.weights = [input[_i]];":"product.weights = input[_i];").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function se(Z){return"src/recurrent/matrix/"+Z.replace(/[A-Z]/g,function(ee){return"-"+ee.toLowerCase()})+".js"}for(var ie=[],pe={},be=[],me=0,D=_e.length;me<D;me++){var S=_e[me];ie.push("states["+me+`] = {
      name: '`+S.forwardFn.name+`',
      left: `+M(S.left,me)+`,
      right: `+M(S.right,me)+`,
      product: `+M(S.product,me)+`
    }`);var k=S.forwardFn.name;pe[k]||(pe[k]=!0,be.push("        case '"+k+"':"+(k!=="forwardFn"?" //compiled from "+se(k):"")+`
          `+$(S.forwardFn.toString())+`
          break;`))}var G=this.inputSize===1&&this.outputLookup,q=`
  var input = `+(this.inputLookup?"lookupInput(rawInput)":"rawInput")+`;
  var json = `+ye+`;
  var output = [];
  var states = [];
  var prevStates;
  var state;
  var max = `+(G?K===ne?J:"input.length + "+(te-1):"input.length")+`;
  for (var _i = 0; _i < max; _i++) {
    prevStates = states;
    states = [];
    `+ie.join(`;
    `)+`;
    for (var stateIndex = 0, stateMax = `+ie.length+`; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      
      switch (state.name) {
`+be.join(`
`)+`
      }
    }
    `+(le===1&&K?"if (_i >= input.length - 1) { output.push(state.product.weights); }":"output = state.product.weights;")+`
  }
  `+(ne?ne===K?"return lookupOutputPartial(output, input)":"return lookupOutput(output)":le===1?"return output[0]":"return output")+`;
  `+A()+`
  `+B()+`
  
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  `+c.default.toString()+`
  `+O.default.toString().replace("_2.default","Matrix")+`
  `+P.randomF.toString()+`
  `+_.default.toString()+`
  `+T.default.toString();return new Function("rawInput",q)}}]),X}(m.default);n.default=H,H.defaults={inputSize:1,hiddenLayers:[20],outputSize:1,learningRate:m.default.defaults.learningRate,decayRate:m.default.defaults.decayRate,smoothEps:m.default.defaults.smoothEps,regc:m.default.defaults.regc,clipval:m.default.defaults.clipval},H.trainDefaults=m.default.trainDefaults},{"../lookup":3,"../utilities/array-lookup-table":37,"../utilities/cast":38,"../utilities/lookup-table":40,"../utilities/random":45,"../utilities/zeros":50,"./matrix":16,"./matrix/equation":15,"./matrix/max-i":17,"./matrix/random-matrix":23,"./matrix/sample-i":28,"./matrix/softmax":31,"./rnn":35}],35:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function ue(U,F){for(var j=0;j<F.length;j++){var H=F[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(U,H.key,H)}}return function(U,F,j){return F&&ue(U.prototype,F),j&&ue(U,j),U}}(),s=e("./matrix"),o=re(s),f=e("./matrix/random-matrix"),l=re(f),g=e("./matrix/equation"),u=re(g),a=e("./matrix/sample-i"),m=re(a),y=e("./matrix/max-i"),c=re(y),R=e("./matrix/softmax"),O=re(R),P=e("./matrix/copy"),C=re(P),_=e("../utilities/random"),I=e("../utilities/zeros"),T=re(I),E=e("../utilities/data-formatter"),v=re(E),x=e("../neural-network"),Y=re(x);function re(ue){return ue&&ue.__esModule?ue:{default:ue}}function ce(ue,U){if(!(ue instanceof U))throw new TypeError("Cannot call a class as a function")}var oe=function(){function ue(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ce(this,ue);var F=this.constructor.defaults;Object.assign(this,F,U),this.trainOpts={},this.updateTrainingOptions(Object.assign({},this.constructor.trainDefaults,U)),this.stepCache={},this.runs=0,this.ratioClipped=null,this.model=null,this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null,U.json&&this.fromJSON(U.json)}return i(ue,[{key:"initialize",value:function(){this.model={input:null,hiddenLayers:[],output:null,equations:[],allMatrices:[],equationConnections:[],outputConnector:null},this.dataFormatter&&(this.inputSize=this.inputRange=this.outputSize=this.dataFormatter.characters.length),this.mapModel()}},{key:"createHiddenLayers",value:function(){this.model.hiddenLayers.push(this.getModel(this.hiddenLayers[0],this.inputSize));for(var F=this.hiddenLayers[0],j=1;j<this.hiddenLayers.length;j++){var H=this.hiddenLayers[j];this.model.hiddenLayers.push(this.getModel(H,F)),F=H}}},{key:"getModel",value:function(F,j){return{weight:new l.default(F,j,.08),transition:new l.default(F,F,.08),bias:new o.default(F,1)}}},{key:"getEquation",value:function(F,j,H,N){var X=F.relu.bind(F),Q=F.add.bind(F),W=F.multiply.bind(F);return X(Q(Q(W(N.weight,j),W(N.transition,H)),N.bias))}},{key:"createInputMatrix",value:function(){this.model.input=new l.default(this.inputRange+1,this.inputSize,.08)}},{key:"createOutputMatrix",value:function(){var F=this.model,j=this.outputSize,H=this.hiddenLayers[this.hiddenLayers.length-1];F.outputConnector=new l.default(j+1,H,.08),F.output=new o.default(j+1,1)}},{key:"bindEquation",value:function(){var F=this.model,j=new u.default,H=[],N=F.equationConnections.length>0?F.equationConnections[F.equationConnections.length-1]:this.initialLayerInputs,X=this.getEquation(j,j.inputMatrixToRow(F.input),N[0],F.hiddenLayers[0]);H.push(X);for(var Q=1,W=this.hiddenLayers.length;Q<W;Q++)X=this.getEquation(j,X,N[Q],F.hiddenLayers[Q]),H.push(X);F.equationConnections.push(H),j.add(j.multiply(F.outputConnector,X),F.output),F.equations.push(j)}},{key:"mapModel",value:function(){var F=this.model,j=F.hiddenLayers,H=F.allMatrices;if(this.initialLayerInputs=this.hiddenLayers.map(function(ae){return new o.default(ae,1)}),this.createInputMatrix(),!F.input)throw new Error("net.model.input not set");if(H.push(F.input),this.createHiddenLayers(),!F.hiddenLayers.length)throw new Error("net.hiddenLayers not set");for(var N=0,X=j.length;N<X;N++){var Q=j[N];for(var W in Q)Q.hasOwnProperty(W)&&H.push(Q[W])}if(this.createOutputMatrix(),!F.outputConnector)throw new Error("net.model.outputConnector not set");if(!F.output)throw new Error("net.model.output not set");H.push(F.outputConnector),H.push(F.output)}},{key:"trainPattern",value:function(F,j){var H=this.trainInput(F);if(this.backpropagate(F),this.adjustWeights(),j)return H}},{key:"trainInput",value:function(F){this.runs++;for(var j=this.model,H=F.length,N=0,X=void 0;j.equations.length<=F.length+1;)this.bindEquation();for(var Q=-1,W=F.length;Q<W;Q++){var ae=Q+1;X=j.equations[ae];var le=Q===-1?0:F[Q]+1,K=Q===H-1?0:F[Q+1]+1;N+=X.predictTargetIndex(le,K)}return Math.pow(2,N/(H-1))/100}},{key:"backpropagate",value:function(F){for(var j=F.length,H=this.model,N=H.equations;j>0;)N[j].backpropagateIndex(F[j-1]+1),j--;N[0].backpropagateIndex(0)}},{key:"adjustWeights",value:function(){for(var F=this.regc,j=this.clipval,H=this.model,N=this.decayRate,X=this.stepCache,Q=this.smoothEps,W=this.trainOpts,ae=W.learningRate,le=H.allMatrices,K=0,J=0,ne=0;ne<le.length;ne++){var te=le[ne],de=te.weights,_e=te.deltas;ne in X||(X[ne]=(0,T.default)(te.rows*te.columns));for(var ye=X[ne],he=0;he<de.length;he++){var ge=_e[he],M=de[he];ye[he]=ye[he]*N+(1-N)*ge*ge,ge>j&&(ge=j,K++),ge<-j&&(ge=-j,K++),J++,de[he]=M+-ae*ge/Math.sqrt(ye[he]+Q)-F*M}}this.ratioClipped=K/J}},{key:"run",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.maxPredictionLength+F.length+(this.dataFormatter?this.dataFormatter.specialIndexes.length:0);if(!this.isRunnable)return null;for(var X=this.formatDataIn(F),Q=this.model,W=[],ae=0;;){for(var le=ae===0?0:ae<X.length?X[ae-1]+1:W[ae-1];Q.equations.length<=ae;)this.bindEquation();var K=Q.equations[ae],J=K.runIndex(le),ne=new o.default(Q.output.rows,Q.output.columns);if((0,C.default)(ne,J),H!==1&&j)for(var te=0,de=ne.weights.length;te<de;te++)ne.weights[te]/=H;var _e=(0,O.default)(ne),ye=j?(0,m.default)(_e):(0,c.default)(_e);if(ae++,ye===0||ae>=N)break;W.push(ye)}return this.formatDataOut(X,W.slice(X.length).map(function(he){return he-1}))}},{key:"verifyIsInitialized",value:function(F){this.model||this.initialize()}},{key:"updateTrainingOptions",value:function(F){var j=this;Object.keys(this.constructor.trainDefaults).forEach(function(H){return j.trainOpts[H]=F.hasOwnProperty(H)?F[H]:j.trainOpts[H]}),this.validateTrainingOptions(this.trainOpts),this.setLogMethod(F.log||this.trainOpts.log),this.activation=F.activation||this.activation}},{key:"validateTrainingOptions",value:function(F){Y.default.prototype.validateTrainingOptions.call(this,F)}},{key:"setLogMethod",value:function(F){typeof F=="function"?this.trainOpts.log=F:F?this.trainOpts.log=console.log:this.trainOpts.log=!1}},{key:"prepTraining",value:function(F,j){this.updateTrainingOptions(j),F=this.formatData(F);var H=Date.now()+this.trainOpts.timeout,N={error:1,iterations:0};return this.verifyIsInitialized(F),{data:F,status:N,endTime:H}}},{key:"train",value:function(F){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.trainOpts=j=Object.assign({},this.constructor.trainDefaults,j);var H=j.iterations,N=j.errorThresh,X=j.log===!0?console.log:j.log,Q=j.logPeriod,W=j.callback,ae=j.callbackPeriod,le=1/0,K=void 0;for(this.hasOwnProperty("setupData")&&(F=this.setupData(F)),this.verifyIsInitialized(),K=0;K<H&&le>N;K++){for(var J=0,ne=0;ne<F.length;ne++){var te=this.trainPattern(F[ne],!0);J+=te}if(le=J/F.length,isNaN(le))throw new Error("network error rate is unexpected NaN, check network configurations and try again");X&&K%Q===0&&X("iterations: "+K+", training error: "+le),W&&K%ae===0&&W({error:le,iterations:K})}return{error:le,iterations:K}}},{key:"addFormat",value:function(){throw new Error("not yet implemented")}},{key:"toJSON",value:function(){var F=this.constructor.defaults;this.model||this.initialize();var j=this.model,H={};for(var N in F)F.hasOwnProperty(N)&&(H[N]=this[N]);return{type:this.constructor.name,options:H,input:j.input.toJSON(),hiddenLayers:j.hiddenLayers.map(function(X){var Q={};for(var W in X)Q[W]=X[W].toJSON();return Q}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}},{key:"fromJSON",value:function(F){var j=this.constructor.defaults,H=F.options;this.model=null,this.hiddenLayers=null;var N=[],X=o.default.fromJSON(F.input);N.push(X);var Q=[];(F.hiddenLayers||F.hiddenSizes).forEach(function(le){var K={};for(var J in le)K[J]=o.default.fromJSON(le[J]),N.push(K[J]);Q.push(K)});var W=o.default.fromJSON(F.outputConnector);N.push(W);var ae=o.default.fromJSON(F.output);N.push(ae),Object.assign(this,j,H),H.hiddenSizes&&(this.hiddenLayers=H.hiddenSizes),H.dataFormatter&&(this.dataFormatter=v.default.fromJSON(H.dataFormatter)),this.model={input:X,hiddenLayers:Q,output:ae,allMatrices:N,outputConnector:W,equations:[],equationConnections:[]},this.initialLayerInputs=this.hiddenLayers.map(function(le){return new o.default(le,1)}),this.bindEquation()}},{key:"toFunction",value:function(){var F=this.model,j=this.model.equations,H=j[1],N=H.states,X=JSON.stringify(this.toJSON());function Q(M,A){for(var B=0,$=N.length;B<$;B++){var se=N[B];if(B===A){var ie=W(M);switch(M){case se.left:if(ie>-1)return"typeof prevStates["+ie+"] === 'object' ? prevStates["+ie+"].product : new Matrix("+M.rows+", "+M.columns+")";case se.right:if(ie>-1)return"typeof prevStates["+ie+"] === 'object' ? prevStates["+ie+"].product : new Matrix("+M.rows+", "+M.columns+")";case se.product:return"new Matrix("+M.rows+", "+M.columns+")";default:throw Error("unknown state")}}if(M===se.product)return"states["+B+"].product";if(M===se.right)return"states["+B+"].right";if(M===se.left)return"states["+B+"].left"}}function W(M){for(var A=F.equationConnections[0],B=j[0].states,$=0,se=B.length;$<se;$++)if(B[$].product===M)return $;return A.indexOf(M)}function ae(M,A){if(!M||!M.rows||!M.columns)return"null";if(M===F.input)return"json.input";if(M===F.outputConnector)return"json.outputConnector";if(M===F.output)return"json.output";for(var B=0,$=F.hiddenLayers.length;B<$;B++){var se=F.hiddenLayers[B];for(var ie in se)if(se.hasOwnProperty(ie)&&se[ie]===M)return"json.hiddenLayers["+B+"]."+ie}return Q(M,A)}function le(M){return M=M.toString().split("{"),M.shift(),M=M.join("{"),M=M.split("}"),M.pop(),M.join("}").split(`
`).join(`
        `).replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function K(M){return"src/recurrent/matrix/"+M.replace(/[A-Z]/g,function(A){return"-"+A.toLowerCase()})+".js"}for(var J=[],ne={},te=[],de=0,_e=N.length;de<_e;de++){var ye=N[de];J.push("states["+de+`] = {
      name: '`+ye.forwardFn.name+`',
      left: `+ae(ye.left,de)+`,
      right: `+ae(ye.right,de)+`,
      product: `+ae(ye.product,de)+`
    }`);var he=ye.forwardFn.name;ne[he]||(ne[he]=!0,te.push("        case '"+he+"': //compiled from "+K(he)+`
          `+le(ye.forwardFn.toString())+`
          break;`))}var ge=`
  if (typeof rawInput === 'undefined') rawInput = [];
  if (typeof isSampleI === 'undefined') isSampleI = false;
  if (typeof temperature === 'undefined') temperature = 1;
  `+(this.dataFormatter?this.dataFormatter.toFunctionString():"")+`
  
  var input = `+(this.dataFormatter&&typeof this.formatDataIn=="function"?"formatDataIn(rawInput)":"rawInput")+`;
  var json = `+X+`;
  var maxPredictionLength = input.length + `+this.maxPredictionLength+`;
  var _i = 0;
  var output = [];
  var states = [];
  var prevStates;
  while (true) {
    var previousIndex = (_i === 0
        ? 0
        : _i < input.length
          ? input[_i - 1] + 1
          : output[_i - 1])
          ;
    var rowPluckIndex = previousIndex;
    var state;
    prevStates = states;
    states = [];
    `+J.join(`;
    `)+`;
    for (var stateIndex = 0, stateMax = `+J.length+`; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      
      switch (state.name) {
`+te.join(`
`)+`
      }
    }
    
    var logProbabilities = state.product;
    if (temperature !== 1 && isSampleI) {
      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {
        logProbabilities.weights[q] /= temperature;
      }
    }

    var probs = softmax(logProbabilities);
    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);
    
    _i++;
    if (nextIndex === 0) {
      break;
    }
    if (_i >= maxPredictionLength) {
      break;
    }

    output.push(nextIndex);
  }
  `+(this.dataFormatter&&typeof this.formatDataOut=="function"?"return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))":"return output.slice(input.length).map(function(value) { return value - 1; })")+`;
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  `+(this.dataFormatter&&typeof this.formatDataIn=="function"?"function formatDataIn(input, output) { "+le(this.formatDataIn.toString()).replace(/this[.]dataFormatter[\n\s]+[.]/g,"").replace(/this[.]dataFormatter[.]/g,"").replace(/this[.]dataFormatter/g,"true")+" }":"")+`
  `+(this.dataFormatter!==null&&typeof this.formatDataOut=="function"?"function formatDataOut(input, output) { "+le(this.formatDataOut.toString()).replace(/this[.]dataFormatter[\n\s]+[.]/g,"").replace(/this[.]dataFormatter[.]/g,"").replace(/this[.]dataFormatter/g,"true")+" }":"")+`
  `+T.default.toString()+`
  `+O.default.toString().replace("_2.default","Matrix")+`
  `+_.randomF.toString()+`
  `+m.default.toString()+`
  `+c.default.toString();return new Function("rawInput","isSampleI","temperature",ge)}},{key:"isRunnable",get:function(){return this.model.equations.length===0?(console.error("No equations bound, did you run train()?"),!1):!0}}]),ue}();n.default=oe,oe.defaults={inputSize:20,inputRange:20,hiddenLayers:[20,20],outputSize:20,decayRate:.999,smoothEps:1e-8,regc:1e-6,clipval:5,maxPredictionLength:100,setupData:function(U){if(typeof U[0]!="string"&&!Array.isArray(U[0])&&(!U[0].hasOwnProperty("input")||!U[0].hasOwnProperty("output")))return U;var F=[],j=[];if(typeof U[0]=="string"||Array.isArray(U[0])){if(!this.dataFormatter){for(var H=0;H<U.length;H++)F.push(U[H]);this.dataFormatter=new v.default(F)}for(var N=0,X=U.length;N<X;N++)j.push(this.formatDataIn(U[N]))}else{if(!this.dataFormatter){for(var Q=0;Q<U.length;Q++)F.push(U[Q].input),F.push(U[Q].output);this.dataFormatter=v.default.fromArrayInputOutput(F),this.dataFormatter.addUnrecognized()}for(var W=0,ae=U.length;W<ae;W++)j.push(this.formatDataIn(U[W].input,U[W].output))}return j},formatDataIn:function(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.dataFormatter?this.dataFormatter.indexTable.hasOwnProperty("stop-input")?this.dataFormatter.toIndexesInputOutput(U,F):this.dataFormatter.toIndexes(U):U},formatDataOut:function(U,F){return this.dataFormatter?this.dataFormatter.toCharacters(F).join(""):F},dataFormatter:null},oe.trainDefaults={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.01,callback:null,callbackPeriod:10}},{"../neural-network":5,"../utilities/data-formatter":39,"../utilities/random":45,"../utilities/zeros":50,"./matrix":16,"./matrix/copy":14,"./matrix/equation":15,"./matrix/max-i":17,"./matrix/random-matrix":23,"./matrix/sample-i":28,"./matrix/softmax":31}],36:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function u(a,m){for(var y=0;y<m.length;y++){var c=m[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,m,y){return m&&u(a.prototype,m),y&&u(a,y),a}}(),s=e("stream");function o(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function f(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function l(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var g=function(u){l(a,u);function a(m){o(this,a);var y=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{objectMode:!0}));if(m=m||{},!m.neuralNetwork)throw new Error("no neural network specified");var c=m,R=c.neuralNetwork;y.neuralNetwork=R,y.dataFormatDetermined=!1,y.i=0,y.size=0,y.count=0,y.sum=0,y.floodCallback=m.floodCallback,y.doneTrainingCallback=m.doneTrainingCallback,R.updateTrainingOptions(m);var O=R.trainOpts;return y.iterations=O.iterations,y.errorThresh=O.errorThresh,y.log=O.log,y.logPeriod=O.logPeriod,y.callbackPeriod=O.callbackPeriod,y.callback=O.callback,y.on("finish",y.finishStreamIteration.bind(y)),y}return i(a,[{key:"endInputs",value:function(){this.write(!1)}},{key:"_write",value:function(y,c,R){if(!y)return this.emit("finish"),R();if(!this.dataFormatDetermined)return this.size++,this.neuralNetwork.addFormat(y),this.firstDatum=this.firstDatum||y,R();this.count++;var O=this.neuralNetwork.formatData(y);this.sum+=this.neuralNetwork.trainPattern(O[0],!0),R()}},{key:"finishStreamIteration",value:function(){if(this.dataFormatDetermined&&this.size!==this.count&&this.log("This iteration's data length was different from the first."),!this.dataFormatDetermined){var y=this.neuralNetwork.formatData(this.firstDatum);this.neuralNetwork.verifyIsInitialized(y),this.dataFormatDetermined=!0,typeof this.floodCallback=="function"&&this.floodCallback();return}var c=this.sum/this.size;if(this.log&&this.i%this.logPeriod===0&&this.log("iterations: "+this.i+", training error: "+c),this.callback&&this.i%this.callbackPeriod===0&&this.callback({error:c,iterations:this.i}),this.sum=0,this.count=0,this.i++,this.i<this.iterations&&c>this.errorThresh){if(typeof this.floodCallback=="function")return this.floodCallback()}else if(typeof this.doneTrainingCallback=="function")return this.doneTrainingCallback({error:c,iterations:this.i})}}]),a}(s.Writable);n.default=g},{stream:112}],37:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){this.length=0,this.prop=o;for(var f=this.table={},l=0;l<s.length;l++)for(var g=s[l],u=g[o],a=0;a<u.length;a++)for(var m in u[a])f.hasOwnProperty(m)||(f[m]=this.length++)}},{}],38:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.arraysToFloat32Arrays=i,n.arrayToFloat32Arrays=s,n.arrayToFloat32Array=o,n.objectsToFloat32Arrays=f,n.objectToFloat32Arrays=l,n.objectToFloat32Array=g;function i(u){for(var a=[],m=0;m<u.length;m++)a.push(Float32Array.from(u[m]));return a}function s(u){for(var a=[],m=0;m<u.length;m++)a.push(Float32Array.from([u[m]]));return a}function o(u){return Float32Array.from(u)}function f(u,a,m){for(var y=[],c=0;c<u.length;c++){var R=u[c],O=new Float32Array(m);for(var P in R)R.hasOwnProperty(P)&&(O[a[P]]=R[P]);y.push(O)}return y}function l(u){var a=[];for(var m in u)a.push(Float32Array.from([u[m]]));return a}function g(u,a,m){var y=new Float32Array(m);for(var c in u)u.hasOwnProperty(c)&&(y[a[c]]=u[c]);return y}},{}],39:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function l(g,u){for(var a=0;a<u.length;a++){var m=u[a];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,u,a){return u&&l(g.prototype,u),a&&l(g,a),g}}();function s(l){if(Array.isArray(l)){for(var g=0,u=Array(l.length);g<l.length;g++)u[g]=l[g];return u}else return Array.from(l)}function o(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}var f=function(){function l(g){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;o(this,l),g!==void 0&&(this.values=g,this.indexTable={},this.characterTable={},this.characters=[],this.specialIndexes=[],this.buildCharactersFromIterable(g),this.buildTables(u))}return i(l,[{key:"buildCharactersFromIterable",value:function(u){for(var a={},m=0,y=u.length;m<y;m++){var c=u[m];if(c.hasOwnProperty("length"))for(var R=0,O=c.length;R<O;R++){var P=c[R];a.hasOwnProperty(P)||(a[P]=!0,this.characters.push(P))}else{var C=u[m];if(a.hasOwnProperty(C))continue;a[m]=!0,this.characters.push(C)}}}},{key:"buildTables",value:function(u){for(var a=this.characters.length,m=0;m<a;m++){var y=this.characters[m];m>=u&&(this.indexTable[y]=m,this.characterTable[m]=y)}}},{key:"toIndexes",value:function(u){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=[],y=this.indexTable,c=0,R=u.length;c<R;c++){var O=u[c],P=y[O];if(P===void 0)if(y.unrecognized)P=y.unrecognized;else throw new Error('unrecognized character "'+O+'"');P<a||m.push(P)}return m}},{key:"toIndexesInputOutput",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=void 0;return typeof u=="string"?y=this.toIndexes(u.split("").concat(["stop-input","start-output"]),m):y=this.toIndexes(u.concat(["stop-input","start-output"]),m),a===null?y:typeof a=="string"?y.concat(this.toIndexes(a.split(""),m)):y.concat(this.toIndexes(a,m))}},{key:"toCharacters",value:function(u){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=[],y=this.characterTable,c=this.indexTable,R=0,O=u.length;R<O;R++){var P=u[R];if(!(P<a)){var C=y[P];if(C===void 0)if(c.unrecognized)C=y[c.unrecognized];else throw new Error('unrecognized index "'+P+'"');else C!==null&&m.push(C)}}return m}},{key:"toString",value:function(u,a){return this.toCharacters(u,a).join("")}},{key:"addInputOutput",value:function(){this.addSpecial("stop-input"),this.addSpecial("start-output")}},{key:"addUnrecognized",value:function(){this.addSpecial("unrecognized")}},{key:"addSpecial",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=this.indexTable[u]=this.characters.length;this.characterTable[m]=a,this.specialIndexes.push(this.characters.length),this.characters.push(u)}},{key:"countSpecial",value:function(u){for(var a=0,m=0;m<this.specialIndexes;m++)for(var y=-1;y=u.indexOf(this.specialIndexes[m],y)>-1;)a++;return a}},{key:"toFunctionString",value:function(){return`
var characterTable = `+JSON.stringify(this.characterTable)+`;
var indexTable = `+JSON.stringify(this.indexTable)+`;
var characters = `+JSON.stringify(this.characters)+`;
`+this.toIndexes.toString().replace(/(let|var) indexTable = this[.]indexTable;\n/,"").replace(/this[.]/g,"")+`
`+this.toIndexesInputOutput.toString().replace(/this[.]/g,"")+`
`+this.toCharacters.toString().replace(/(let|var) characterTable = this[.]characterTable;\n/g,"").replace(/this[.]/,"")+`
`}}],[{key:"fromAllPrintable",value:function(u){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[`
`],m=32;m<=126;m++)a.push(String.fromCharCode(m));return new l(a,u)}},{key:"fromAllPrintableInputOutput",value:function(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[`
`],m=l.fromAllPrintable(u,a);return m.addInputOutput(),m}},{key:"fromStringInputOutput",value:function(u,a){var m,y=(m=String.prototype).concat.apply(m,s(new Set(u))),c=new l(y,a);return c.addInputOutput(),c}},{key:"fromArrayInputOutput",value:function(u,a){var m=new l(u.filter(function(y,c,R){return R.indexOf(y)===c}).sort(),a);return m.addInputOutput(),m}},{key:"fromString",value:function(u,a){var m,y=(m=String.prototype).concat.apply(m,s(new Set(u)));return new l(y,a)}},{key:"fromJSON",value:function(u){var a=new l;return a.indexTable=u.indexTable,a.characterTable=u.characterTable,a.values=u.values,a.characters=u.characters,a.specialIndexes=u.specialIndexes,a}}]),l}();n.default=f},{}],40:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){if(this.length=0,o){this.prop=o;for(var f=this.table={},l=0;l<s.length;l++){var g=s[l],u=g[o];for(var a in u)f.hasOwnProperty(a)||(f[a]=this.length++)}}else if(Array.isArray(s[0]))for(var m=this.table={},y=0;y<s.length;y++)for(var c=s[y],R=0;R<c.length;R++){var O=c[R];for(var P in O)m.hasOwnProperty(P)||(m[P]=this.length++)}else for(var C=this.table={},_=0;_<s.length;_++){var I=s[_];for(var T in I)C.hasOwnProperty(T)||(C[T]=this.length++)}}},{}],41:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var i=e("./to-array"),s=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function f(l){return Math.max.apply(Math,(0,s.default)(l))}},{"./to-array":48}],42:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s){for(var o=0,f=0;f<s.length;f++)o+=s[f]*s[f];return o/s.length}},{}],43:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s){if(typeof Float32Array<"u")return new Float32Array(s).fill(1);for(var o=new Array(s),f=0;f<s;f++)o[f]=1;return o}},{}],44:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(){return Math.random()*.4-.2}},{}],45:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.randomF=i,n.randomI=s,n.randomN=o;function i(l,g){return Math.random()*(g-l)+l}function s(l,g){return Math.floor(Math.random()*(g-l)+l)}function o(l,g){return l+f()*g}function f(){if(f.returnV)return f.returnV=!1,f.vVal;var l=2*Math.random()-1,g=2*Math.random()-1,u=l*l+g*g;if(u==0||u>1)return f();var a=Math.sqrt(-2*Math.log(u)/u);return f.vVal=g*a,f.returnV=!0,l*a}f.returnV=!1,f.vVal=0},{}],46:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var i=e("./random-weight"),s=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function f(l){for(var g=new Float32Array(l),u=0;u<l;u++)g[u]=(0,s.default)();return g}},{"./random-weight":44}],47:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s,o){for(var f=[];s<o;s++)f.push(s);return f}},{}],48:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s){if(Array.isArray(s))return s;var o=Object.keys(s),f=new Float32Array(o.length);for(var l in o)f[l]=s[o[l]];return f}},{}],49:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;function i(o){if(Array.isArray(o)){for(var f=0,l=Array(o.length);f<o.length;f++)l[f]=o[f];return l}else return Array.from(o)}function s(o,f){var l={line:{width:"0.5",color:"black"},inputs:{color:"rgba(0, 128, 0, 0.5)",label:!1},outputs:{color:"rgba(100, 149, 237, 0.5)"},hidden:{color:"rgba(255, 127, 80, 0.5)"},fontSize:"14px",radius:"8",width:"400",height:"250"},g=typeof o.inputSize=="number"&&typeof o.outputSize=="number"&&o.inputSize>0&&o.outputSize>0?[o.inputSize].concat(i(o.hiddenLayers),[o.outputSize]):!1;if(f=Object.assign(l,f),f.inputs.label=f.inputs.label.length==o.inputSize?f.inputs.label:!1,g){var u='<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="'+f.width+'" height="'+f.height+'">',a=f.width/g.length;return g.forEach(function(m,y){var c=f.height/m;[].concat(i(Array(m))).forEach(function(R,O){if(y==0)u+='<rect x="'+(a/2-f.radius)+'" y="'+(c/2+O*c-f.radius)+'" width="'+2*f.radius+'" height="'+2*f.radius+'" stroke="black" stroke-width="1" fill="'+f.inputs.color+'" />',u+='<line x1="'+a/4+'" y1="'+(c/2+O*c)+'" x2="'+(a/2-f.radius)+'" y2="'+(c/2+O*c)+'" style="stroke:'+f.line.color+";stroke-width:"+f.line.width+'" />',f.inputs.label&&(u+='<text x="'+a/8+'" y="'+(c/2+O*c-5)+'" fill="black" font-size= "'+f.fontSize+'">'+f.inputs.label[O]+"</text>");else{var P=f.height/g[y-1];y==g.length-1?(u+='<circle cx="'+(a/2+y*a)+'" cy="'+(c/2+O*c)+'" r="'+f.radius+'" stroke="black" stroke-width="1" fill="'+f.outputs.color+'" />',u+='<line x1="'+(a/2+y*a+f.radius)+'" y1="'+(c/2+O*c)+'" x2="'+(a/2+y*a+a/4)+'" y2="'+(c/2+O*c)+'" style="stroke:'+f.line.color+";stroke-width:"+f.line.width+'" />'):u+='<circle cx="'+(a/2+y*a)+'" cy="'+(c/2+O*c)+'" r="'+f.radius+'" stroke="black" stroke-width="1" fill="'+f.hidden.color+'" />';for(var C=0;C<g[y-1];C++)u+='<line x1="'+(a/2+(y-1)*a+f.radius)+'" y1="'+(P/2+C*P)+'" x2="'+(a/2+y*a-f.radius)+'" y2="'+(c/2+O*c)+'" style="stroke:'+f.line.color+";stroke-width:"+f.line.width+'" />'}})}),u+="</svg>",u}else return!1}},{}],50:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(s){return new Float32Array(s)}},{}],51:[function(e,t,n){var i=e("./dist/cross-validate").default,s=e("./dist/likely").default,o=e("./dist/lookup").default,f=e("./dist/neural-network").default,l=e("./dist/neural-network-gpu").default,g=e("./dist/train-stream").default,u=e("./dist/recurrent/rnn-time-step").default,a=e("./dist/recurrent/lstm-time-step").default,m=e("./dist/recurrent/gru-time-step").default,y=e("./dist/recurrent/rnn").default,c=e("./dist/recurrent/lstm").default,R=e("./dist/recurrent/gru").default,O={max:e("./dist/utilities/max").default,mse:e("./dist/utilities/mse").default,ones:e("./dist/utilities/ones").default,random:e("./dist/utilities/random").default,randomWeight:e("./dist/utilities/random-weight").default,randos:e("./dist/utilities/randos").default,range:e("./dist/utilities/range").default,toArray:e("./dist/utilities/to-array").default,DataFormatter:e("./dist/utilities/data-formatter").default,zeros:e("./dist/utilities/zeros").default,toSVG:e("./dist/utilities/to-svg").default},P={CrossValidate:i,likely:s,lookup:o,NeuralNetwork:f,NeuralNetworkGPU:l,TrainStream:g,recurrent:{RNNTimeStep:u,LSTMTimeStep:a,GRUTimeStep:m,RNN:y,LSTM:c,GRU:R},utilities:O};typeof window<"u"&&(window.brain=P),typeof self<"u"&&(self.brain=P),typeof t<"u"&&(t.exports=P)},{"./dist/cross-validate":1,"./dist/likely":2,"./dist/lookup":3,"./dist/neural-network":5,"./dist/neural-network-gpu":4,"./dist/recurrent/gru":7,"./dist/recurrent/gru-time-step":6,"./dist/recurrent/lstm":9,"./dist/recurrent/lstm-time-step":8,"./dist/recurrent/rnn":35,"./dist/recurrent/rnn-time-step":34,"./dist/train-stream":36,"./dist/utilities/data-formatter":39,"./dist/utilities/max":41,"./dist/utilities/mse":42,"./dist/utilities/ones":43,"./dist/utilities/random":45,"./dist/utilities/random-weight":44,"./dist/utilities/randos":46,"./dist/utilities/range":47,"./dist/utilities/to-array":48,"./dist/utilities/to-svg":49,"./dist/utilities/zeros":50}],52:[function(e,t,n){n.byteLength=a,n.toByteArray=y,n.fromByteArray=O;for(var i=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,g=f.length;l<g;++l)i[l]=f[l],s[f.charCodeAt(l)]=l;s[45]=62,s[95]=63;function u(P){var C=P.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=P.indexOf("=");_===-1&&(_=C);var I=_===C?0:4-_%4;return[_,I]}function a(P){var C=u(P),_=C[0],I=C[1];return(_+I)*3/4-I}function m(P,C,_){return(C+_)*3/4-_}function y(P){for(var C,_=u(P),I=_[0],T=_[1],E=new o(m(P,I,T)),v=0,x=T>0?I-4:I,Y=0;Y<x;Y+=4)C=s[P.charCodeAt(Y)]<<18|s[P.charCodeAt(Y+1)]<<12|s[P.charCodeAt(Y+2)]<<6|s[P.charCodeAt(Y+3)],E[v++]=C>>16&255,E[v++]=C>>8&255,E[v++]=C&255;return T===2&&(C=s[P.charCodeAt(Y)]<<2|s[P.charCodeAt(Y+1)]>>4,E[v++]=C&255),T===1&&(C=s[P.charCodeAt(Y)]<<10|s[P.charCodeAt(Y+1)]<<4|s[P.charCodeAt(Y+2)]>>2,E[v++]=C>>8&255,E[v++]=C&255),E}function c(P){return i[P>>18&63]+i[P>>12&63]+i[P>>6&63]+i[P&63]}function R(P,C,_){for(var I,T=[],E=C;E<_;E+=3)I=(P[E]<<16&16711680)+(P[E+1]<<8&65280)+(P[E+2]&255),T.push(c(I));return T.join("")}function O(P){for(var C,_=P.length,I=_%3,T=[],E=16383,v=0,x=_-I;v<x;v+=E)T.push(R(P,v,v+E>x?x:v+E));return I===1?(C=P[_-1],T.push(i[C>>2]+i[C<<4&63]+"==")):I===2&&(C=(P[_-2]<<8)+P[_-1],T.push(i[C>>10]+i[C>>4&63]+i[C<<2&63]+"=")),T.join("")}},{}],53:[function(e,t,n){},{}],54:[function(e,t,n){(function(i){var s=e("base64-js"),o=e("ieee754"),f=e("isarray");n.Buffer=a,n.SlowBuffer=T,n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:l(),n.kMaxLength=g();function l(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},D.foo()===42&&typeof D.subarray=="function"&&D.subarray(1,1).byteLength===0}catch{return!1}}function g(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(D,S){if(g()<S)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(D=new Uint8Array(S),D.__proto__=a.prototype):(D===null&&(D=new a(S)),D.length=S),D}function a(D,S,k){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(D,S,k);if(typeof D=="number"){if(typeof S=="string")throw new Error("If encoding is specified then the first argument must be a string");return R(this,D)}return m(this,D,S,k)}a.poolSize=8192,a._augment=function(D){return D.__proto__=a.prototype,D};function m(D,S,k,G){if(typeof S=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&S instanceof ArrayBuffer?C(D,S,k,G):typeof S=="string"?O(D,S,k):_(D,S)}a.from=function(D,S,k){return m(null,D,S,k)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function y(D){if(typeof D!="number")throw new TypeError('"size" argument must be a number');if(D<0)throw new RangeError('"size" argument must not be negative')}function c(D,S,k,G){return y(S),S<=0?u(D,S):k!==void 0?typeof G=="string"?u(D,S).fill(k,G):u(D,S).fill(k):u(D,S)}a.alloc=function(D,S,k){return c(null,D,S,k)};function R(D,S){if(y(S),D=u(D,S<0?0:I(S)|0),!a.TYPED_ARRAY_SUPPORT)for(var k=0;k<S;++k)D[k]=0;return D}a.allocUnsafe=function(D){return R(null,D)},a.allocUnsafeSlow=function(D){return R(null,D)};function O(D,S,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError('"encoding" must be a valid string encoding');var G=E(S,k)|0;D=u(D,G);var q=D.write(S,k);return q!==G&&(D=D.slice(0,q)),D}function P(D,S){var k=S.length<0?0:I(S.length)|0;D=u(D,k);for(var G=0;G<k;G+=1)D[G]=S[G]&255;return D}function C(D,S,k,G){if(S.byteLength,k<0||S.byteLength<k)throw new RangeError("'offset' is out of bounds");if(S.byteLength<k+(G||0))throw new RangeError("'length' is out of bounds");return k===void 0&&G===void 0?S=new Uint8Array(S):G===void 0?S=new Uint8Array(S,k):S=new Uint8Array(S,k,G),a.TYPED_ARRAY_SUPPORT?(D=S,D.__proto__=a.prototype):D=P(D,S),D}function _(D,S){if(a.isBuffer(S)){var k=I(S.length)|0;return D=u(D,k),D.length===0||S.copy(D,0,0,k),D}if(S){if(typeof ArrayBuffer<"u"&&S.buffer instanceof ArrayBuffer||"length"in S)return typeof S.length!="number"||me(S.length)?u(D,0):P(D,S);if(S.type==="Buffer"&&f(S.data))return P(D,S.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function I(D){if(D>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return D|0}function T(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(S){return!!(S!=null&&S._isBuffer)},a.compare=function(S,k){if(!a.isBuffer(S)||!a.isBuffer(k))throw new TypeError("Arguments must be Buffers");if(S===k)return 0;for(var G=S.length,q=k.length,Z=0,ee=Math.min(G,q);Z<ee;++Z)if(S[Z]!==k[Z]){G=S[Z],q=k[Z];break}return G<q?-1:q<G?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,k){if(!f(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);var G;if(k===void 0)for(k=0,G=0;G<S.length;++G)k+=S[G].length;var q=a.allocUnsafe(k),Z=0;for(G=0;G<S.length;++G){var ee=S[G];if(!a.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(q,Z),Z+=ee.length}return q};function E(D,S){if(a.isBuffer(D))return D.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(D)||D instanceof ArrayBuffer))return D.byteLength;typeof D!="string"&&(D=""+D);var k=D.length;if(k===0)return 0;for(var G=!1;;)switch(S){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":case void 0:return $(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return pe(D).length;default:if(G)return $(D).length;S=(""+S).toLowerCase(),G=!0}}a.byteLength=E;function v(D,S,k){var G=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,S>>>=0,k<=S))return"";for(D||(D="utf8");;)switch(D){case"hex":return le(this,S,k);case"utf8":case"utf-8":return N(this,S,k);case"ascii":return W(this,S,k);case"latin1":case"binary":return ae(this,S,k);case"base64":return H(this,S,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,S,k);default:if(G)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),G=!0}}a.prototype._isBuffer=!0;function x(D,S,k){var G=D[S];D[S]=D[k],D[k]=G}a.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<S;k+=2)x(this,k,k+1);return this},a.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<S;k+=4)x(this,k,k+3),x(this,k+1,k+2);return this},a.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<S;k+=8)x(this,k,k+7),x(this,k+1,k+6),x(this,k+2,k+5),x(this,k+3,k+4);return this},a.prototype.toString=function(){var S=this.length|0;return S===0?"":arguments.length===0?N(this,0,S):v.apply(this,arguments)},a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){var S="",k=n.INSPECT_MAX_BYTES;return this.length>0&&(S=this.toString("hex",0,k).match(/.{2}/g).join(" "),this.length>k&&(S+=" ... ")),"<Buffer "+S+">"},a.prototype.compare=function(S,k,G,q,Z){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");if(k===void 0&&(k=0),G===void 0&&(G=S?S.length:0),q===void 0&&(q=0),Z===void 0&&(Z=this.length),k<0||G>S.length||q<0||Z>this.length)throw new RangeError("out of range index");if(q>=Z&&k>=G)return 0;if(q>=Z)return-1;if(k>=G)return 1;if(k>>>=0,G>>>=0,q>>>=0,Z>>>=0,this===S)return 0;for(var ee=Z-q,xe=G-k,Ee=Math.min(ee,xe),Se=this.slice(q,Z),ke=S.slice(k,G),Ie=0;Ie<Ee;++Ie)if(Se[Ie]!==ke[Ie]){ee=Se[Ie],xe=ke[Ie];break}return ee<xe?-1:xe<ee?1:0};function Y(D,S,k,G,q){if(D.length===0)return-1;if(typeof k=="string"?(G=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,isNaN(k)&&(k=q?0:D.length-1),k<0&&(k=D.length+k),k>=D.length){if(q)return-1;k=D.length-1}else if(k<0)if(q)k=0;else return-1;if(typeof S=="string"&&(S=a.from(S,G)),a.isBuffer(S))return S.length===0?-1:re(D,S,k,G,q);if(typeof S=="number")return S=S&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(D,S,k):Uint8Array.prototype.lastIndexOf.call(D,S,k):re(D,[S],k,G,q);throw new TypeError("val must be string, number or Buffer")}function re(D,S,k,G,q){var Z=1,ee=D.length,xe=S.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(D.length<2||S.length<2)return-1;Z=2,ee/=2,xe/=2,k/=2}function Ee(Le,je){return Z===1?Le[je]:Le.readUInt16BE(je*Z)}var Se;if(q){var ke=-1;for(Se=k;Se<ee;Se++)if(Ee(D,Se)===Ee(S,ke===-1?0:Se-ke)){if(ke===-1&&(ke=Se),Se-ke+1===xe)return ke*Z}else ke!==-1&&(Se-=Se-ke),ke=-1}else for(k+xe>ee&&(k=ee-xe),Se=k;Se>=0;Se--){for(var Ie=!0,Ce=0;Ce<xe;Ce++)if(Ee(D,Se+Ce)!==Ee(S,Ce)){Ie=!1;break}if(Ie)return Se}return-1}a.prototype.includes=function(S,k,G){return this.indexOf(S,k,G)!==-1},a.prototype.indexOf=function(S,k,G){return Y(this,S,k,G,!0)},a.prototype.lastIndexOf=function(S,k,G){return Y(this,S,k,G,!1)};function ce(D,S,k,G){k=Number(k)||0;var q=D.length-k;G?(G=Number(G),G>q&&(G=q)):G=q;var Z=S.length;if(Z%2!==0)throw new TypeError("Invalid hex string");G>Z/2&&(G=Z/2);for(var ee=0;ee<G;++ee){var xe=parseInt(S.substr(ee*2,2),16);if(isNaN(xe))return ee;D[k+ee]=xe}return ee}function oe(D,S,k,G){return be($(S,D.length-k),D,k,G)}function ue(D,S,k,G){return be(se(S),D,k,G)}function U(D,S,k,G){return ue(D,S,k,G)}function F(D,S,k,G){return be(pe(S),D,k,G)}function j(D,S,k,G){return be(ie(S,D.length-k),D,k,G)}a.prototype.write=function(S,k,G,q){if(k===void 0)q="utf8",G=this.length,k=0;else if(G===void 0&&typeof k=="string")q=k,G=this.length,k=0;else if(isFinite(k))k=k|0,isFinite(G)?(G=G|0,q===void 0&&(q="utf8")):(q=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Z=this.length-k;if((G===void 0||G>Z)&&(G=Z),S.length>0&&(G<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var ee=!1;;)switch(q){case"hex":return ce(this,S,k,G);case"utf8":case"utf-8":return oe(this,S,k,G);case"ascii":return ue(this,S,k,G);case"latin1":case"binary":return U(this,S,k,G);case"base64":return F(this,S,k,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,S,k,G);default:if(ee)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(D,S,k){return S===0&&k===D.length?s.fromByteArray(D):s.fromByteArray(D.slice(S,k))}function N(D,S,k){k=Math.min(D.length,k);for(var G=[],q=S;q<k;){var Z=D[q],ee=null,xe=Z>239?4:Z>223?3:Z>191?2:1;if(q+xe<=k){var Ee,Se,ke,Ie;switch(xe){case 1:Z<128&&(ee=Z);break;case 2:Ee=D[q+1],(Ee&192)===128&&(Ie=(Z&31)<<6|Ee&63,Ie>127&&(ee=Ie));break;case 3:Ee=D[q+1],Se=D[q+2],(Ee&192)===128&&(Se&192)===128&&(Ie=(Z&15)<<12|(Ee&63)<<6|Se&63,Ie>2047&&(Ie<55296||Ie>57343)&&(ee=Ie));break;case 4:Ee=D[q+1],Se=D[q+2],ke=D[q+3],(Ee&192)===128&&(Se&192)===128&&(ke&192)===128&&(Ie=(Z&15)<<18|(Ee&63)<<12|(Se&63)<<6|ke&63,Ie>65535&&Ie<1114112&&(ee=Ie))}}ee===null?(ee=65533,xe=1):ee>65535&&(ee-=65536,G.push(ee>>>10&1023|55296),ee=56320|ee&1023),G.push(ee),q+=xe}return Q(G)}var X=4096;function Q(D){var S=D.length;if(S<=X)return String.fromCharCode.apply(String,D);for(var k="",G=0;G<S;)k+=String.fromCharCode.apply(String,D.slice(G,G+=X));return k}function W(D,S,k){var G="";k=Math.min(D.length,k);for(var q=S;q<k;++q)G+=String.fromCharCode(D[q]&127);return G}function ae(D,S,k){var G="";k=Math.min(D.length,k);for(var q=S;q<k;++q)G+=String.fromCharCode(D[q]);return G}function le(D,S,k){var G=D.length;(!S||S<0)&&(S=0),(!k||k<0||k>G)&&(k=G);for(var q="",Z=S;Z<k;++Z)q+=B(D[Z]);return q}function K(D,S,k){for(var G=D.slice(S,k),q="",Z=0;Z<G.length;Z+=2)q+=String.fromCharCode(G[Z]+G[Z+1]*256);return q}a.prototype.slice=function(S,k){var G=this.length;S=~~S,k=k===void 0?G:~~k,S<0?(S+=G,S<0&&(S=0)):S>G&&(S=G),k<0?(k+=G,k<0&&(k=0)):k>G&&(k=G),k<S&&(k=S);var q;if(a.TYPED_ARRAY_SUPPORT)q=this.subarray(S,k),q.__proto__=a.prototype;else{var Z=k-S;q=new a(Z,void 0);for(var ee=0;ee<Z;++ee)q[ee]=this[ee+S]}return q};function J(D,S,k){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+S>k)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(S,k,G){S=S|0,k=k|0,G||J(S,k,this.length);for(var q=this[S],Z=1,ee=0;++ee<k&&(Z*=256);)q+=this[S+ee]*Z;return q},a.prototype.readUIntBE=function(S,k,G){S=S|0,k=k|0,G||J(S,k,this.length);for(var q=this[S+--k],Z=1;k>0&&(Z*=256);)q+=this[S+--k]*Z;return q},a.prototype.readUInt8=function(S,k){return k||J(S,1,this.length),this[S]},a.prototype.readUInt16LE=function(S,k){return k||J(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUInt16BE=function(S,k){return k||J(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUInt32LE=function(S,k){return k||J(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUInt32BE=function(S,k){return k||J(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readIntLE=function(S,k,G){S=S|0,k=k|0,G||J(S,k,this.length);for(var q=this[S],Z=1,ee=0;++ee<k&&(Z*=256);)q+=this[S+ee]*Z;return Z*=128,q>=Z&&(q-=Math.pow(2,8*k)),q},a.prototype.readIntBE=function(S,k,G){S=S|0,k=k|0,G||J(S,k,this.length);for(var q=k,Z=1,ee=this[S+--q];q>0&&(Z*=256);)ee+=this[S+--q]*Z;return Z*=128,ee>=Z&&(ee-=Math.pow(2,8*k)),ee},a.prototype.readInt8=function(S,k){return k||J(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,k){k||J(S,2,this.length);var G=this[S]|this[S+1]<<8;return G&32768?G|4294901760:G},a.prototype.readInt16BE=function(S,k){k||J(S,2,this.length);var G=this[S+1]|this[S]<<8;return G&32768?G|4294901760:G},a.prototype.readInt32LE=function(S,k){return k||J(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,k){return k||J(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readFloatLE=function(S,k){return k||J(S,4,this.length),o.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,k){return k||J(S,4,this.length),o.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,k){return k||J(S,8,this.length),o.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,k){return k||J(S,8,this.length),o.read(this,S,!1,52,8)};function ne(D,S,k,G,q,Z){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>q||S<Z)throw new RangeError('"value" argument is out of bounds');if(k+G>D.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(S,k,G,q){if(S=+S,k=k|0,G=G|0,!q){var Z=Math.pow(2,8*G)-1;ne(this,S,k,G,Z,0)}var ee=1,xe=0;for(this[k]=S&255;++xe<G&&(ee*=256);)this[k+xe]=S/ee&255;return k+G},a.prototype.writeUIntBE=function(S,k,G,q){if(S=+S,k=k|0,G=G|0,!q){var Z=Math.pow(2,8*G)-1;ne(this,S,k,G,Z,0)}var ee=G-1,xe=1;for(this[k+ee]=S&255;--ee>=0&&(xe*=256);)this[k+ee]=S/xe&255;return k+G},a.prototype.writeUInt8=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,1,255,0),a.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),this[k]=S&255,k+1};function te(D,S,k,G){S<0&&(S=65535+S+1);for(var q=0,Z=Math.min(D.length-k,2);q<Z;++q)D[k+q]=(S&255<<8*(G?q:1-q))>>>(G?q:1-q)*8}a.prototype.writeUInt16LE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[k]=S&255,this[k+1]=S>>>8):te(this,S,k,!0),k+2},a.prototype.writeUInt16BE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[k]=S>>>8,this[k+1]=S&255):te(this,S,k,!1),k+2};function de(D,S,k,G){S<0&&(S=4294967295+S+1);for(var q=0,Z=Math.min(D.length-k,4);q<Z;++q)D[k+q]=S>>>(G?q:3-q)*8&255}a.prototype.writeUInt32LE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[k+3]=S>>>24,this[k+2]=S>>>16,this[k+1]=S>>>8,this[k]=S&255):de(this,S,k,!0),k+4},a.prototype.writeUInt32BE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[k]=S>>>24,this[k+1]=S>>>16,this[k+2]=S>>>8,this[k+3]=S&255):de(this,S,k,!1),k+4},a.prototype.writeIntLE=function(S,k,G,q){if(S=+S,k=k|0,!q){var Z=Math.pow(2,8*G-1);ne(this,S,k,G,Z-1,-Z)}var ee=0,xe=1,Ee=0;for(this[k]=S&255;++ee<G&&(xe*=256);)S<0&&Ee===0&&this[k+ee-1]!==0&&(Ee=1),this[k+ee]=(S/xe>>0)-Ee&255;return k+G},a.prototype.writeIntBE=function(S,k,G,q){if(S=+S,k=k|0,!q){var Z=Math.pow(2,8*G-1);ne(this,S,k,G,Z-1,-Z)}var ee=G-1,xe=1,Ee=0;for(this[k+ee]=S&255;--ee>=0&&(xe*=256);)S<0&&Ee===0&&this[k+ee+1]!==0&&(Ee=1),this[k+ee]=(S/xe>>0)-Ee&255;return k+G},a.prototype.writeInt8=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,1,127,-128),a.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),S<0&&(S=255+S+1),this[k]=S&255,k+1},a.prototype.writeInt16LE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[k]=S&255,this[k+1]=S>>>8):te(this,S,k,!0),k+2},a.prototype.writeInt16BE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[k]=S>>>8,this[k+1]=S&255):te(this,S,k,!1),k+2},a.prototype.writeInt32LE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[k]=S&255,this[k+1]=S>>>8,this[k+2]=S>>>16,this[k+3]=S>>>24):de(this,S,k,!0),k+4},a.prototype.writeInt32BE=function(S,k,G){return S=+S,k=k|0,G||ne(this,S,k,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),a.TYPED_ARRAY_SUPPORT?(this[k]=S>>>24,this[k+1]=S>>>16,this[k+2]=S>>>8,this[k+3]=S&255):de(this,S,k,!1),k+4};function _e(D,S,k,G,q,Z){if(k+G>D.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ye(D,S,k,G,q){return q||_e(D,S,k,4),o.write(D,S,k,G,23,4),k+4}a.prototype.writeFloatLE=function(S,k,G){return ye(this,S,k,!0,G)},a.prototype.writeFloatBE=function(S,k,G){return ye(this,S,k,!1,G)};function he(D,S,k,G,q){return q||_e(D,S,k,8),o.write(D,S,k,G,52,8),k+8}a.prototype.writeDoubleLE=function(S,k,G){return he(this,S,k,!0,G)},a.prototype.writeDoubleBE=function(S,k,G){return he(this,S,k,!1,G)},a.prototype.copy=function(S,k,G,q){if(G||(G=0),!q&&q!==0&&(q=this.length),k>=S.length&&(k=S.length),k||(k=0),q>0&&q<G&&(q=G),q===G||S.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("sourceStart out of bounds");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),S.length-k<q-G&&(q=S.length-k+G);var Z=q-G,ee;if(this===S&&G<k&&k<q)for(ee=Z-1;ee>=0;--ee)S[ee+k]=this[ee+G];else if(Z<1e3||!a.TYPED_ARRAY_SUPPORT)for(ee=0;ee<Z;++ee)S[ee+k]=this[ee+G];else Uint8Array.prototype.set.call(S,this.subarray(G,G+Z),k);return Z},a.prototype.fill=function(S,k,G,q){if(typeof S=="string"){if(typeof k=="string"?(q=k,k=0,G=this.length):typeof G=="string"&&(q=G,G=this.length),S.length===1){var Z=S.charCodeAt(0);Z<256&&(S=Z)}if(q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q)}else typeof S=="number"&&(S=S&255);if(k<0||this.length<k||this.length<G)throw new RangeError("Out of range index");if(G<=k)return this;k=k>>>0,G=G===void 0?this.length:G>>>0,S||(S=0);var ee;if(typeof S=="number")for(ee=k;ee<G;++ee)this[ee]=S;else{var xe=a.isBuffer(S)?S:$(new a(S,q).toString()),Ee=xe.length;for(ee=0;ee<G-k;++ee)this[ee+k]=xe[ee%Ee]}return this};var ge=/[^+\/0-9A-Za-z-_]/g;function M(D){if(D=A(D).replace(ge,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function A(D){return D.trim?D.trim():D.replace(/^\s+|\s+$/g,"")}function B(D){return D<16?"0"+D.toString(16):D.toString(16)}function $(D,S){S=S||1/0;for(var k,G=D.length,q=null,Z=[],ee=0;ee<G;++ee){if(k=D.charCodeAt(ee),k>55295&&k<57344){if(!q){if(k>56319){(S-=3)>-1&&Z.push(239,191,189);continue}else if(ee+1===G){(S-=3)>-1&&Z.push(239,191,189);continue}q=k;continue}if(k<56320){(S-=3)>-1&&Z.push(239,191,189),q=k;continue}k=(q-55296<<10|k-56320)+65536}else q&&(S-=3)>-1&&Z.push(239,191,189);if(q=null,k<128){if((S-=1)<0)break;Z.push(k)}else if(k<2048){if((S-=2)<0)break;Z.push(k>>6|192,k&63|128)}else if(k<65536){if((S-=3)<0)break;Z.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((S-=4)<0)break;Z.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return Z}function se(D){for(var S=[],k=0;k<D.length;++k)S.push(D.charCodeAt(k)&255);return S}function ie(D,S){for(var k,G,q,Z=[],ee=0;ee<D.length&&!((S-=2)<0);++ee)k=D.charCodeAt(ee),G=k>>8,q=k%256,Z.push(q),Z.push(G);return Z}function pe(D){return s.toByteArray(M(D))}function be(D,S,k,G){for(var q=0;q<G&&!(q+k>=S.length||q>=D.length);++q)S[q+k]=D[q];return q}function me(D){return D!==D}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{"base64-js":52,ieee754:91,isarray:94}],55:[function(e,t,n){(function(i){function s(I){return Array.isArray?Array.isArray(I):_(I)==="[object Array]"}n.isArray=s;function o(I){return typeof I=="boolean"}n.isBoolean=o;function f(I){return I===null}n.isNull=f;function l(I){return I==null}n.isNullOrUndefined=l;function g(I){return typeof I=="number"}n.isNumber=g;function u(I){return typeof I=="string"}n.isString=u;function a(I){return typeof I=="symbol"}n.isSymbol=a;function m(I){return I===void 0}n.isUndefined=m;function y(I){return _(I)==="[object RegExp]"}n.isRegExp=y;function c(I){return typeof I=="object"&&I!==null}n.isObject=c;function R(I){return _(I)==="[object Date]"}n.isDate=R;function O(I){return _(I)==="[object Error]"||I instanceof Error}n.isError=O;function P(I){return typeof I=="function"}n.isFunction=P;function C(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}n.isPrimitive=C,n.isBuffer=i.isBuffer;function _(I){return Object.prototype.toString.call(I)}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":93}],56:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(g){if(!o(g)||g<0||isNaN(g))throw TypeError("n must be a positive number");return this._maxListeners=g,this},i.prototype.emit=function(g){var u,a,m,y,c,R;if(this._events||(this._events={}),g==="error"&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(u=arguments[1],u instanceof Error)throw u;var O=new Error('Uncaught, unspecified "error" event. ('+u+")");throw O.context=u,O}if(a=this._events[g],l(a))return!1;if(s(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:y=Array.prototype.slice.call(arguments,1),a.apply(this,y)}else if(f(a))for(y=Array.prototype.slice.call(arguments,1),R=a.slice(),m=R.length,c=0;c<m;c++)R[c].apply(this,y);return!0},i.prototype.addListener=function(g,u){var a;if(!s(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",g,s(u.listener)?u.listener:u),this._events[g]?f(this._events[g])?this._events[g].push(u):this._events[g]=[this._events[g],u]:this._events[g]=u,f(this._events[g])&&!this._events[g].warned&&(l(this._maxListeners)?a=i.defaultMaxListeners:a=this._maxListeners,a&&a>0&&this._events[g].length>a&&(this._events[g].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[g].length),typeof console.trace=="function"&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(g,u){if(!s(u))throw TypeError("listener must be a function");var a=!1;function m(){this.removeListener(g,m),a||(a=!0,u.apply(this,arguments))}return m.listener=u,this.on(g,m),this},i.prototype.removeListener=function(g,u){var a,m,y,c;if(!s(u))throw TypeError("listener must be a function");if(!this._events||!this._events[g])return this;if(a=this._events[g],y=a.length,m=-1,a===u||s(a.listener)&&a.listener===u)delete this._events[g],this._events.removeListener&&this.emit("removeListener",g,u);else if(f(a)){for(c=y;c-- >0;)if(a[c]===u||a[c].listener&&a[c].listener===u){m=c;break}if(m<0)return this;a.length===1?(a.length=0,delete this._events[g]):a.splice(m,1),this._events.removeListener&&this.emit("removeListener",g,u)}return this},i.prototype.removeAllListeners=function(g){var u,a;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[g]&&delete this._events[g],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(a=this._events[g],s(a))this.removeListener(g,a);else if(a)for(;a.length;)this.removeListener(g,a[a.length-1]);return delete this._events[g],this},i.prototype.listeners=function(g){var u;return!this._events||!this._events[g]?u=[]:s(this._events[g])?u=[this._events[g]]:u=this._events[g].slice(),u},i.prototype.listenerCount=function(g){if(this._events){var u=this._events[g];if(s(u))return 1;if(u)return u.length}return 0},i.listenerCount=function(g,u){return g.listenerCount(u)};function s(g){return typeof g=="function"}function o(g){return typeof g=="number"}function f(g){return typeof g=="object"&&g!==null}function l(g){return g===void 0}},{}],57:[function(e,t,n){function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function o(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=e("../function-builder-base"),l=e("./function-node");t.exports=function(g){o(u,g);function u(){i(this,u);var a=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return a.Node=l,a}return u}(f)},{"../function-builder-base":62,"./function-node":58}],58:[function(e,t,n){var i=function(){function u(a,m){for(var y=0;y<m.length;y++){var c=m[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,m,y){return m&&u(a.prototype,m),y&&u(a,y),a}}();function s(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function o(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function f(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var l=e("../function-node-base"),g=e("../../core/utils");t.exports=function(u){f(a,u);function a(m,y,c){s(this,a);var R=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,m,y,c));return R.paramSizes=c?c.paramSizes:[],R.memberStates=[],R}return i(a,[{key:"pushMemberState",value:function(y){this.memberStates.push(y)}},{key:"popMemberState",value:function(y){if(this.memberState===y)this.memberStates.pop();else throw new Error("Cannot popMemberState "+y+" when in "+this.memberState)}},{key:"generate",value:function(){return this.debug&&console.log(this),this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=this.functionStringArray.join("").trim(),this.functionString}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"astFunctionDeclaration",value:function(y,c){return this.builder.addFunction(null,g.getAstString(this.jsFunctionString,y)),c}},{key:"astFunctionPrototype",value:function(y,c){if(this.isRootKernel||this.isSubKernel)return c;c.push(this.returnType),c.push(" "),c.push(this.functionName),c.push("(");for(var R=0;R<this.paramNames.length;++R)R>0&&c.push(", "),c.push("user_"),c.push(this.paramNames[R]);return c.push(`);
`),c}},{key:"astFunctionExpression",value:function(y,c){if(!this.isRootKernel){c.push("function"),c.push(" "),c.push(this.functionName),c.push("(");for(var R=0;R<this.paramNames.length;++R){var O=this.paramNames[R];R>0&&c.push(", "),c.push("user_"),c.push(O)}c.push(`) {
`)}for(var P=0;P<y.body.body.length;++P)this.astGeneric(y.body.body[P],c),c.push(`
`);return this.isRootKernel||c.push(`}
`),c}},{key:"astReturnStatement",value:function(y,c){return this.isRootKernel?(c.push("kernelResult = "),this.astGeneric(y.argument,c),c.push(";")):this.isSubKernel?(c.push(this.functionName+"Result = "),this.astGeneric(y.argument,c),c.push(";"),c.push("return "+this.functionName+"Result;")):(c.push("return "),this.astGeneric(y.argument,c),c.push(";")),c}},{key:"astLiteral",value:function(y,c){if(isNaN(y.value))throw this.astErrorOutput("Non-numeric literal not supported : "+y.value,y);return c.push(y.value),c}},{key:"astBinaryExpression",value:function(y,c){return c.push("("),this.astGeneric(y.left,c),c.push(y.operator),this.astGeneric(y.right,c),c.push(")"),c}},{key:"astIdentifierExpression",value:function(y,c){if(y.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",y);switch(this.state){case"input-index-y":case"input-index-z":c.push("(")}switch(y.name){case"gpu_threadX":c.push("threadId.x");break;case"gpu_threadY":c.push("threadId.y");break;case"gpu_threadZ":c.push("threadId.z");break;case"gpu_outputX":c.push("uOutputDim.x");break;case"gpu_outputY":c.push("uOutputDim.y");break;case"gpu_outputZ":c.push("uOutputDim.z");break;case"Infinity":c.push("Infinity");break;default:if(this.constants&&this.constants.hasOwnProperty(y.name))c.push("constants_"+y.name);else{var R=this.getUserParamName(y.name);R!==null?c.push("user_"+R):c.push("user_"+y.name)}}switch(this.state){case"input-index-y":{var O=this.paramSizes[this.paramNames.indexOf(this.memberState)];c.push(" * "+O[0]+")");break}case"input-index-z":{var P=this.paramSizes[this.paramNames.indexOf(this.memberState)];c.push(" * "+P[0]*P[1]+")");break}}return c}},{key:"astForStatement",value:function(y,c){if(y.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",y);if(y.test&&y.test.type==="BinaryExpression"){if((y.test.right.type==="Identifier"||y.test.right.type==="Literal")&&y.test.operator==="<"&&this.isIdentifierConstant(y.test.right.name)===!1){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),c.push("for ("),this.astGeneric(y.init,c),c[c.length-1]!==";"&&c.push(";"),this.astGeneric(y.test.left,c),c.push(y.test.operator),c.push("LOOP_MAX"),c.push(";"),this.astGeneric(y.update,c),c.push(")"),c.push(`{
`),c.push("if ("),this.astGeneric(y.test.left,c),c.push(y.test.operator),this.astGeneric(y.test.right,c),c.push(`) {
`),y.body.type==="BlockStatement")for(var R=0;R<y.body.body.length;R++)this.astGeneric(y.body.body[R],c);else this.astGeneric(y.body,c);return c.push(`} else {
`),c.push(`break;
`),c.push(`}
`),c.push(`}
`),c}else if(y.init.declarations){var O=JSON.parse(JSON.stringify(y.init.declarations)),P=y.update.argument;if(!Array.isArray(O)||O.length<1)throw console.log(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(O.length>1){for(var C=null,_=0;_<O.length;_++){var I=O[_];I.id.name===P.name?(C=I,O.splice(_,1)):(c.push("var "),this.astGeneric(I,c),c.push(";"))}c.push("for (let "),this.astGeneric(C,c),c.push(";")}else c.push("for ("),this.astGeneric(y.init,c);return this.astGeneric(y.test,c),c.push(";"),this.astGeneric(y.update,c),c.push(")"),this.astGeneric(y.body,c),c}}throw this.astErrorOutput("Invalid for statement",y)}},{key:"astWhileStatement",value:function(y,c){if(y.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",y);return c.push("for (let i = 0; i < LOOP_MAX; i++) {"),c.push("if ("),this.astGeneric(y.test,c),c.push(`) {
`),this.astGeneric(y.body,c),c.push(`} else {
`),c.push(`break;
`),c.push(`}
`),c.push(`}
`),c}},{key:"astDoWhileStatement",value:function(y,c){if(y.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",y);return c.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(y.body,c),c.push("if (!"),this.astGeneric(y.test,c),c.push(`) {
`),c.push(`break;
`),c.push(`}
`),c.push(`}
`),c}},{key:"astAssignmentExpression",value:function(y,c){return this.astGeneric(y.left,c),c.push(y.operator),this.astGeneric(y.right,c),c}},{key:"astEmptyStatement",value:function(y,c){return c}},{key:"astBlockStatement",value:function(y,c){c.push(`{
`);for(var R=0;R<y.body.length;R++)this.astGeneric(y.body[R],c);return c.push(`}
`),c}},{key:"astExpressionStatement",value:function(y,c){return this.astGeneric(y.expression,c),c.push(";"),c}},{key:"astVariableDeclaration",value:function(y,c){c.push("var ");for(var R=0;R<y.declarations.length;R++)this.declarations[y.declarations[R].id.name]="var",R>0&&c.push(","),this.astGeneric(y.declarations[R],c);return c.push(";"),c}},{key:"astVariableDeclarator",value:function(y,c){return this.astGeneric(y.id,c),y.init!==null&&(c.push("="),this.astGeneric(y.init,c)),c}},{key:"astIfStatement",value:function(y,c){return c.push("if ("),this.astGeneric(y.test,c),c.push(")"),y.consequent.type==="BlockStatement"?this.astGeneric(y.consequent,c):(c.push(` {
`),this.astGeneric(y.consequent,c),c.push(`
}
`)),y.alternate&&(c.push("else "),y.alternate.type==="BlockStatement"?this.astGeneric(y.alternate,c):(c.push(` {
`),this.astGeneric(y.alternate,c),c.push(`
}
`))),c}},{key:"astBreakStatement",value:function(y,c){return c.push(`break;
`),c}},{key:"astContinueStatement",value:function(y,c){return c.push(`continue;
`),c}},{key:"astLogicalExpression",value:function(y,c){return c.push("("),this.astGeneric(y.left,c),c.push(y.operator),this.astGeneric(y.right,c),c.push(")"),c}},{key:"astUpdateExpression",value:function(y,c){return y.prefix?(c.push(y.operator),this.astGeneric(y.argument,c)):(this.astGeneric(y.argument,c),c.push(y.operator)),c}},{key:"astUnaryExpression",value:function(y,c){return y.prefix?(c.push(y.operator),this.astGeneric(y.argument,c)):(this.astGeneric(y.argument,c),c.push(y.operator)),c}},{key:"astThisExpression",value:function(y,c){return c.push("_this"),c}},{key:"astMemberExpression",value:function(y,c){if(y.computed)if(y.object.type==="Identifier"||y.object.type==="MemberExpression"&&y.object.object.object&&y.object.object.object.type==="ThisExpression"&&y.object.object.property.name==="constants")this.pushState("identifier"),this.astGeneric(y.object,c),this.popState("identifier"),c.push("["),this.isInput(y.object.name)?this.astGeneric(y.property,c):this.astGeneric(y.property,c),c.push("]");else if(y.object.object)if(y.object.object.object&&this.isInput(y.object.object.object.name)){this.pushMemberState(y.object.object.object.name),this.pushState("input-index-z"),this.astGeneric(y.object,c);var R=c.pop();c.push(" + "),this.popState("input-index-z"),this.pushState("input-index"),this.astGeneric(y.property,c),this.popState("input-index"),c.push(R),this.popMemberState(y.object.object.object.name)}else if(this.isInput(y.object.object.name)){this.pushMemberState(y.object.object.name),this.isState("input-index-z")||this.pushState("input-index-y"),this.astGeneric(y.object,c);var O=c.pop();c.push(" + "),this.isState("input-index-z")||this.popState("input-index-y");var P=this.isState("input-index-z");P?this.pushState("input-index-y"):this.pushState("input-index"),this.astGeneric(y.property,c),P?this.popState("input-index-y"):this.popState("input-index"),c.push(O),this.popMemberState(y.object.object.name)}else{this.astGeneric(y.object,c);var C=c.pop();c.push("]["),this.astGeneric(y.property,c),c.push(C)}else{this.astGeneric(y.object,c);var _=c.pop();c.push("]["),this.astGeneric(y.property,c),c.push(_)}else{var I=this.astMemberExpressionUnroll(y);switch(y.property.type==="Identifier"&&y.computed&&(I="user_"+I),I.indexOf("this.constants")===0?I="constants_"+I.substring(15):I.indexOf("this")===0&&(I="_"+I),this.state){case"input-index-y":case"input-index-z":c.push("(")}switch(I){case"_this.output.x":c.push(this.output[0]);break;case"_this.output.y":c.push(this.output[1]);break;case"_this.output.z":c.push(this.output[2]);break;default:y.object&&y.object.name&&this.declarations[y.object.name]&&c.push("user_"),c.push(I)}switch(this.state){case"input-index-y":{var T=this.paramSizes[this.paramNames.indexOf(this.memberState)];c.push(" * "+T[0]+")");break}case"input-index-z":{var E=this.paramSizes[this.paramNames.indexOf(this.memberState)];c.push(" * "+E[0]*E[1]+")");break}}}return c}},{key:"astSequenceExpression",value:function(y,c){for(var R=0;R<y.expressions.length;R++)R>0&&c.push(","),this.astGeneric(y.expressions,c);return c}},{key:"astCallExpression",value:function(y,c){if(y.callee){var R=this.astMemberExpressionUnroll(y.callee);this.calledFunctions.indexOf(R)<0&&this.calledFunctions.push(R),this.hasOwnProperty("funcName")||(this.calledFunctionsArguments[R]=[]);var O=[];this.calledFunctionsArguments[R].push(O),c.push(R),c.push("(");for(var P=0;P<y.arguments.length;++P){var C=y.arguments[P];if(P>0&&c.push(", "),this.astGeneric(C,c),C.type==="Identifier"){var _=this.paramNames.indexOf(C.name);_===-1?O.push(null):O.push({name:C.name,type:this.paramTypes[_]})}else O.push(null)}return c.push(")"),c}throw this.astErrorOutput("Unknown CallExpression",y)}},{key:"astArrayExpression",value:function(y,c){var R=y.elements.length;c.push("[");for(var O=0;O<R;++O){O>0&&c.push(", ");var P=y.elements[O];this.astGeneric(P,c)}return c.push("]"),c}},{key:"astDebuggerStatement",value:function(y,c){return c.push("debugger;"),c}},{key:"memberState",get:function(){return this.memberStates[this.memberStates.length-1]}}]),a}(l)},{"../../core/utils":88,"../function-node-base":63}],59:[function(e,t,n){var i=e("../../core/utils"),s=e("../kernel-run-shortcut");function o(l){return/^function /.test(l)&&(l=l.substring(9)),l.replace(/[_]typeof/g,"typeof")}function f(l){return l.replace(/[_]typeof/g,"typeof")}t.exports=function(l,g){return`() => {
    `+s.toString()+`;
    const utils = {
      allPropertiesOf: `+f(i.allPropertiesOf.toString())+`,
      clone: `+f(i.clone.toString())+`,
      checkOutput: `+f(i.checkOutput.toString())+`
    };
    const Utils = utils;
    let Input = function() {};
    class `+(g||"Kernel")+` {
      constructor() {        
        this.argumentsLength = 0;
        this._canvas = null;
        this._webGl = null;
        this.built = false;
        this.program = null;
        this.paramNames = `+JSON.stringify(l.paramNames)+`;
        this.paramTypes = `+JSON.stringify(l.paramTypes)+`;
        this.texSize = `+JSON.stringify(l.texSize)+`;
        this.output = `+JSON.stringify(l.output)+";\n        this._kernelString = `"+l._kernelString+"`;\n        this.output = "+JSON.stringify(l.output)+`;
		    this.run = function() {
          this.run = null;
          this.build();
          return this.run.apply(this, arguments);
        }.bind(this);
        this.thread = {
          x: 0,
          y: 0,
          z: 0
        };
      }
      setCanvas(canvas) { this._canvas = canvas; return this; }
      setWebGl(webGl) { this._webGl = webGl; return this; }
      setInput(Type) { Input = Type; }
      `+o(l.build.toString())+`
      `+o(l.setupParams.toString())+`
      `+o(l.setupConstants.toString())+`
      run () { `+l.kernelString+` }
      getKernelString() { return this._kernelString; }
      `+o(l.validateOptions.toString())+`
    };
    return kernelRunShortcut(new Kernel());
  };`}},{"../../core/utils":88,"../kernel-run-shortcut":65}],60:[function(e,t,n){var i=function(){function a(m,y){for(var c=0;c<y.length;c++){var R=y[c];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}return function(m,y,c){return y&&a(m.prototype,y),c&&a(m,c),m}}();function s(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}function o(a,m){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:a}function f(a,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);a.prototype=Object.create(m&&m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(a,m):a.__proto__=m)}var l=e("../kernel-base"),g=e("../../core/utils"),u=e("./kernel-string");t.exports=function(a){f(m,a);function m(y,c){s(this,m);var R=o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,c));return R._fn=null,R.run=null,R._canvasCtx=null,R._imageData=null,R._colorData=null,R._kernelString=null,R.thread={x:0,y:0,z:0},R.run=(function(){return this.run=null,this.build.apply(this,arguments),this.run.apply(this,arguments)}).bind(R),R}return i(m,[{key:"validateOptions",value:function(){if(!this.output||this.output.length===0){if(arguments.length!==1)throw"Auto dimensions only supported for kernels with only one input";var c=g.getArgumentType(arguments[0]);if(c==="Array")this.output=g.getDimensions(c);else if(c==="NumberTexture"||c==="ArrayTexture(4)")this.output=arguments[0].output;else throw"Auto dimensions not supported for input type: "+c}g.checkOutput(this.output)}},{key:"build",value:function(){this.setupConstants(),this.setupParams(arguments),this.validateOptions();var c=this._canvas;c&&(this._canvasCtx=c.getContext("2d"));for(var R=this.threadDim=g.clone(this.output);R.length<3;)R.push(1);if(this.graphical){var O=this._canvas;if(!O)throw new Error("no canvas available for using graphical output");O.width=R[0],O.height=R[1],this._imageData=this._canvasCtx.createImageData(R[0],R[1]),this._colorData=new Uint8ClampedArray(R[0]*R[1]*4)}var P=this.getKernelString();this.debug&&(console.log("Options:"),console.dir(this),console.log("Function output:"),console.log(P)),this.kernelString=P,this.run=new Function([],P).bind(this)()}},{key:"color",value:function(c,R,O,P){typeof P>"u"&&(P=1),c=Math.floor(c*255),R=Math.floor(R*255),O=Math.floor(O*255),P=Math.floor(P*255);var C=this.output[0],_=this.output[1],I=this.thread.x,T=_-this.thread.y-1,E=I+T*C;this._colorData[E*4+0]=c,this._colorData[E*4+1]=R,this._colorData[E*4+2]=O,this._colorData[E*4+3]=P}},{key:"getKernelString",value:function(){if(this._kernelString!==null)return this._kernelString;for(var c=this.functionBuilder,R=this.threadDim||(this.threadDim=g.clone(this.output));R.length<3;)R.push(1);if(c.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:R,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,paramSizes:this.paramSizes,constantTypes:this.constantTypes}),c.addFunctions(this.functions,{constants:this.constants,output:R}),c.addNativeFunctions(this.nativeFunctions),this.subKernels!==null){this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[];for(var O=0;O<this.subKernels.length;O++){var P=this.subKernels[O];c.addSubKernel(P,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations}),this.subKernelOutputVariableNames.push(P.name+"Result")}}else if(this.subKernelProperties!==null){this.subKernelOutputVariableNames=[];for(var C in this.subKernelProperties)if(this.subKernelProperties.hasOwnProperty(C)){var _=this.subKernelProperties[C];c.addSubKernel(_),this.subKernelOutputVariableNames.push(_.name+"Result")}}var I=c.getPrototypes("kernel"),T=null;I.length>1?I=I.filter(function(v){return/^function/.test(v)?v:(T=v,!1)}):T=I.shift();var E=this._kernelString=`
		var LOOP_MAX = `+this._getLoopMaxString()+`
		var constants = this.constants;
		var _this = this;
    return function (`+this.paramNames.map(function(v){return"user_"+v}).join(", ")+`) {
      `+this._processConstants()+`
      `+this._processParams()+`
      `+this._kernelLoop(T)+`
      if (this.graphical) {
        this._imageData.data.set(this._colorData);
        this._canvasCtx.putImageData(this._imageData, 0, 0);
        return;
      }
      `+this._kernelOutput()+`
      `+(I.length>0?I.join(`
`):"")+`
    }.bind(this);`;return E}},{key:"toString",value:function(){return u(this)}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+`;
`:` 1000;
`}},{key:"_processConstants",value:function(){if(!this.constants)return"";var c=[];for(var R in this.constants){var O=this.constantTypes[R];switch(O){case"HTMLImage":c.push("  var constants_"+R+" = this._imageTo2DArray(this.constants."+R+")");break;case"HTMLImageArray":c.push("  var constants_"+R+" = this._imageTo3DArray(this.constants."+R+")");break;case"Input":c.push("  var constants_"+R+" = this.constants."+R+".value");break;default:c.push("  var constants_"+R+" = this.constants."+R)}}return c.join(`
`)}},{key:"_processParams",value:function(){for(var c=[],R=0;R<this.paramTypes.length;R++)switch(this.paramTypes[R]){case"HTMLImage":c.push("  user_"+this.paramNames[R]+" = this._imageTo2DArray(user_"+this.paramNames[R]+")");break;case"HTMLImageArray":c.push("  user_"+this.paramNames[R]+" = this._imageTo3DArray(user_"+this.paramNames[R]+")");break;case"Input":c.push("  user_"+this.paramNames[R]+" = user_"+this.paramNames[R]+".value");break}return c.join(`;
`)}},{key:"_imageTo2DArray",value:function(c){var R=this._canvas;R.width<c.width&&(R.width=c.width),R.height<c.height&&(R.height=c.height);var O=this._canvasCtx;O.drawImage(c,0,0,c.width,c.height);for(var P=O.getImageData(0,0,c.width,c.height).data,C=new Array(c.height),_=0,I=c.height-1;I>=0;I--){C[I]=new Array(c.width);for(var T=0;T<c.width;T++){var E=P[_++]/255,v=P[_++]/255,x=P[_++]/255,Y=P[_++]/255,re=[E,v,x,Y];re.r=E,re.g=v,re.b=x,re.a=Y,C[I][T]=re}}return C}},{key:"_imageTo3DArray",value:function(c){for(var R=new Array(c.length),O=0;O<c.length;O++)R[O]=this._imageTo2DArray(c[O]);return R}},{key:"_kernelLoop",value:function(c){switch(this.output.length){case 1:return this._kernel1DLoop(c);case 2:return this._kernel2DLoop(c);case 3:return this._kernel3DLoop(c);default:throw new Error("unsupported size kernel")}}},{key:"_kernel1DLoop",value:function(c){var R=this.threadDim;return`
    var result = new Float32Array(`+R[0]+`);
    `+this._mapSubKernels(function(O){return"var result_"+O+" = new Float32Array("+R[0]+`);
`}).join("")+`
    for (var x = 0; x < `+R[0]+`; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      var kernelResult;
      `+c+`
      result[x] = kernelResult;
      `+this._mapSubKernels(function(O){return"result_"+O+"[x] = "+O+`;
`}).join("")+`
    }`}},{key:"_kernel2DLoop",value:function(c){var R=this.threadDim;return`
    var result = new Array(`+R[1]+`);
    `+this._mapSubKernels(function(O){return"var result_"+O+" = new Array("+R[1]+`);
`}).join("")+`
    for (var y = 0; y < `+R[1]+`; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      var resultX = result[y] = new Float32Array(`+R[0]+`);
      `+this._mapSubKernels(function(O){return"var result_"+O+"X = result_"+O+"[y] = new Float32Array("+R[0]+`);
`}).join("")+`
      for (var x = 0; x < `+R[0]+`; x++) {
      	this.thread.x = x;
        var kernelResult;
        `+c+`
        resultX[x] = kernelResult;
        `+this._mapSubKernels(function(O){return"result_"+O+"X[x] = "+O+`;
`}).join("")+`
      }
    }`}},{key:"_kernel3DLoop",value:function(c){var R=this.threadDim;return`
    var result = new Array(`+R[2]+`);
    `+this._mapSubKernels(function(O){return"var result_"+O+" = new Array("+R[2]+`);
`}).join("")+`
    for (var z = 0; z < `+R[2]+`; z++) {
      this.thread.z = z;
      var resultY = result[z] = new Array(`+R[1]+`);
      `+this._mapSubKernels(function(O){return"var result_"+O+"Y = result_"+O+"[z] = new Array("+R[1]+`);
`}).join("")+`
      for (var y = 0; y < `+R[1]+`; y++) {
        this.thread.y = y;
        var resultX = resultY[y] = new Float32Array(`+R[0]+`);
        `+this._mapSubKernels(function(O){return"var result_"+O+"X = result_"+O+"Y[y] = new Float32Array("+R[0]+`);
`}).join("")+`
        for (var x = 0; x < `+R[0]+`; x++) {
        	this.thread.x = x;
          var kernelResult;
          `+c+`
          resultX[x] = kernelResult;
          `+this._mapSubKernels(function(O){return"result_"+O+"X[x] = "+O+`;
`}).join("")+`
        }
      }
    }`}},{key:"_kernelOutput",value:function(){var c=this;return this.subKernelOutputVariableNames?`return {
      result: result,
      `+Object.keys(this.subKernelProperties||this.subKernelOutputVariableNames).map(function(R,O){return R+": result_"+c.subKernelOutputVariableNames[O]}).join(`,
`)+`
    };`:"return result;"}},{key:"_mapSubKernels",value:function(c){return this.subKernelOutputVariableNames===null?[""]:this.subKernelOutputVariableNames.map(c)}}]),m}(l)},{"../../core/utils":88,"../kernel-base":64,"./kernel-string":59}],61:[function(e,t,n){var i=function(){function a(m,y){for(var c=0;c<y.length;c++){var R=y[c];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}return function(m,y,c){return y&&a(m.prototype,y),c&&a(m,c),m}}();function s(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}function o(a,m){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:a}function f(a,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);a.prototype=Object.create(m&&m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(a,m):a.__proto__=m)}e("../../core/utils");var l=e("../runner-base"),g=e("./kernel"),u=e("./function-builder");t.exports=function(a){f(m,a);function m(y){s(this,m);var c=o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,new u,y));return c.Kernel=g,c.kernel=null,c}return i(m,[{key:"getMode",value:function(){return"cpu"}}]),m}(l)},{"../../core/utils":88,"../runner-base":66,"./function-builder":57,"./kernel":60}],62:[function(e,t,n){var i=function(){function o(f,l){for(var g=0;g<l.length;g++){var u=l[g];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}return function(f,l,g){return l&&o(f.prototype,l),g&&o(f,g),f}}();function s(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}t.exports=function(){function o(f){s(this,o),this.nodeMap={},this.nativeFunctions={},this.gpu=f,this.rootKernel=null,this.Node=null}return i(o,[{key:"addNativeFunction",value:function(l,g){this.nativeFunctions[l]=g}},{key:"addFunction",value:function(l,g,u){this.addFunctionNode(new this.Node(l,g,u).setBuilder(this))}},{key:"addFunctions",value:function(l,g){if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFunction(null,l[u],g);else for(var a in l)this.addFunction(a,l[a],g)}},{key:"addNativeFunctions",value:function(l){for(var g in l)l.hasOwnProperty(g)&&this.addNativeFunction(g,l[g])}},{key:"addFunctionNode",value:function(l){this.nodeMap[l.functionName]=l,l.isRootKernel&&(this.rootKernel=l)}},{key:"traceFunctionCalls",value:function(l,g,u){l=l||"kernel",g=g||[];var a=this.nodeMap[l];if(a){var m=g.indexOf(l);if(m===-1){g.push(l),u&&(a.parent=u),a.getFunctionString();for(var y=0;y<a.calledFunctions.length;++y)this.traceFunctionCalls(a.calledFunctions[y],g,a)}else{var c=g.splice(m,1)[0];g.push(c)}}return this.nativeFunctions[l]&&(g.indexOf(l)>=0||g.push(l)),g}},{key:"addKernel",value:function(l,g){var u=new this.Node("kernel",l,g);return u.setBuilder(this),u.isRootKernel=!0,this.addFunctionNode(u),u}},{key:"addSubKernel",value:function(l,g){var u=new this.Node(null,l,g);return u.setBuilder(this),u.isSubKernel=!0,this.addFunctionNode(u),u}},{key:"getPrototypeString",value:function(l){return this.getPrototypes(l).join(`
`)}},{key:"getPrototypes",value:function(l){return this.rootKernel.generate(),l?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(l,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.nodeMap))}},{key:"getStringFromFunctionNames",value:function(l){for(var g=[],u=0;u<l.length;++u){var a=this.nodeMap[l[u]];a&&g.push(this.nodeMap[l[u]].getFunctionString())}return g.join(`
`)}},{key:"getPrototypesFromFunctionNames",value:function(l,g){for(var u=[],a=0;a<l.length;++a){var m=l[a],y=this.nodeMap[m];y?u.push(y.getFunctionPrototypeString(g)):this.nativeFunctions[m]&&u.push(this.nativeFunctions[m])}return u}},{key:"getPrototypeStringFromFunctionNames",value:function(l,g){return this.getPrototypesFromFunctionNames(l,g).toString()}},{key:"getString",value:function(l,g){return g===void 0&&(g={}),l?this.getStringFromFunctionNames(this.traceFunctionCalls(l,[],g).reverse(),g):this.getStringFromFunctionNames(Object.keys(this.nodeMap),g)}}]),o}()},{}],63:[function(require,module,exports){var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(t,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var utils=require("../core/utils"),acorn=require("acorn");module.exports=function(){function BaseFunctionNode(e,t,n){_classCallCheck(this,BaseFunctionNode),this.calledFunctions=[],this.calledFunctionsArguments={},this.builder=null,this.isRootKernel=!1,this.isSubKernel=!1,this.parent=null,this.debug=null,this.prototypeOnly=null,this.constants=null,this.output=null,this.declarations={},this.states=[],this.fixIntegerDivisionAccuracy=null;var i=void 0,s=void 0;if(n&&(n.hasOwnProperty("debug")&&(this.debug=n.debug),n.hasOwnProperty("prototypeOnly")&&(this.prototypeOnly=n.prototypeOnly),n.hasOwnProperty("constants")&&(this.constants=n.constants),n.hasOwnProperty("output")&&(this.output=n.output),n.hasOwnProperty("loopMaxIterations")&&(this.loopMaxIterations=n.loopMaxIterations),n.hasOwnProperty("paramTypes")&&(this.paramTypes=i=n.paramTypes),n.hasOwnProperty("constantTypes")?this.constantTypes=n.constantTypes:this.constantTypes={},n.hasOwnProperty("returnType")&&(s=n.returnType),n.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=n.fixIntegerDivisionAccuracy)),!t)throw"jsFunction, parameter is missing";if(this.jsFunctionString=t.toString(),!utils.isFunctionString(this.jsFunctionString))throw console.error("jsFunction, to string conversion check failed: not a function?",this.jsFunctionString),"jsFunction, to string conversion check failed: not a function?";if(utils.isFunction(t)?this.jsFunction=t:this.jsFunction=null,this.functionName=e||t&&t.name||utils.getFunctionNameFromString(this.jsFunctionString),!this.functionName)throw"jsFunction, missing name argument or value";if(this.paramNames=utils.getParamNamesFromString(this.jsFunctionString),i){if(Array.isArray(i)){if(i.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+i.length+","+this.paramNames.length+")";this.paramTypes=i}else if((typeof i>"u"?"undefined":_typeof(i))==="object"){var o=Object.keys(i);if(i.hasOwnProperty("returns")&&(this.returnType=i.returns,o.splice(o.indexOf("returns"),1)),o.length>0&&o.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+o.length+","+this.paramNames.length+")";this.paramTypes=this.paramNames.map(function(f){return i.hasOwnProperty(f)?i[f]:"Number"})}}else this.paramTypes=[];this.returnType||(this.returnType=s||"Number")}return _createClass(BaseFunctionNode,[{key:"isIdentifierConstant",value:function(t){return this.constants?this.constants.hasOwnProperty(t):!1}},{key:"isInput",value:function(t){return this.paramTypes[this.paramNames.indexOf(t)]==="Input"}},{key:"setBuilder",value:function(t){return this.builder=t,this}},{key:"pushState",value:function(t){this.states.push(t)}},{key:"popState",value:function(t){if(this.state!==t)throw new Error("Cannot popState "+t+" when in "+this.state);this.states.pop()}},{key:"isState",value:function(t){return this.state===t}},{key:"getJsFunction",value:function getJsFunction(){if(this.jsFunction)return this.jsFunction;if(this.jsFunctionString)return this.jsFunction=eval(this.jsFunctionString),this.jsFunction;throw"Missing jsFunction, and jsFunctionString parameter"}},{key:"astMemberExpressionUnroll",value:function e(t){if(t.type==="Identifier")return t.name;if(t.type==="ThisExpression")return"this";if(t.type==="MemberExpression"&&t.object&&t.property)return t.object.hasOwnProperty("name")&&t.object.name[0]==="_"?this.astMemberExpressionUnroll(t.property):this.astMemberExpressionUnroll(t.object)+"."+this.astMemberExpressionUnroll(t.property);if(t.hasOwnProperty("expressions")){var n=t.expressions[0];if(n.type==="Literal"&&n.value===0&&t.expressions.length===2)return this.astMemberExpressionUnroll(t.expressions[1])}throw this.astErrorOutput("Unknown CallExpression_unroll",t)}},{key:"getJsAST",value:function e(t){if(this.jsFunctionAST)return this.jsFunctionAST;if(t=t||acorn,t===null)throw"Missing JS to AST parser";var n=t.parse("var "+this.functionName+" = "+this.jsFunctionString+";",{locations:!0});if(n===null)throw"Failed to parse JS code";var i=n.body[0].declarations[0].init;return this.jsFunctionAST=i,i}},{key:"getFunctionString",value:function e(){return this.generate(),this.functionString}},{key:"setFunctionString",value:function e(t){this.functionString=t}},{key:"getParamType",value:function e(t){var n=this.paramNames.indexOf(t);if(n===-1)return this.declarations.hasOwnProperty(t)?this.declarations[t]:"Number";if(this.parent){if(this.paramTypes[n])return this.paramTypes[n];for(var i=this.parent.calledFunctionsArguments[this.functionName],s=0;s<i.length;s++){var o=i[s];if(o[n]!==null)return this.paramTypes[n]=o[n].type}}else if(this.paramTypes[n])return this.paramTypes[n];return"Number"}},{key:"getConstantType",value:function e(t){return this.constantTypes[t]?this.constantTypes[t]:null}},{key:"getUserParamName",value:function e(t){var n=this.paramNames.indexOf(t);if(n===-1||!this.parent||!this.isSubKernel)return null;for(var i=this.parent.calledFunctionsArguments[this.functionName],s=0;s<i.length;s++){var o=i[s],f=o[n];if(f!==null&&f.type!=="Integer")return f.name}return null}},{key:"generate",value:function e(t){throw new Error("generate not defined on BaseFunctionNode")}},{key:"astGeneric",value:function e(t,n){if(t===null)throw this.astErrorOutput("NULL ast",t);if(Array.isArray(t)){for(var i=0;i<t.length;i++)this.astGeneric(t[i],n);return n}switch(t.type){case"FunctionDeclaration":return this.astFunctionDeclaration(t,n);case"FunctionExpression":return this.astFunctionExpression(t,n);case"ReturnStatement":return this.astReturnStatement(t,n);case"Literal":return this.astLiteral(t,n);case"BinaryExpression":return this.astBinaryExpression(t,n);case"Identifier":return this.astIdentifierExpression(t,n);case"AssignmentExpression":return this.astAssignmentExpression(t,n);case"ExpressionStatement":return this.astExpressionStatement(t,n);case"EmptyStatement":return this.astEmptyStatement(t,n);case"BlockStatement":return this.astBlockStatement(t,n);case"IfStatement":return this.astIfStatement(t,n);case"BreakStatement":return this.astBreakStatement(t,n);case"ContinueStatement":return this.astContinueStatement(t,n);case"ForStatement":return this.astForStatement(t,n);case"WhileStatement":return this.astWhileStatement(t,n);case"DoWhileStatement":return this.astDoWhileStatement(t,n);case"VariableDeclaration":return this.astVariableDeclaration(t,n);case"VariableDeclarator":return this.astVariableDeclarator(t,n);case"ThisExpression":return this.astThisExpression(t,n);case"SequenceExpression":return this.astSequenceExpression(t,n);case"UnaryExpression":return this.astUnaryExpression(t,n);case"UpdateExpression":return this.astUpdateExpression(t,n);case"LogicalExpression":return this.astLogicalExpression(t,n);case"MemberExpression":return this.astMemberExpression(t,n);case"CallExpression":return this.astCallExpression(t,n);case"ArrayExpression":return this.astArrayExpression(t,n);case"DebuggerStatement":return this.astDebuggerStatement(t,n)}throw this.astErrorOutput("Unknown ast type : "+t.type,t)}},{key:"astErrorOutput",value:function e(t,n){return console.error(utils.getAstString(this.jsFunctionString,n)),console.error(t,n,this),t}},{key:"astDebuggerStatement",value:function e(t,n){return n}},{key:"astFunctionDeclaration",value:function e(t,n){return n}},{key:"astFunctionExpression",value:function e(t,n){return n}},{key:"astReturnStatement",value:function e(t,n){return n}},{key:"astLiteral",value:function e(t,n){return n}},{key:"astBinaryExpression",value:function e(t,n){return n}},{key:"astIdentifierExpression",value:function e(t,n){return n}},{key:"astAssignmentExpression",value:function e(t,n){return n}},{key:"astExpressionStatement",value:function e(t,n){return n}},{key:"astEmptyStatement",value:function e(t,n){return n}},{key:"astBlockStatement",value:function e(t,n){return n}},{key:"astIfStatement",value:function e(t,n){return n}},{key:"astBreakStatement",value:function e(t,n){return n}},{key:"astContinueStatement",value:function e(t,n){return n}},{key:"astForStatement",value:function e(t,n){return n}},{key:"astWhileStatement",value:function e(t,n){return n}},{key:"astDoWhileStatement",value:function e(t,n){return n}},{key:"astVariableDeclaration",value:function e(t,n){return n}},{key:"astVariableDeclarator",value:function e(t,n){return n}},{key:"astThisExpression",value:function e(t,n){return n}},{key:"astSequenceExpression",value:function e(t,n){return n}},{key:"astUnaryExpression",value:function e(t,n){return n}},{key:"astUpdateExpression",value:function e(t,n){return n}},{key:"astLogicalExpression",value:function e(t,n){return n}},{key:"astMemberExpression",value:function e(t,n){return n}},{key:"astCallExpression",value:function e(t,n){return n}},{key:"astArrayExpression",value:function e(t,n){return n}},{key:"pushParameter",value:function e(t,n){this.isState("in-get-call-parameters")?t.push("int("+n+")"):t.push(n)}},{key:"state",get:function e(){return this.states[this.states.length-1]}}]),BaseFunctionNode}()},{"../core/utils":88,acorn:90}],64:[function(e,t,n){var i=function(){function l(g,u){for(var a=0;a<u.length;a++){var m=u[a];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,u,a){return u&&l(g.prototype,u),a&&l(g,a),g}}();function s(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}var o=e("../core/utils"),f=e("../core/input");t.exports=function(){function l(g,u){s(this,l),this.paramNames=o.getParamNamesFromString(g),this.fnString=g,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.wraparound=null,this.hardcodeConstants=null,this.outputToTexture=null,this.outputImmutable=null,this.texSize=null,this._canvas=null,this._webGl=null,this.threadDim=null,this.floatTextures=null,this.floatOutput=null,this.floatOutputForce=null,this.addFunction=null,this.functions=null,this.nativeFunctions=null,this.subKernels=null,this.subKernelProperties=null,this.subKernelNames=null,this.subKernelOutputVariableNames=null,this.functionBuilder=null,this.paramTypes=null,this.paramSizes=null,this.constantTypes=null,this.fixIntegerDivisionAccuracy=null;for(var a in u)!u.hasOwnProperty(a)||!this.hasOwnProperty(a)||(this[a]=u[a]);u.hasOwnProperty("canvas")&&(this._canvas=u.canvas),u.hasOwnProperty("webGl")&&(this._webGl=u.webGl),u.hasOwnProperty("output")&&this.setOutput(u.output),this._canvas||(this._canvas=o.initCanvas())}return i(l,[{key:"build",value:function(){throw new Error('"build" not defined on Base')}},{key:"setupParams",value:function(u){this.paramTypes=[],this.paramSizes=[];for(var a=0;a<u.length;a++){var m=u[a];this.paramTypes.push(o.getArgumentType(m)),this.paramSizes.push(m.constructor===f?m.size:null)}}},{key:"setupConstants",value:function(){if(this.constantTypes={},this.constants)for(var u in this.constants)this.constantTypes[u]=o.getArgumentType(this.constants[u])}},{key:"setFunctions",value:function(u){return this.functions=u,this}},{key:"setOutput",value:function(u){return u.hasOwnProperty("x")?u.hasOwnProperty("y")?u.hasOwnProperty("z")?this.output=[u.x,u.y,u.z]:this.output=[u.x,u.y]:this.output=[u.x]:this.output=u,this}},{key:"setDebug",value:function(u){return this.debug=u,this}},{key:"setGraphical",value:function(u){return this.graphical=u,this}},{key:"setLoopMaxIterations",value:function(u){return this.loopMaxIterations=u,this}},{key:"setFixIntegerDivisionAccuracy",value:function(u){return this.fixIntegerDivisionAccuracy=u,this}},{key:"setConstants",value:function(u){return this.constants=u,this}},{key:"setWraparound",value:function(u){return console.warn("Wraparound mode is not supported and undocumented."),this.wraparound=u,this}},{key:"setHardcodeConstants",value:function(u){return this.hardcodeConstants=u,this}},{key:"setOutputToTexture",value:function(u){return this.outputToTexture=u,this}},{key:"setOutputImmutable",value:function(u){return this.outputImmutable=u,this}},{key:"setFloatTextures",value:function(u){return this.floatTextures=u,this}},{key:"setFloatOutput",value:function(u){return this.floatOutput=u,this}},{key:"setFloatOutputForce",value:function(u){return this.floatOutputForce=u,this}},{key:"setCanvas",value:function(u){return this._canvas=u,this}},{key:"setWebGl",value:function(u){return this._webGl=u,this}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"validateOptions",value:function(){throw new Error("validateOptions not defined")}},{key:"exec",value:function(){return this.execute.apply(this,arguments)}},{key:"execute",value:function(){var u=this,a=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return o.newPromise(function(m,y){try{m(u.run.apply(u,a))}catch(c){y(c)}})}},{key:"addSubKernel",value:function(u){return this.subKernels===null&&(this.subKernels=[],this.subKernelNames=[]),this.subKernels.push(u),this.subKernelNames.push(o.getFunctionNameFromString(u)),this}},{key:"addSubKernelProperty",value:function(u,a){if(this.subKernelProperties===null&&(this.subKernelProperties={},this.subKernelNames=[]),this.subKernelProperties.hasOwnProperty(u))throw new Error("cannot add sub kernel "+u+", already defined");return this.subKernelProperties[u]=a,this.subKernelNames.push(o.getFunctionNameFromString(a)),this}},{key:"addNativeFunction",value:function(u,a){this.functionBuilder.addNativeFunction(u,a)}},{key:"destroy",value:function(){}}]),l}()},{"../core/input":85,"../core/utils":88}],65:[function(e,t,n){var i=e("../core/utils");t.exports=function(o){var f=function(){return o.run.apply(o,arguments)};return i.allPropertiesOf(o).forEach(function(l){l[0]==="_"&&l[1]==="_"||(typeof o[l]=="function"?l.substring(0,3)==="add"||l.substring(0,3)==="set"?f[l]=function(){return o[l].apply(o,arguments),f}:f[l]=o[l].bind(o):(f.__defineGetter__(l,function(){return o[l]}),f.__defineSetter__(l,function(g){o[l]=g})))}),f.kernel=o,f}},{"../core/utils":88}],66:[function(e,t,n){var i=function(){function l(g,u){for(var a=0;a<u.length;a++){var m=u[a];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,u,a){return u&&l(g.prototype,u),a&&l(g,a),g}}();function s(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}var o=e("../core/utils"),f=e("./kernel-run-shortcut");t.exports=function(){function l(g,u){s(this,l),u=u||{},this.kernel=u.kernel,this.canvas=u.canvas,this.webGl=u.webGl,this.fn=null,this.functionBuilder=g,this.fnString=null,this.endianness=o.systemEndianness()}return i(l,[{key:"textureToArray",value:function(u){var a=this.createKernel(function(m){return m[this.thread.z][this.thread.y][this.thread.x]});return a(u)}},{key:"deleteTexture",value:function(u){this.webGl.deleteTexture(u.texture)}},{key:"buildPromiseKernel",value:function(){throw new Error("not yet implemented")}},{key:"getMode",value:function(){throw new Error('"mode" not implemented on BaseRunner')}},{key:"buildKernel",value:function(u,a){a=Object.assign({},a||{});var m=u.toString();return a.functionBuilder||(a.functionBuilder=this.functionBuilder),a.canvas||(a.canvas=this.canvas),a.webGl||(a.webGl=this.webgl),f(new this.Kernel(m,a))}}]),l}()},{"../core/utils":88,"./kernel-run-shortcut":65}],67:[function(e,t,n){var i=function(){function a(m,y){for(var c=0;c<y.length;c++){var R=y[c];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}return function(m,y,c){return y&&a(m.prototype,y),c&&a(m,c),m}}();function s(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}function o(a,m){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:a}function f(a,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);a.prototype=Object.create(m&&m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(a,m):a.__proto__=m)}var l=e("../function-builder-base"),g=e("./function-node");t.exports=function(a){f(m,a);function m(){s(this,m);var y=o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return y.Node=g,y}return i(m,[{key:"polyfillStandardFunctions",value:function(){this.addFunction("round",u)}}],[{key:"round",value:function(c){return u(c)}}]),m}(l);function u(a){return Math.floor(a+.5)}},{"../function-builder-base":62,"./function-node":68}],68:[function(e,t,n){var i=function(){function _(I,T){for(var E=0;E<T.length;E++){var v=T[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,v.key,v)}}return function(I,T,E){return T&&_(I.prototype,T),E&&_(I,E),I}}();function s(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")}function o(_,I){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:_}function f(_,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);_.prototype=Object.create(I&&I.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(_,I):_.__proto__=I)}var l=e("../function-node-base"),g=e("../../core/utils"),u="Math.",a="this.",m="this.constants.",y=/decode32\(\s+encode32\(/g,c=/encode32\(\s+decode32\(/g,R=function(){};t.exports=function(_){f(I,_);function I(){return s(this,I),o(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return i(I,[{key:"generate",value:function(){return this.debug,this.prototypeOnly?this.astFunctionPrototype(this.getJsAST(),[]).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=C(this.functionStringArray.join("").trim()),this.functionString)}},{key:"astFunctionDeclaration",value:function(E,v){return this.builder.addFunction(null,g.getAstString(this.jsFunctionString,E)),v}},{key:"astFunctionPrototype",value:function(E,v){if(this.isRootKernel||this.isSubKernel)return v;var x=this.returnType,Y=O[x];if(!Y)throw new Error("unknown type "+x);v.push(Y),v.push(" "),v.push(this.functionName),v.push("(");for(var re=0;re<this.paramNames.length;++re)re>0&&v.push(", "),v.push(this.paramTypes[re]),v.push(" "),v.push("user_"),v.push(this.paramNames[re]);return v.push(`);
`),v}},{key:"astFunctionExpression",value:function(E,v){if(this.isRootKernel)v.push("void");else{var x=this.returnType,Y=O[x];if(!Y)throw new Error("unknown type "+x);v.push(Y)}if(v.push(" "),v.push(this.functionName),v.push("("),!this.isRootKernel)for(var re=0;re<this.paramNames.length;++re){var ce=this.paramNames[re];re>0&&v.push(", ");var oe=this.getParamType(ce),ue=O[oe];if(!ue)throw new Error("unknown type "+oe);v.push(ue),v.push(" "),v.push("user_"),v.push(ce)}v.push(`) {
`);for(var U=0;U<E.body.body.length;++U)this.astGeneric(E.body.body[U],v),v.push(`
`);return v.push(`}
`),v}},{key:"astReturnStatement",value:function(E,v){return this.isRootKernel?(v.push("kernelResult = "),this.astGeneric(E.argument,v),v.push(";"),v.push("return;")):this.isSubKernel?(v.push(this.functionName+"Result = "),this.astGeneric(E.argument,v),v.push(";"),v.push("return "+this.functionName+"Result;")):(v.push("return "),this.astGeneric(E.argument,v),v.push(";")),v}},{key:"astLiteral",value:function(E,v){if(isNaN(E.value))throw this.astErrorOutput("Non-numeric literal not supported : "+E.value,E);v.push(E.value);var x=this.isState("in-get-call-parameters");return Number.isInteger(E.value)?x||v.push(".0"):x&&(v.pop(),v.push("int("),v.push(E.value),v.push(")")),v}},{key:"astBinaryExpression",value:function(E,v){var x=this.isState("in-get-call-parameters");return x&&(this.pushState("not-in-get-call-parameters"),v.push("int")),v.push("("),E.operator==="%"?(v.push("mod("),this.astGeneric(E.left,v),v.push(","),this.astGeneric(E.right,v),v.push(")")):E.operator==="==="?(this.astGeneric(E.left,v),v.push("=="),this.astGeneric(E.right,v)):E.operator==="!=="?(this.astGeneric(E.left,v),v.push("!="),this.astGeneric(E.right,v)):this.fixIntegerDivisionAccuracy&&E.operator==="/"?(v.push("div_with_int_check("),this.astGeneric(E.left,v),v.push(", "),this.astGeneric(E.right,v),v.push(")")):(this.astGeneric(E.left,v),v.push(E.operator),this.astGeneric(E.right,v)),v.push(")"),x&&this.popState("not-in-get-call-parameters"),v}},{key:"astIdentifierExpression",value:function(E,v){if(E.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",E);var x=!this.isState("in-get-call-parameters");switch(E.name){case"gpu_threadX":x&&v.push("float("),v.push("threadId.x"),x&&v.push(")");break;case"gpu_threadY":x&&v.push("float("),v.push("threadId.y"),x&&v.push(")");break;case"gpu_threadZ":x&&v.push("float("),v.push("threadId.z"),x&&v.push(")");break;case"gpu_outputX":v.push("uOutputDim.x");break;case"gpu_outputY":v.push("uOutputDim.y");break;case"gpu_outputZ":v.push("uOutputDim.z");break;case"Infinity":v.push("3.402823466e+38");break;default:var Y=this.getUserParamName(E.name);Y!==null?this.pushParameter(v,"user_"+Y):this.pushParameter(v,"user_"+E.name)}return v}},{key:"astForStatement",value:function(E,v){if(E.type!=="ForStatement")throw this.astErrorOutput("Invalid for statment",E);if(E.test&&E.test.type==="BinaryExpression")if(E.test.right.type==="Identifier"&&E.test.operator==="<"&&this.isIdentifierConstant(E.test.right.name)===!1){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),v.push("for ("),this.astGeneric(E.init,v),this.astGeneric(E.test.left,v),v.push(E.test.operator),v.push("LOOP_MAX"),v.push(";"),this.astGeneric(E.update,v),v.push(")"),v.push(`{
`),v.push("if ("),this.astGeneric(E.test.left,v),v.push(E.test.operator),this.astGeneric(E.test.right,v),v.push(`) {
`),E.body.type==="BlockStatement")for(var x=0;x<E.body.body.length;x++)this.astGeneric(E.body.body[x],v);else this.astGeneric(E.body,v);return v.push(`
} else {
`),v.push(`break;
`),v.push(`}
`),v.push(`}
`),v}else{var Y=JSON.parse(JSON.stringify(E.init.declarations)),re=E.update.argument;if(!Array.isArray(Y)||Y.length<1)throw R(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(Y.length>1){for(var ce=null,oe=0;oe<Y.length;oe++){var ue=Y[oe];ue.id.name===re.name?(ce=ue,Y.splice(oe,1)):(v.push("float "),this.astGeneric(ue,v),v.push(";"))}v.push("for (float "),this.astGeneric(ce,v),v.push(";")}else v.push("for ("),this.astGeneric(E.init,v);return this.astGeneric(E.test,v),v.push(";"),this.astGeneric(E.update,v),v.push(")"),this.astGeneric(E.body,v),v}throw this.astErrorOutput("Invalid for statement",E)}},{key:"astWhileStatement",value:function(E,v){if(E.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statment",E);return v.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),v.push("if ("),this.astGeneric(E.test,v),v.push(`) {
`),this.astGeneric(E.body,v),v.push(`} else {
`),v.push(`break;
`),v.push(`}
`),v.push(`}
`),v}},{key:"astDoWhileStatement",value:function(E,v){if(E.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statment",E);return v.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),this.astGeneric(E.body,v),v.push("if (!"),this.astGeneric(E.test,v),v.push(`) {
`),v.push(`break;
`),v.push(`}
`),v.push(`}
`),v}},{key:"astAssignmentExpression",value:function(E,v){if(E.operator==="%=")this.astGeneric(E.left,v),v.push("="),v.push("mod("),this.astGeneric(E.left,v),v.push(","),this.astGeneric(E.right,v),v.push(")");else return this.astGeneric(E.left,v),v.push(E.operator),this.astGeneric(E.right,v),v}},{key:"astEmptyStatement",value:function(E,v){return v}},{key:"astBlockStatement",value:function(E,v){v.push(`{
`);for(var x=0;x<E.body.length;x++)this.astGeneric(E.body[x],v);return v.push(`}
`),v}},{key:"astExpressionStatement",value:function(E,v){return this.astGeneric(E.expression,v),v.push(";"),v}},{key:"astVariableDeclaration",value:function(E,v){for(var x=0;x<E.declarations.length;x++){var Y=E.declarations[x];x>0&&v.push(",");var re=[];this.astGeneric(Y,re);var ce="Number";if(x===0){var oe=Y.init;if(oe){if(oe.object){if(oe.object.type==="MemberExpression"&&oe.object.object){if(oe.object.object.type==="ThisExpression"&&oe.object.property&&(oe.object.property.name==="thread"||oe.object.property.name==="output"))ce="Integer";else if(oe.object.object.type==="Identifier"){var ue=this.getParamType(oe.object.object.name);ce=P[ue]}else if(oe.object.object.object&&oe.object.object.object.type==="Identifier"){var U=this.getParamType(oe.object.object.object.name);ce=P[U]}else if(oe.object.object.object&&oe.object.object.object.object&&oe.object.object.object.object.type==="ThisExpression"&&oe.object.object.object.property.name==="constants"){var F=this.getConstantType(oe.object.object.property.name);ce=P[F]}else if(oe.object.object.object&&oe.object.object.object.object&&oe.object.object.object.object.object&&oe.object.object.object.object.object.type==="ThisExpression"&&oe.object.object.object.object.property.name==="constants"){var j=this.getConstantType(oe.object.object.object.property.name);ce=P[j]}}if(!ce)throw new Error("unknown lookup type "+P)}else if(oe.name&&this.declarations[oe.name])ce=this.declarations[oe.name];else if(oe.type==="ArrayExpression")ce="Array("+oe.elements.length+")";else if(oe.type==="CallExpression"){var H=this.builder.nodeMap[oe.callee.name];H&&H.returnType&&(ce=H.returnType)}}var N=O[ce];if(!N)throw new Error("type "+ce+" not handled");v.push(N+" ")}this.declarations[Y.id.name]=ce,v.push.apply(v,re)}return v.push(";"),v}},{key:"astVariableDeclarator",value:function(E,v){return this.astGeneric(E.id,v),E.init!==null&&(v.push("="),this.astGeneric(E.init,v)),v}},{key:"astIfStatement",value:function(E,v){return v.push("if ("),this.astGeneric(E.test,v),v.push(")"),E.consequent.type==="BlockStatement"?this.astGeneric(E.consequent,v):(v.push(` {
`),this.astGeneric(E.consequent,v),v.push(`
}
`)),E.alternate&&(v.push("else "),E.alternate.type==="BlockStatement"?this.astGeneric(E.alternate,v):(v.push(` {
`),this.astGeneric(E.alternate,v),v.push(`
}
`))),v}},{key:"astBreakStatement",value:function(E,v){return v.push(`break;
`),v}},{key:"astContinueStatement",value:function(E,v){return v.push(`continue;
`),v}},{key:"astLogicalExpression",value:function(E,v){return v.push("("),this.astGeneric(E.left,v),v.push(E.operator),this.astGeneric(E.right,v),v.push(")"),v}},{key:"astUpdateExpression",value:function(E,v){return E.prefix?(v.push(E.operator),this.astGeneric(E.argument,v)):(this.astGeneric(E.argument,v),v.push(E.operator)),v}},{key:"astUnaryExpression",value:function(E,v){return E.prefix?(v.push(E.operator),this.astGeneric(E.argument,v)):(this.astGeneric(E.argument,v),v.push(E.operator)),v}},{key:"astThisExpression",value:function(E,v){return v.push("this"),v}},{key:"astMemberExpression",value:function(E,v){if(R("[in] astMemberExpression "+E.object.type),E.computed)if(E.object.type==="Identifier"||E.object.type==="MemberExpression"&&E.object.object.object&&E.object.object.object.type==="ThisExpression"&&E.object.object.property.name==="constants"){var x=E.object.name;this.functionName;var Y=!1;if(this.paramNames){var re=this.paramNames.indexOf(x);re>=0&&this.paramTypes[re]==="Number"&&(Y=!0)}if(Y)this.astGeneric(E.object,v),v.push("[int("),this.astGeneric(E.property,v),v.push(")]");else{var ce=this.isState("in-get-call-parameters"),oe=this.isState("multi-member-expression");oe&&this.popState("multi-member-expression"),this.pushState("not-in-get-call-parameters");var ue=null;switch(E.object.name?this.declarations[E.object.name]?ue=this.declarations[E.object.name]:ue=this.getParamType(E.object.name):E.object&&E.object.object&&E.object.object.object&&E.object.object.object.type==="ThisExpression"&&(ue=this.getConstantType(E.object.property.name)),ue){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(E.object,v),v.push("["),v.push(E.property.raw),v.push("]"),oe&&this.popState("not-in-get-call-parameters");break;case"HTMLImageArray":v.push("getImage3D("),this.astGeneric(E.object,v),v.push(", ivec2("),this.astGeneric(E.object,v),v.push("Size[0],"),this.astGeneric(E.object,v),v.push("Size[1]), ivec3("),this.astGeneric(E.object,v),v.push("Dim[0],"),this.astGeneric(E.object,v),v.push("Dim[1],"),this.astGeneric(E.object,v),v.push("Dim[2]"),v.push("), "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(E.property,v),oe||this.popState("in-get-call-parameters"),v.push(")");break;case"ArrayTexture(4)":case"HTMLImage":v.push("getImage2D("),this.astGeneric(E.object,v),v.push(", ivec2("),this.astGeneric(E.object,v),v.push("Size[0],"),this.astGeneric(E.object,v),v.push("Size[1]), ivec3("),this.astGeneric(E.object,v),v.push("Dim[0],"),this.astGeneric(E.object,v),v.push("Dim[1],"),this.astGeneric(E.object,v),v.push("Dim[2]"),v.push("), "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(E.property,v),oe||this.popState("in-get-call-parameters"),v.push(")");break;default:ce&&v.push("int("),v.push("get("),this.astGeneric(E.object,v),v.push(", ivec2("),this.astGeneric(E.object,v),v.push("Size[0],"),this.astGeneric(E.object,v),v.push("Size[1]), ivec3("),this.astGeneric(E.object,v),v.push("Dim[0],"),this.astGeneric(E.object,v),v.push("Dim[1],"),this.astGeneric(E.object,v),v.push("Dim[2]"),v.push("), "),this.astGeneric(E.object,v),v.push("BitRatio"),v.push(", "),this.popState("not-in-get-call-parameters"),this.pushState("in-get-call-parameters"),this.astGeneric(E.property,v),oe||this.popState("in-get-call-parameters"),v.push(")"),ce&&v.push(")");break}}}else{R("- astMemberExpression obj:",E.object),this.states.length;var U=this.isState("in-get-call-parameters");U||this.pushState("multi-member-expression"),this.astGeneric(E.object,v),this.isState("multi-member-expression")&&this.popState("multi-member-expression");var F=!U&&this.isState("in-get-call-parameters"),j=v.pop();v.push(","),R("- astMemberExpression prop:",E.property);var H=this.isState("should-pop-in-get-call-parameters");H&&this.popState("should-pop-in-get-call-parameters"),this.astGeneric(E.property,v),v.push(j),F?this.pushState("should-pop-in-get-call-parameters"):H&&this.popState("in-get-call-parameters")}else{var N=this.astMemberExpressionUnroll(E),X=N.toLowerCase();N.indexOf(m)===0&&(N="constants_"+N.slice(m.length));var Q=!this.isState("in-get-call-parameters");switch(X){case"this.thread.x":Q&&v.push("float("),v.push("threadId.x"),Q&&v.push(")");break;case"this.thread.y":Q&&v.push("float("),v.push("threadId.y"),Q&&v.push(")");break;case"this.thread.z":Q&&v.push("float("),v.push("threadId.z"),Q&&v.push(")");break;case"this.output.x":v.push(this.output[0]+".0");break;case"this.output.y":v.push(this.output[1]+".0");break;case"this.output.z":v.push(this.output[2]+".0");break;default:E.object&&E.object.name&&this.declarations[E.object.name]&&v.push("user_"),v.push(N)}}return R("[out] astMemberExpression "+E.object.type),v}},{key:"astSequenceExpression",value:function(E,v){for(var x=0;x<E.expressions.length;x++)x>0&&v.push(","),this.astGeneric(E.expressions,v);return v}},{key:"astCallExpression",value:function(E,v){if(E.callee){var x=this.astMemberExpressionUnroll(E.callee);x.indexOf(u)===0&&(x=x.slice(u.length)),x.indexOf(a)===0&&(x=x.slice(a.length)),x==="atan2"&&(x="atan"),this.calledFunctions.indexOf(x)<0&&this.calledFunctions.push(x),this.hasOwnProperty("funcName")||(this.calledFunctionsArguments[x]=[]);var Y=[];this.calledFunctionsArguments[x].push(Y),v.push(x),v.push("(");for(var re=0;re<E.arguments.length;++re){var ce=E.arguments[re];if(re>0&&v.push(", "),this.astGeneric(ce,v),ce.type==="Identifier"){var oe=this.paramNames.indexOf(ce.name);oe===-1?Y.push(null):Y.push({name:ce.name,type:this.paramTypes[oe]||"Number"})}else Y.push(null)}return v.push(")"),v}throw this.astErrorOutput("Unknown CallExpression",E)}},{key:"astArrayExpression",value:function(E,v){var x=E.elements.length;v.push("vec"+x+"(");for(var Y=0;Y<x;++Y){Y>0&&v.push(", ");var re=E.elements[Y];this.astGeneric(re,v)}return v.push(")"),v}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"build",value:function(){return this.getFunctionPrototypeString().length>0}}]),I}(l);var O={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4",Array2D:"sampler2D",Array3D:"sampler2D",Float:"float",Input:"sampler2D",Integer:"float",Number:"float",NumberTexture:"sampler2D","ArrayTexture(4)":"sampler2D"},P={Array:"Number",Array2D:"Number",Array3D:"Number",HTMLImage:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number","ArrayTexture(4)":"Array(4)"};function C(_){return _.replace(y,"((").replace(c,"((")}},{"../../core/utils":88,"../function-node-base":63}],69:[function(e,t,n){var i=e("../../core/utils"),s=e("../kernel-run-shortcut");e("../../core/input"),e("../../core/texture");function o(l){return/^function /.test(l)&&(l=l.substring(9)),l.replace(/[_]typeof/g,"typeof")}function f(l){return l.replace(/[_]typeof/g,"typeof")}t.exports=function(l,g){return`() => {
    `+s.toString()+`;
    const utils = {
      allPropertiesOf: `+f(i.allPropertiesOf.toString())+`,
      clone: `+f(i.clone.toString())+`,
      splitArray: `+f(i.splitArray.toString())+`,
      getArgumentType: `+f(i.getArgumentType.toString())+`,
      getDimensions: `+f(i.getDimensions.toString())+`,
      dimToTexSize: `+f(i.dimToTexSize.toString())+`,
      flattenTo: `+f(i.flattenTo.toString())+`,
      flatten2dArrayTo: `+f(i.flatten2dArrayTo.toString())+`,
      flatten3dArrayTo: `+f(i.flatten3dArrayTo.toString())+`,
      systemEndianness: '`+f(i.systemEndianness())+`',
      initWebGl: `+f(i.initWebGl.toString())+`,
      isArray: `+f(i.isArray.toString())+`,
      checkOutput: `+f(i.checkOutput.toString())+`
    };
    const Utils = utils;
    const canvases = [];
    const maxTexSizes = {};
    let Texture = function() {};
    let Input = function() {}; 
    class `+(g||"Kernel")+` {
      constructor() {
        this.maxTexSize = null;
        this.argumentsLength = 0;
        this.constantsLength = 0;
        this._canvas = null;
        this._webGl = null;
        this.program = null;
        this.outputToTexture = `+(l.outputToTexture?"true":"false")+`;
        this.paramNames = `+JSON.stringify(l.paramNames)+`;
        this.paramTypes = `+JSON.stringify(l.paramTypes)+`;
        this.texSize = `+JSON.stringify(l.texSize)+`;
        this.output = `+JSON.stringify(l.output)+";\n        this.compiledFragShaderString = `"+l.compiledFragShaderString+"`;\n		    this.compiledVertShaderString = `"+l.compiledVertShaderString+`\`;
		    this.programUniformLocationCache = {};
		    this.textureCache = {};
		    this.subKernelOutputTextures = null;
		    this.subKernelOutputVariableNames = null;
		    this.uniform1fCache = {};
		    this.uniform1iCache = {};
		    this.uniform2fCache = {};
		    this.uniform2fvCache = {};
		    this.uniform2ivCache = {};
		    this.uniform3fvCache = {};
		    this.uniform3ivCache = {};
      }
      _getFragShaderString() { return this.compiledFragShaderString; }
      _getVertShaderString() { return this.compiledVertShaderString; }
      validateOptions() {}
      setupParams() {}
      setupConstants() {}
      setCanvas(canvas) { this._canvas = canvas; return this; }
      setWebGl(webGl) { this._webGl = webGl; return this; }
      setTexture(Type) { Texture = Type; }
      setInput(Type) { Input = Type; }
      `+o(l.getUniformLocation.toString())+`
      `+o(l.build.toString())+`
		  `+o(l.run.toString())+`
		  `+o(l._addArgument.toString())+`
		  `+o(l._formatArrayTransfer.toString())+`
		  `+o(l.getArgumentTexture.toString())+`
		  `+o(l.getTextureCache.toString())+`
		  `+o(l.getOutputTexture.toString())+`
		  `+o(l.renderOutput.toString())+`
		  `+o(l.updateMaxTexSize.toString())+`
		  `+o(l._setupOutputTexture.toString())+`
		  `+o(l.detachTextureCache.toString())+`
		  `+o(l.setUniform1f.toString())+`
		  `+o(l.setUniform1i.toString())+`
		  `+o(l.setUniform2f.toString())+`
		  `+o(l.setUniform2fv.toString())+`
		  `+o(l.setUniform2iv.toString())+`
		  `+o(l.setUniform3fv.toString())+`
		  `+o(l.setUniform3iv.toString())+`
    };
    return kernelRunShortcut(new Kernel());
  };`}},{"../../core/input":85,"../../core/texture":86,"../../core/utils":88,"../kernel-run-shortcut":65}],70:[function(e,t,n){var i=function P(C,_,I){C===null&&(C=Function.prototype);var T=Object.getOwnPropertyDescriptor(C,_);if(T===void 0){var E=Object.getPrototypeOf(C);return E===null?void 0:P(E,_,I)}else{if("value"in T)return T.value;var v=T.get;return v===void 0?void 0:v.call(I)}},s=function(){function P(C,_){for(var I=0;I<_.length;I++){var T=_[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,_,I){return _&&P(C.prototype,_),I&&P(C,I),C}}();function o(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function f(P,C){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:P}function l(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(P,C):P.__proto__=C)}var g=e("../kernel-base"),u=e("../../core/utils"),a=e("../../core/texture"),m=e("./shader-frag"),y=e("./shader-vert"),c=e("./kernel-string"),R=[],O={};t.exports=function(P){l(C,P),s(C,null,[{key:"fragShaderString",get:function(){return m}},{key:"vertShaderString",get:function(){return y}}]);function C(_,I){o(this,C);var T=f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,_,I));return T.textureCache={},T.threadDim={},T.programUniformLocationCache={},T.framebuffer=null,T.buffer=null,T.program=null,T.outputToTexture=I.outputToTexture,T.endianness=u.systemEndianness(),T.subKernelOutputTextures=null,T.subKernelOutputVariableNames=null,T.argumentsLength=0,T.constantsLength=0,T.compiledFragShaderString=null,T.compiledVertShaderString=null,T.fragShader=null,T.vertShader=null,T.drawBuffersMap=null,T.outputTexture=null,T.maxTexSize=null,T.uniform1fCache={},T.uniform1iCache={},T.uniform2fCache={},T.uniform2fvCache={},T.uniform2ivCache={},T.uniform3fvCache={},T.uniform3ivCache={},T._webGl||(T._webGl=T.initWebGl()),T}return s(C,[{key:"initWebGl",value:function(){return u.initWebGl(this.getCanvas())}},{key:"validateOptions",value:function(){var I=u.isFloatReadPixelsSupported();if(this.floatTextures===!0&&!u.OES_texture_float)throw new Error("Float textures are not supported on this browser");if(this.floatOutput===!0&&this.floatOutputForce!==!0&&!I)throw new Error("Float texture outputs are not supported on this browser");this.floatTextures===void 0&&u.OES_texture_float&&(this.floatTextures=!0,this.floatOutput=I);var T=u.hasIntegerDivisionAccuracyBug();if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=T:this.fixIntegerDivisionAccuracy&&!T&&(this.fixIntegerDivisionAccuracy=!1),u.checkOutput(this.output),!this.output||this.output.length===0){if(arguments.length!==1)throw new Error("Auto output only supported for kernels with only one input");var E=u.getArgumentType(arguments[0]);if(E==="Array")this.output=u.getDimensions(E);else if(E==="NumberTexture"||E==="ArrayTexture(4)")this.output=arguments[0].output;else throw new Error("Auto output not supported for input type: "+E)}if(this.texSize=u.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=u.clone(this.output)}else this.floatOutput===void 0&&u.OES_texture_float&&(this.floatOutput=!0)}},{key:"updateMaxTexSize",value:function(){var I=this.texSize,T=this._canvas;if(this.maxTexSize===null){var E=R.indexOf(T);E===-1&&(E=R.length,R.push(T),O[E]=[I[0],I[1]]),this.maxTexSize=O[E]}this.maxTexSize[0]<I[0]&&(this.maxTexSize[0]=I[0]),this.maxTexSize[1]<I[1]&&(this.maxTexSize[1]=I[1])}},{key:"build",value:function(){this.validateOptions(),this.setupConstants(),this.setupParams(arguments),this.updateMaxTexSize();var I=this.texSize,T=this._webGl,E=this._canvas;T.enable(T.SCISSOR_TEST),T.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),E.width=this.maxTexSize[0],E.height=this.maxTexSize[1];for(var v=this.threadDim=u.clone(this.output);v.length<3;)v.push(1);this.functionBuilder&&this._addKernels();var x=this._getVertShaderString(arguments),Y=T.createShader(T.VERTEX_SHADER);T.shaderSource(Y,x),T.compileShader(Y),this.vertShader=Y;var re=this._getFragShaderString(arguments),ce=T.createShader(T.FRAGMENT_SHADER);if(T.shaderSource(ce,re),T.compileShader(ce),this.fragShader=ce,!T.getShaderParameter(Y,T.COMPILE_STATUS))throw console.log(x),console.error("An error occurred compiling the shaders: "+T.getShaderInfoLog(Y)),new Error("Error compiling vertex shader");if(!T.getShaderParameter(ce,T.COMPILE_STATUS))throw console.log(re),console.error("An error occurred compiling the shaders: "+T.getShaderInfoLog(ce)),new Error("Error compiling fragment shader");this.debug&&(console.log("Options:"),console.dir(this),console.log("GLSL Shader Output:"),console.log(re));var oe=this.program=T.createProgram();T.attachShader(oe,Y),T.attachShader(oe,ce),T.linkProgram(oe),this.framebuffer=T.createFramebuffer(),this.framebuffer.width=I[0],this.framebuffer.height=I[1];var ue=new Float32Array([-1,-1,1,-1,-1,1,1,1]),U=new Float32Array([0,0,1,0,0,1,1,1]),F=ue.byteLength,j=this.buffer;j?T.bindBuffer(T.ARRAY_BUFFER,j):(j=this.buffer=T.createBuffer(),T.bindBuffer(T.ARRAY_BUFFER,j),T.bufferData(T.ARRAY_BUFFER,ue.byteLength+U.byteLength,T.STATIC_DRAW)),T.bufferSubData(T.ARRAY_BUFFER,0,ue),T.bufferSubData(T.ARRAY_BUFFER,F,U);var H=T.getAttribLocation(this.program,"aPos");T.enableVertexAttribArray(H),T.vertexAttribPointer(H,2,T.FLOAT,T.FALSE,0,0);var N=T.getAttribLocation(this.program,"aTexCoord");T.enableVertexAttribArray(N),T.vertexAttribPointer(N,2,T.FLOAT,T.FALSE,0,F),T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer);for(var X in this.constants){var Q=this.constants[X],W=u.getArgumentType(Q);W==="Float"||W==="Integer"||(T.useProgram(this.program),this._addConstant(this.constants[X],W,X),this.constantsLength++)}this.outputImmutable||(this._setupOutputTexture(),this.subKernelOutputVariableNames!==null&&this.subKernelOutputVariableNames.length>0&&this._setupSubOutputTextures(this.subKernelOutputVariableNames.length))}},{key:"run",value:function(){this.program===null&&this.build.apply(this,arguments);var I=this.paramNames,T=this.paramTypes,E=this.texSize,v=this._webGl;v.useProgram(this.program),v.scissor(0,0,E[0],E[1]),this.hardcodeConstants||(this.setUniform3iv("uOutputDim",this.threadDim),this.setUniform2iv("uTexSize",E)),this.setUniform2f("ratio",E[0]/this.maxTexSize[0],E[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var x=0;x<I.length;x++)this._addArgument(arguments[x],T[x],I[x]);if(this.graphical){if(this.outputToTexture)return v.bindRenderbuffer(v.RENDERBUFFER,null),v.bindFramebuffer(v.FRAMEBUFFER,this.framebuffer),(!this.outputTexture||this.outputImmutable)&&this._setupOutputTexture(),v.drawArrays(v.TRIANGLE_STRIP,0,4),new a(this.outputTexture,E,this.threadDim,this.output,this._webGl,"ArrayTexture(4)");v.bindRenderbuffer(v.RENDERBUFFER,null),v.bindFramebuffer(v.FRAMEBUFFER,null),v.drawArrays(v.TRIANGLE_STRIP,0,4);return}v.bindFramebuffer(v.FRAMEBUFFER,this.framebuffer),this.outputImmutable&&this._setupOutputTexture();var Y=this.outputTexture;if(this.subKernelOutputVariableNames!==null&&(this.outputImmutable&&(this.subKernelOutputTextures=[],this._setupSubOutputTextures(this.subKernelOutputVariableNames.length)),this.drawBuffers.drawBuffersWEBGL(this.drawBuffersMap)),v.drawArrays(v.TRIANGLE_STRIP,0,4),this.subKernelOutputTextures!==null){if(this.subKernels!==null){var re=[];re.result=this.renderOutput(Y);for(var ce=0;ce<this.subKernels.length;ce++)re.push(new a(this.subKernelOutputTextures[ce],E,this.threadDim,this.output,this._webGl));return re}else if(this.subKernelProperties!==null){var oe={result:this.renderOutput(Y)},ue=0;for(var U in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(U)&&(oe[U]=new a(this.subKernelOutputTextures[ue],E,this.threadDim,this.output,this._webGl),ue++);return oe}}return this.renderOutput(Y)}},{key:"renderOutput",value:function(I){var T=this.texSize,E=this._webGl,v=this.threadDim,x=this.output;if(this.outputToTexture)return new a(I,T,this.threadDim,x,this._webGl);var Y=void 0;if(this.floatOutput){var re=T[0],ce=Math.ceil(T[1]/4);Y=new Float32Array(re*ce*4),E.readPixels(0,0,re,ce,E.RGBA,E.FLOAT,Y)}else{var oe=new Uint8Array(T[0]*T[1]*4);E.readPixels(0,0,T[0],T[1],E.RGBA,E.UNSIGNED_BYTE,oe),Y=new Float32Array(oe.buffer)}if(Y=Y.subarray(0,v[0]*v[1]*v[2]),x.length===1)return Y;if(x.length===2)return u.splitArray(Y,x[0]);if(x.length===3){var ue=u.splitArray(Y,x[0]*x[1]);return ue.map(function(U){return u.splitArray(U,x[0])})}}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"_setupOutputTexture",value:function(){var I=this._webGl,T=this.texSize,E=this.outputTexture=this._webGl.createTexture();I.activeTexture(I.TEXTURE0+this.constantsLength+this.paramNames.length),I.bindTexture(I.TEXTURE_2D,E),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,I.NEAREST),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,I.NEAREST),this.floatOutput?I.texImage2D(I.TEXTURE_2D,0,I.RGBA,T[0],T[1],0,I.RGBA,I.FLOAT,null):I.texImage2D(I.TEXTURE_2D,0,I.RGBA,T[0],T[1],0,I.RGBA,I.UNSIGNED_BYTE,null),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,E,0)}},{key:"_setupSubOutputTextures",value:function(I){for(var T=this._webGl,E=this.texSize,v=this.drawBuffersMap=[T.COLOR_ATTACHMENT0],x=this.subKernelOutputTextures=[],Y=0;Y<I;Y++){var re=this._webGl.createTexture();x.push(re),v.push(T.COLOR_ATTACHMENT0+Y+1),T.activeTexture(T.TEXTURE0+this.constantsLength+this.paramNames.length+Y),T.bindTexture(T.TEXTURE_2D,re),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,T.NEAREST),this.floatOutput?T.texImage2D(T.TEXTURE_2D,0,T.RGBA,E[0],E[1],0,T.RGBA,T.FLOAT,null):T.texImage2D(T.TEXTURE_2D,0,T.RGBA,E[0],E[1],0,T.RGBA,T.UNSIGNED_BYTE,null),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0+Y+1,T.TEXTURE_2D,re,0)}}},{key:"getArgumentTexture",value:function(I){return this.getTextureCache("ARGUMENT_"+I)}},{key:"getTextureCache",value:function(I){return this.textureCache.hasOwnProperty(I)?this.textureCache[I]:this.textureCache[I]=this._webGl.createTexture()}},{key:"detachTextureCache",value:function(I){delete this.textureCache[I]}},{key:"setUniform1f",value:function(I,T){if(this.uniform1fCache.hasOwnProperty(I)){var E=this.uniform1fCache[I];if(T===E)return}this.uniform1fCache[I]=T;var v=this.getUniformLocation(I);this._webGl.uniform1f(v,T)}},{key:"setUniform1i",value:function(I,T){if(this.uniform1iCache.hasOwnProperty(I)){var E=this.uniform1iCache[I];if(T===E)return}this.uniform1iCache[I]=T;var v=this.getUniformLocation(I);this._webGl.uniform1i(v,T)}},{key:"setUniform2f",value:function(I,T,E){if(this.uniform2fCache.hasOwnProperty(I)){var v=this.uniform2fCache[I];if(T===v[0]&&E===v[1])return}this.uniform2fCache[I]=[T,E];var x=this.getUniformLocation(I);this._webGl.uniform2f(x,T,E)}},{key:"setUniform2fv",value:function(I,T){if(this.uniform2fvCache.hasOwnProperty(I)){var E=this.uniform2fvCache[I];if(T[0]===E[0]&&T[1]===E[1])return}this.uniform2fvCache[I]=T;var v=this.getUniformLocation(I);this._webGl.uniform2fv(v,T)}},{key:"setUniform2iv",value:function(I,T){if(this.uniform2ivCache.hasOwnProperty(I)){var E=this.uniform2ivCache[I];if(T[0]===E[0]&&T[1]===E[1])return}this.uniform2ivCache[I]=T;var v=this.getUniformLocation(I);this._webGl.uniform2iv(v,T)}},{key:"setUniform3fv",value:function(I,T){if(this.uniform3fvCache.hasOwnProperty(I)){var E=this.uniform3fvCache[I];if(T[0]===E[0]&&T[1]===E[1]&&T[2]===E[2])return}this.uniform3fvCache[I]=T;var v=this.getUniformLocation(I);this._webGl.uniform3fv(v,T)}},{key:"setUniform3iv",value:function(I,T){if(this.uniform3ivCache.hasOwnProperty(I)){var E=this.uniform3ivCache[I];if(T[0]===E[0]&&T[1]===E[1]&&T[2]===E[2])return}this.uniform3ivCache[I]=T;var v=this.getUniformLocation(I);this._webGl.uniform3iv(v,T)}},{key:"getUniformLocation",value:function(I){return this.programUniformLocationCache.hasOwnProperty(I)?this.programUniformLocationCache[I]:this.programUniformLocationCache[I]=this._webGl.getUniformLocation(this.program,I)}},{key:"_getFragShaderArtifactMap",value:function(I){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),GET_WRAPAROUND:this._getGetWraparoundString(),GET_TEXTURE_CHANNEL:this._getGetTextureChannelString(),GET_TEXTURE_INDEX:this._getGetTextureIndexString(),GET_RESULT:this._getGetResultString(),MAIN_PARAMS:this._getMainParamsString(I),MAIN_CONSTANTS:this._getMainConstantsString(),KERNEL:this._getKernelString(),MAIN_RESULT:this._getMainResultString()}}},{key:"_addArgument",value:function(I,T,E){var v=this._webGl,x=this.getArgumentTexture(E);switch(I instanceof a&&(T=I.type),T){case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"Array2D":case"Array3D":{var Y=u.getDimensions(I,!0),re=u.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},Y);v.activeTexture(v.TEXTURE0+this.constantsLength+this.argumentsLength),v.bindTexture(v.TEXTURE_2D,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST);var ce=re[0]*re[1],oe=this._formatArrayTransfer(I,ce),ue=oe.valuesFlat,U=oe.bitRatio,F=void 0;this.floatTextures?v.texImage2D(v.TEXTURE_2D,0,v.RGBA,re[0],re[1],0,v.RGBA,v.FLOAT,ue):(F=new Uint8Array(ue.buffer),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,re[0]/U,re[1],0,v.RGBA,v.UNSIGNED_BYTE,F)),this.hardcodeConstants||(this.setUniform3iv("user_"+E+"Dim",Y),this.setUniform2iv("user_"+E+"Size",re)),this.setUniform1i("user_"+E+"BitRatio",U),this.setUniform1i("user_"+E,this.argumentsLength);break}case"Integer":case"Float":case"Number":{this.setUniform1f("user_"+E,I);break}case"Input":{var j=I,H=j.size,N=u.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},H);v.activeTexture(v.TEXTURE0+this.constantsLength+this.argumentsLength),v.bindTexture(v.TEXTURE_2D,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST);var X=N[0]*N[1],Q=this._formatArrayTransfer(I.value,X),W=Q.valuesFlat,ae=Q.bitRatio;if(this.floatTextures)v.texImage2D(v.TEXTURE_2D,0,v.RGBA,N[0],N[1],0,v.RGBA,v.FLOAT,inputArray);else{var le=new Uint8Array(W.buffer);v.texImage2D(v.TEXTURE_2D,0,v.RGBA,N[0]/ae,N[1],0,v.RGBA,v.UNSIGNED_BYTE,le)}this.hardcodeConstants||(this.setUniform3iv("user_"+E+"Dim",H),this.setUniform2iv("user_"+E+"Size",N)),this.setUniform1i("user_"+E+"BitRatio",ae),this.setUniform1i("user_"+E,this.argumentsLength);break}case"HTMLImage":{var K=I,J=[K.width,K.height,1],ne=[K.width,K.height];v.activeTexture(v.TEXTURE0+this.constantsLength+this.argumentsLength),v.bindTexture(v.TEXTURE_2D,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!0);var te=0,de=v.RGBA,_e=v.RGBA,ye=v.UNSIGNED_BYTE;v.texImage2D(v.TEXTURE_2D,te,de,_e,ye,K),this.setUniform3iv("user_"+E+"Dim",J),this.setUniform2iv("user_"+E+"Size",ne),this.setUniform1i("user_"+E,this.argumentsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var he=I,ge=he.dimensions,M=he.size;v.activeTexture(v.TEXTURE0+this.constantsLength+this.argumentsLength),v.bindTexture(v.TEXTURE_2D,he.texture),this.setUniform3iv("user_"+E+"Dim",ge),this.setUniform2iv("user_"+E+"Size",M),this.setUniform1i("user_"+E+"BitRatio",1),this.setUniform1i("user_"+E,this.argumentsLength);break}default:throw new Error("Input type not supported (WebGL): "+I)}this.argumentsLength++}},{key:"_addConstant",value:function(I,T,E){var v=this._webGl,x=this.getArgumentTexture(E);switch(I instanceof a&&(T=I.type),T){case"Array":{var Y=u.getDimensions(I,!0),re=u.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},Y);v.activeTexture(v.TEXTURE0+this.constantsLength),v.bindTexture(v.TEXTURE_2D,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST);var ce=re[0]*re[1],oe=this._formatArrayTransfer(I,ce),ue=oe.valuesFlat,U=oe.bitRatio,F=void 0;this.floatTextures?v.texImage2D(v.TEXTURE_2D,0,v.RGBA,re[0],re[1],0,v.RGBA,v.FLOAT,ue):(F=new Uint8Array(ue.buffer),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,re[0]/U,re[1],0,v.RGBA,v.UNSIGNED_BYTE,F)),this.hardcodeConstants||(this.setUniform3iv("constants_"+E+"Dim",Y),this.setUniform2iv("constants_"+E+"Size",re)),this.setUniform1i("constants_"+E+"BitRatio",U),this.setUniform1i("constants_"+E,this.constantsLength);break}case"Input":{var j=I,H=j.size,N=u.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},H);v.activeTexture(v.TEXTURE0+this.constantsLength),v.bindTexture(v.TEXTURE_2D,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST);var X=N[0]*N[1],Q=this._formatArrayTransfer(I.value,X),W=Q.valuesFlat,ae=Q.bitRatio;if(this.floatTextures)v.texImage2D(v.TEXTURE_2D,0,v.RGBA,N[0],N[1],0,v.RGBA,v.FLOAT,inputArray);else{var le=new Uint8Array(W.buffer);v.texImage2D(v.TEXTURE_2D,0,v.RGBA,N[0]/ae,N[1],0,v.RGBA,v.UNSIGNED_BYTE,le)}this.hardcodeConstants||(this.setUniform3iv("constants_"+E+"Dim",H),this.setUniform2iv("constants_"+E+"Size",N)),this.setUniform1i("constants_"+E+"BitRatio",ae),this.setUniform1i("constants_"+E,this.constantsLength);break}case"HTMLImage":{var K=I,J=[K.width,K.height,1],ne=[K.width,K.height];v.activeTexture(v.TEXTURE0+this.constantsLength),v.bindTexture(v.TEXTURE_2D,x),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!0);var te=0,de=v.RGBA,_e=v.RGBA,ye=v.UNSIGNED_BYTE;v.texImage2D(v.TEXTURE_2D,te,de,_e,ye,K),this.setUniform3iv("constants_"+E+"Dim",J),this.setUniform2iv("constants_"+E+"Size",ne),this.setUniform1i("constants_"+E,this.constantsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var he=I,ge=he.dimensions,M=he.size;v.activeTexture(v.TEXTURE0+this.constantsLength),v.bindTexture(v.TEXTURE_2D,he.texture),this.setUniform3iv("constants_"+E+"Dim",ge),this.setUniform2iv("constants_"+E+"Size",M),this.setUniform1i("constants_"+E+"BitRatio",1),this.setUniform1i("constants_"+E,this.constantsLength);break}case"Integer":case"Float":default:throw new Error("Input type not supported (WebGL): "+I)}}},{key:"_formatArrayTransfer",value:function(I,T){var E=1,v=I;if(u.isArray(I[0])||this.floatTextures)v=new Float32Array(T),u.flattenTo(I,v);else switch(I.constructor){case Uint8Array:case Int8Array:E=4;break;case Uint16Array:case Int16Array:E=2;case Float32Array:case Int32Array:break;default:v=new Float32Array(T),u.flattenTo(I,v)}return{bitRatio:E,valuesFlat:v}}},{key:"_getHeaderString",value:function(){return this.subKernels!==null||this.subKernelProperties!==null?`#extension GL_EXT_draw_buffers : require
`:""}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+`.0;
`:` 1000.0;
`}},{key:"_getConstantsString",value:function(){var I=[],T=this.threadDim,E=this.texSize;return this.hardcodeConstants?I.push("ivec3 uOutputDim = ivec3("+T[0]+","+T[1]+", "+T[2]+")","ivec2 uTexSize = ivec2("+E[0]+", "+E[1]+")"):I.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"),this._linesToString(I)}},{key:"_getTextureCoordinate",value:function(){var I=this.subKernelOutputVariableNames;return I===null||I.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}},{key:"_getDecode32EndiannessString",value:function(){return this.endianness==="LE"?"":`  rgba.rgba = rgba.abgr;
`}},{key:"_getEncode32EndiannessString",value:function(){return this.endianness==="LE"?"":`  rgba.rgba = rgba.abgr;
`}},{key:"_getDivideWithIntegerCheckString",value:function(){return this.fixIntegerDivisionAccuracy?`
			  float div_with_int_check(float x, float y) {
			  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
			    return float(int(x)/int(y));
			  }
			  return x / y;
			}
			`:""}},{key:"_getGetWraparoundString",value:function(){return this.wraparound?`  xyz = mod(xyz, texDim);
`:""}},{key:"_getGetTextureChannelString",value:function(){return this.floatTextures?this._linesToString(["  int channel = integerMod(index, 4)","  index = index / 4"]):""}},{key:"_getGetTextureIndexString",value:function(){return this.floatTextures?`  index = index / 4;
`:""}},{key:"_getGetResultString",value:function(){return this.floatTextures?this._linesToString(["  if (channel == 0) return texel.r","  if (channel == 1) return texel.g","  if (channel == 2) return texel.b","  if (channel == 3) return texel.a"]):"  return decode(texel, x, bitRatio);"}},{key:"_getMainParamsString",value:function(I){for(var T=[],E=this.paramTypes,v=this.paramNames,x=0;x<v.length;x++){var Y=I[x],re=v[x],ce=E[x];if(this.hardcodeConstants)if(ce==="Array"||ce==="NumberTexture"||ce==="ArrayTexture(4)"){var oe=u.getDimensions(Y,!0),ue=u.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},oe);T.push("uniform sampler2D user_"+re,"ivec2 user_"+re+"Size = ivec2("+ue[0]+", "+ue[1]+")","ivec3 user_"+re+"Dim = ivec3("+oe[0]+", "+oe[1]+", "+oe[2]+")","uniform int user_"+re+"BitRatio")}else ce==="Integer"?T.push("float user_"+re+" = "+Y+".0"):ce==="Float"&&T.push("float user_"+re+" = "+Y);else if(ce==="Array"||ce==="NumberTexture"||ce==="ArrayTexture(4)"||ce==="Input"||ce==="HTMLImage")T.push("uniform sampler2D user_"+re,"uniform ivec2 user_"+re+"Size","uniform ivec3 user_"+re+"Dim"),ce!=="HTMLImage"&&T.push("uniform int user_"+re+"BitRatio");else if(ce==="Integer"||ce==="Float")T.push("uniform float user_"+re);else throw new Error("Param type "+ce+" not supported in WebGL, only WebGL2")}return this._linesToString(T)}},{key:"_getMainConstantsString",value:function(){var I=[];if(this.constants){for(var T in this.constants)if(this.constants.hasOwnProperty(T)){var E=this.constants[T],v=u.getArgumentType(E);switch(v){case"Integer":I.push("const float constants_"+T+" = "+parseInt(E)+".0");break;case"Float":I.push("const float constants_"+T+" = "+parseFloat(E));break;case"Array":case"Input":case"HTMLImage":case"NumberTexture":case"ArrayTexture(4)":I.push("uniform sampler2D constants_"+T,"uniform ivec2 constants_"+T+"Size","uniform ivec3 constants_"+T+"Dim","uniform int constants_"+T+"BitRatio");break;default:throw new Error("Unsupported constant "+T+" type "+v)}}}return this._linesToString(I)}},{key:"_getKernelString",value:function(){var I=[],T=this.subKernelOutputVariableNames;if(T!==null){I.push("float kernelResult = 0.0");for(var E=0;E<T.length;E++)I.push("float "+T[E]+" = 0.0")}else I.push("float kernelResult = 0.0");return this._linesToString(I)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var I=this.subKernelOutputVariableNames,T=[];if(this.floatOutput&&T.push("  index *= 4"),this.graphical)T.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor");else if(this.floatOutput)for(var E=["r","g","b","a"],v=0;v<E.length;++v){if(T.push("  threadId = indexTo3D(index, uOutputDim)"),T.push("  kernel()"),I){T.push("  gl_FragData[0]."+E[v]+" = kernelResult");for(var x=0;x<I.length;++x)T.push("  gl_FragData["+(x+1)+"]."+E[v]+" = "+I[x])}else T.push("  gl_FragColor."+E[v]+" = kernelResult");v<E.length-1&&T.push("  index += 1")}else if(I!==null){T.push("  threadId = indexTo3D(index, uOutputDim)"),T.push("  kernel()"),T.push("  gl_FragData[0] = encode32(kernelResult)");for(var Y=0;Y<I.length;Y++)T.push("  gl_FragData["+(Y+1)+"] = encode32("+I[Y]+")")}else T.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = encode32(kernelResult)");return this._linesToString(T)}},{key:"_linesToString",value:function(I){return I.length>0?I.join(`;
`)+`;
`:`
`}},{key:"_replaceArtifacts",value:function(I,T){return I.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z])*)__;\n/g,function(E,v){if(T.hasOwnProperty(v))return T[v];throw"unhandled artifact "+v})}},{key:"_addKernels",value:function(){var I=this,T=this.functionBuilder,E=this._webGl;if(T.addFunctions(this.functions,{constants:this.constants,output:this.output}),T.addNativeFunctions(this.nativeFunctions),T.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,constantTypes:this.constantTypes,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernels!==null){var v=this.drawBuffers=E.getExtension("WEBGL_draw_buffers");if(!v)throw new Error("could not instantiate draw buffers extension");this.subKernelOutputVariableNames=[],this.subKernels.forEach(function(Y){return I._addSubKernel(Y)})}else if(this.subKernelProperties!==null){var x=this.drawBuffers=E.getExtension("WEBGL_draw_buffers");if(!x)throw new Error("could not instantiate draw buffers extension");this.subKernelOutputVariableNames=[],Object.keys(this.subKernelProperties).forEach(function(Y){return I._addSubKernel(I.subKernelProperties[Y])})}}},{key:"_addSubKernel",value:function(I){this.functionBuilder.addSubKernel(I,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernelOutputVariableNames.push(I.name+"Result")}},{key:"_getFragShaderString",value:function(I){return this.compiledFragShaderString!==null?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(this.constructor.fragShaderString,this._getFragShaderArtifactMap(I))}},{key:"_getVertShaderString",value:function(I){return this.compiledVertShaderString!==null?this.compiledVertShaderString:this.compiledVertShaderString=this.constructor.vertShaderString}},{key:"toString",value:function(){return c(this)}},{key:"addFunction",value:function(I){this.functionBuilder.addFunction(null,I)}},{key:"destroy",value:function(I){i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"destroy",this).call(this),this.outputTexture&&this._webGl.deleteTexture(this.outputTexture),this.buffer&&this._webGl.deleteBuffer(this.buffer),this.framebuffer&&this._webGl.deleteFramebuffer(this.framebuffer),this.vertShader&&this._webGl.deleteShader(this.vertShader),this.fragShader&&this._webGl.deleteShader(this.fragShader),this.program&&this._webGl.deleteProgram(this.program);for(var T=Object.keys(this.textureCache),E=0;E<T.length;E++){var v=T[E];this._webGl.deleteTexture(this.textureCache[v])}if(this.subKernelOutputTextures)for(var x=0;x<this.subKernelOutputTextures.length;x++)this._webGl.deleteTexture(this.subKernelOutputTextures[x]);if(I){var Y=R.indexOf(this._canvas);Y>=0&&(R[Y]=null,O[Y]=null)}delete this._webGl}}]),C}(g)},{"../../core/texture":86,"../../core/utils":88,"../kernel-base":64,"./kernel-string":69,"./shader-frag":72,"./shader-vert":73}],71:[function(e,t,n){var i=function(){function a(m,y){for(var c=0;c<y.length;c++){var R=y[c];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}return function(m,y,c){return y&&a(m.prototype,y),c&&a(m,c),m}}();function s(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}function o(a,m){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:a}function f(a,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);a.prototype=Object.create(m&&m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(a,m):a.__proto__=m)}var l=e("../runner-base"),g=e("./kernel"),u=e("./function-builder");t.exports=function(a){f(m,a);function m(y){s(this,m);var c=o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,new u,y));return c.Kernel=g,c.kernel=null,c}return i(m,[{key:"getMode",value:function(){return"gpu"}}]),m}(l)},{"../runner-base":66,"./function-builder":67,"./kernel":70}],72:[function(e,t,n){t.exports=`__HEADER__;
precision highp float;
precision highp int;
precision highp sampler2D;

const float LOOP_MAX = __LOOP_MAX__;

__CONSTANTS__;

varying vec2 vTexCoord;

vec4 round(vec4 x) {
  return floor(x + 0.5);
}

float round(float x) {
  return floor(x + 0.5);
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 rgba) {
  __DECODE32_ENDIANNESS__;
  rgba *= 255.0;
  vec2 gte128;
  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  rgba.b = rgba.b - 128.0 * gte128.x;
  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

vec4 encode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  rgba.rg = integerMod(rgba.rg, 256.0);
  rgba.b = integerMod(rgba.b, 128.0);
  rgba.a = exponent*0.5 + 63.5;
  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  rgba = floor(rgba);
  rgba *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return rgba;
}
// Dragons end here

float decode(vec4 rgba, int x, int bitRatio) {
  if (bitRatio == 1) {
    return decode32(rgba);
  }
  __DECODE32_ENDIANNESS__;
  int channel = integerMod(x, bitRatio);
  if (bitRatio == 4) {
    if (channel == 0) return rgba.r * 255.0;
    if (channel == 1) return rgba.g * 255.0;
    if (channel == 2) return rgba.b * 255.0;
    if (channel == 3) return rgba.a * 255.0;
  }
  else {
    if (channel == 0) return rgba.r * 255.0 + rgba.g * 65280.0;
    if (channel == 1) return rgba.b * 255.0 + rgba.a * 65280.0;
  }
}

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio,  int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  __GET_RESULT__;
  
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture2D(tex, st / vec2(texSize));
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int y, int x) {
  return get(tex, texSize, texDim, bitRatio, int(0), y, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int y, int x) {
  return getImage2D(tex, texSize, texDim, int(0), y, x);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int x) {
  return get(tex, texSize, texDim, bitRatio, int(0), int(0), x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int x) {
  return getImage2D(tex, texSize, texDim, int(0), int(0), x);
}


vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

__MAIN_PARAMS__;
__MAIN_CONSTANTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`},{}],73:[function(e,t,n){t.exports=`precision highp float;
precision highp int;
precision highp sampler2D;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`},{}],74:[function(e,t,n){var i=function(){function u(a,m){for(var y=0;y<m.length;y++){var c=m[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,m,y){return m&&u(a.prototype,m),y&&u(a,y),a}}();function s(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function o(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function f(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var l=e("./kernel"),g=e("../../core/utils");t.exports=function(u){f(a,u);function a(){return s(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return i(a,[{key:"validateOptions",value:function(){this.texSize=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),a}(l)},{"../../core/utils":88,"./kernel":70}],75:[function(e,t,n){function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function o(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=e("../function-builder-base"),l=e("./function-node");t.exports=function(g){o(u,g);function u(){i(this,u);var a=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return a.Node=l,a}return u}(f)},{"../function-builder-base":62,"./function-node":76}],76:[function(e,t,n){var i=function(){function m(y,c){for(var R=0;R<c.length;R++){var O=c[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,c,R){return c&&m(y.prototype,c),R&&m(y,R),y}}();function s(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function o(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var l=e("../web-gl/function-node"),g=/decode32\(\s+encode32\(/g,u=/encode32\(\s+decode32\(/g;t.exports=function(m){f(y,m);function y(){return s(this,y),o(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"generate",value:function(){return this.debug&&console.log(this),this.prototypeOnly?this.astFunctionPrototype(this.getJsAST(),[]).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[]),this.functionString=a(this.functionStringArray.join("").trim()),this.functionString)}},{key:"astIdentifierExpression",value:function(R,O){if(R.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",R);var P=!this.isState("in-get-call-parameters");switch(R.name){case"gpu_threadX":P&&O.push("float("),O.push("threadId.x"),P&&O.push(")");break;case"gpu_threadY":P&&O.push("float("),O.push("threadId.y"),P&&O.push(")");break;case"gpu_threadZ":P&&O.push("float("),O.push("threadId.z"),P&&O.push(")");break;case"gpu_outputX":O.push("uOutputDim.x");break;case"gpu_outputY":O.push("uOutputDim.y");break;case"gpu_outputZ":O.push("uOutputDim.z");break;case"Infinity":O.push("intBitsToFloat(2139095039)");break;default:var C=this.getUserParamName(R.name);C!==null?this.pushParameter(O,"user_"+C):this.pushParameter(O,"user_"+R.name)}return O}}]),y}(l);function a(m){return m.replace(g,"((").replace(u,"((")}},{"../web-gl/function-node":68}],77:[function(e,t,n){var i=function(){function y(c,R){for(var O=0;O<R.length;O++){var P=R[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(c,P.key,P)}}return function(c,R,O){return R&&y(c.prototype,R),O&&y(c,O),c}}();function s(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function o(y,c){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:y}function f(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(y,c):y.__proto__=c)}var l=e("../web-gl/kernel"),g=e("../../core/utils"),u=e("../../core/texture"),a=e("./shader-frag"),m=e("./shader-vert");t.exports=function(y){f(c,y);function c(){return s(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return i(c,[{key:"initWebGl",value:function(){return g.initWebGl2(this.getCanvas())}},{key:"validateOptions",value:function(){var O=g.isFloatReadPixelsSupportedWebGL2();if(this.floatOutput===!0&&this.floatOutputForce!==!0&&!O)throw new Error("Float texture outputs are not supported on this browser");this.floatTextures===void 0&&(this.floatTextures=!0,this.floatOutput=O);var P=g.hasIntegerDivisionAccuracyBug();if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=P:this.fixIntegerDivisionAccuracy&&!P&&(this.fixIntegerDivisionAccuracy=!1),g.checkOutput(this.output),!this.output||this.output.length===0){if(arguments.length!==1)throw new Error("Auto output only supported for kernels with only one input");var C=g.getArgumentType(arguments[0]);if(C==="Array")this.output=g.getDimensions(C);else if(C==="NumberTexture"||C==="ArrayTexture(4)")this.output=arguments[0].output;else throw new Error("Auto output not supported for input type: "+C)}if(this.texSize=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=g.clone(this.output)}else this.floatOutput===void 0&&(this.floatOutput=!0);(this.floatOutput||this.floatOutputForce)&&this._webGl.getExtension("EXT_color_buffer_float")}},{key:"run",value:function(){this.program===null&&this.build.apply(this,arguments);var O=this.paramNames,P=this.paramTypes,C=this.texSize,_=this._webGl;_.useProgram(this.program),_.scissor(0,0,C[0],C[1]),this.hardcodeConstants||(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",C)),this.setUniform2f("ratio",C[0]/this.maxTexSize[0],C[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var I=0;I<O.length;I++)this._addArgument(arguments[I],P[I],O[I]);if(this.graphical){if(this.outputToTexture)return _.bindRenderbuffer(_.RENDERBUFFER,null),_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),(!this.outputTexture||this.outputImmutable)&&this._setupOutputTexture(),_.drawArrays(_.TRIANGLE_STRIP,0,4),new u(this.outputTexture,C,this.threadDim,this.output,this._webGl,"ArrayTexture(4)");_.bindRenderbuffer(_.RENDERBUFFER,null),_.bindFramebuffer(_.FRAMEBUFFER,null),_.drawArrays(_.TRIANGLE_STRIP,0,4);return}_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),this.outputImmutable&&this._setupOutputTexture();var T=this.outputTexture;if(this.subKernelOutputVariableNames!==null&&(this.outputImmutable&&(this.subKernelOutputTextures=[],this._setupSubOutputTextures(this.subKernelOutputVariableNames.length)),_.drawBuffers(this.drawBuffersMap)),_.drawArrays(_.TRIANGLE_STRIP,0,4),this.subKernelOutputTextures!==null){if(this.subKernels!==null){var E=[];E.result=this.renderOutput(T);for(var v=0;v<this.subKernels.length;v++)E.push(new u(this.subKernelOutputTextures[v],C,this.threadDim,this.output,this._webGl));return E}else if(this.subKernelProperties!==null){var x={result:this.renderOutput(T)},Y=0;for(var re in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(re)&&(x[re]=new u(this.subKernelOutputTextures[Y],C,this.threadDim,this.output,this._webGl),Y++);return x}}return this.renderOutput(T)}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"_setupOutputTexture",value:function(){var O=this._webGl,P=this.texSize,C=this.outputTexture=this._webGl.createTexture();O.activeTexture(O.TEXTURE0+this.constantsLength+this.paramNames.length),O.bindTexture(O.TEXTURE_2D,C),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),this.floatOutput?O.texImage2D(O.TEXTURE_2D,0,O.RGBA32F,P[0],P[1],0,O.RGBA,O.FLOAT,null):O.texImage2D(O.TEXTURE_2D,0,O.RGBA,P[0],P[1],0,O.RGBA,O.UNSIGNED_BYTE,null),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,C,0)}},{key:"_setupSubOutputTextures",value:function(O){for(var P=this._webGl,C=this.texSize,_=this.drawBuffersMap=[P.COLOR_ATTACHMENT0],I=this.subKernelOutputTextures=[],T=0;T<O;T++){var E=this._webGl.createTexture();I.push(E),_.push(P.COLOR_ATTACHMENT0+T+1),P.activeTexture(P.TEXTURE0+this.constantsLength+this.paramNames.length+T),P.bindTexture(P.TEXTURE_2D,E),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST),this.floatOutput?P.texImage2D(P.TEXTURE_2D,0,P.RGBA32F,C[0],C[1],0,P.RGBA,P.FLOAT,null):P.texImage2D(P.TEXTURE_2D,0,P.RGBA,C[0],C[1],0,P.RGBA,P.UNSIGNED_BYTE,null),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0+T+1,P.TEXTURE_2D,E,0)}}},{key:"_addArgument",value:function(O,P,C){var _=this._webGl,I=this.getArgumentTexture(C);switch(O instanceof u&&(P=O.type),P){case"Array":{var T=g.getDimensions(O,!0),E=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},T);_.activeTexture(_.TEXTURE0+this.constantsLength+this.argumentsLength),_.bindTexture(_.TEXTURE_2D,I),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST);var v=E[0]*E[1],x=this._formatArrayTransfer(O,v),Y=x.valuesFlat,re=x.bitRatio,ce=void 0;this.floatTextures?_.texImage2D(_.TEXTURE_2D,0,_.RGBA32F,E[0],E[1],0,_.RGBA,_.FLOAT,Y):(ce=new Uint8Array(Y.buffer),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,E[0]/re,E[1],0,_.RGBA,_.UNSIGNED_BYTE,ce)),this.hardcodeConstants||(this.setUniform3iv("user_"+C+"Dim",T),this.setUniform2iv("user_"+C+"Size",E)),this.setUniform1i("user_"+C+"BitRatio",re),this.setUniform1i("user_"+C,this.argumentsLength);break}case"Integer":case"Float":case"Number":{this.setUniform1f("user_"+C,O);break}case"Input":{var oe=O,ue=oe.size,U=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},ue);_.activeTexture(_.TEXTURE0+this.constantsLength+this.argumentsLength),_.bindTexture(_.TEXTURE_2D,I),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST);var F=U[0]*U[1],j=this._formatArrayTransfer(O.value,F),H=j.valuesFlat,N=j.bitRatio;if(this.floatTextures)_.texImage2D(_.TEXTURE_2D,0,_.RGBA32F,U[0],U[1],0,_.RGBA,_.FLOAT,inputArray);else{var X=new Uint8Array(H.buffer);_.texImage2D(_.TEXTURE_2D,0,_.RGBA,U[0]/N,U[1],0,_.RGBA,_.UNSIGNED_BYTE,X)}this.hardcodeConstants||(this.setUniform3iv("user_"+C+"Dim",ue),this.setUniform2iv("user_"+C+"Size",U)),this.setUniform1i("user_"+C+"BitRatio",N),this.setUniform1i("user_"+C,this.argumentsLength);break}case"HTMLImage":{var Q=O,W=[Q.width,Q.height,1],ae=[Q.width,Q.height];_.activeTexture(_.TEXTURE0+this.constantsLength+this.argumentsLength),_.bindTexture(_.TEXTURE_2D,I),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,!0);var le=0,K=_.RGBA,J=_.RGBA,ne=_.UNSIGNED_BYTE;_.texImage2D(_.TEXTURE_2D,le,K,J,ne,Q),this.setUniform3iv("user_"+C+"Dim",W),this.setUniform2iv("user_"+C+"Size",ae),this.setUniform1i("user_"+C,this.argumentsLength);break}case"HTMLImageArray":{var te=O,de=[te[0].width,te[0].height,te.length],_e=[te[0].width,te[0].height];_.activeTexture(_.TEXTURE0+this.constantsLength+this.argumentsLength),_.bindTexture(_.TEXTURE_2D_ARRAY,I),_.texParameteri(_.TEXTURE_2D_ARRAY,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D_ARRAY,_.TEXTURE_MIN_FILTER,_.NEAREST),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,!0);var ye=0,he=_.RGBA,ge=te[0].width,M=te[0].height,A=te.length,B=0,$=_.RGBA,se=_.UNSIGNED_BYTE;_.texImage3D(_.TEXTURE_2D_ARRAY,ye,he,ge,M,A,B,$,se,null);for(var ie=0;ie<te.length;ie++){var pe=0,be=0,me=1;_.texSubImage3D(_.TEXTURE_2D_ARRAY,ye,pe,be,ie,te[ie].width,te[ie].height,me,$,se,te[ie])}this.setUniform3iv("user_"+C+"Dim",de),this.setUniform2iv("user_"+C+"Size",_e),this.setUniform1i("user_"+C,this.argumentsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var D=O,S=D.dimensions,k=D.size;_.activeTexture(_.TEXTURE0+this.constantsLength+this.argumentsLength),_.bindTexture(_.TEXTURE_2D,D.texture),this.setUniform3iv("user_"+C+"Dim",S),this.setUniform2iv("user_"+C+"Size",k),this.setUniform1i("user_"+C+"BitRatio",1),this.setUniform1i("user_"+C,this.argumentsLength);break}default:throw new Error("Input type not supported (WebGL): "+O)}this.argumentsLength++}},{key:"_getMainConstantsString",value:function(){var O=[];if(this.constants){for(var P in this.constants)if(this.constants.hasOwnProperty(P)){var C=this.constants[P],_=g.getArgumentType(C);switch(_){case"Integer":O.push("const float constants_"+P+" = "+parseInt(C)+".0");break;case"Float":O.push("const float constants_"+P+" = "+parseFloat(C));break;case"Array":case"Input":case"HTMLImage":case"ArrayTexture(4)":case"NumberTexture":O.push("uniform highp sampler2D constants_"+P,"uniform highp ivec2 constants_"+P+"Size","uniform highp ivec3 constants_"+P+"Dim","uniform highp int constants_"+P+"BitRatio");break;case"HTMLImageArray":O.push("uniform highp sampler2DArray constants_"+P,"uniform highp ivec2 constants_"+P+"Size","uniform highp ivec3 constants_"+P+"Dim","uniform highp int constants_"+P+"BitRatio");break;default:throw new Error("Unsupported constant "+P+" type "+_)}}}return this._linesToString(O)}},{key:"_addConstant",value:function(O,P,C){var _=this._webGl,I=this.getArgumentTexture(C);switch(O instanceof u&&(P=O.type),P){case"Array":{var T=g.getDimensions(O,!0),E=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},T);_.activeTexture(_.TEXTURE0+this.constantsLength),_.bindTexture(_.TEXTURE_2D,I),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST);var v=E[0]*E[1],x=this._formatArrayTransfer(O,v),Y=x.valuesFlat,re=x.bitRatio,ce=void 0;this.floatTextures?_.texImage2D(_.TEXTURE_2D,0,_.RGBA,E[0],E[1],0,_.RGBA,_.FLOAT,Y):(ce=new Uint8Array(Y.buffer),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,E[0]/re,E[1],0,_.RGBA,_.UNSIGNED_BYTE,ce)),this.hardcodeConstants||(this.setUniform3iv("constants_"+C+"Dim",T),this.setUniform2iv("constants_"+C+"Size",E)),this.setUniform1i("constants_"+C+"BitRatio",re),this.setUniform1i("constants_"+C,this.constantsLength);break}case"Input":{var oe=O,ue=oe.size,U=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},ue);_.activeTexture(_.TEXTURE0+this.constantsLength),_.bindTexture(_.TEXTURE_2D,I),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST);var F=U[0]*U[1],j=this._formatArrayTransfer(O.value,F),H=j.valuesFlat,N=j.bitRatio;if(this.floatTextures)_.texImage2D(_.TEXTURE_2D,0,_.RGBA32F,U[0],U[1],0,_.RGBA,_.FLOAT,inputArray);else{var X=new Uint8Array(H.buffer);_.texImage2D(_.TEXTURE_2D,0,_.RGBA,U[0]/N,U[1],0,_.RGBA,_.UNSIGNED_BYTE,X)}this.hardcodeConstants||(this.setUniform3iv("constants_"+C+"Dim",ue),this.setUniform2iv("constants_"+C+"Size",U)),this.setUniform1i("constants_"+C+"BitRatio",N),this.setUniform1i("constants_"+C,this.constantsLength);break}case"HTMLImage":{var Q=O,W=[Q.width,Q.height,1],ae=[Q.width,Q.height];_.activeTexture(_.TEXTURE0+this.constantsLength),_.bindTexture(_.TEXTURE_2D,I),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,!0);var le=0,K=_.RGBA,J=_.RGBA,ne=_.UNSIGNED_BYTE;_.texImage2D(_.TEXTURE_2D,le,K,J,ne,Q),this.setUniform3iv("constants_"+C+"Dim",W),this.setUniform2iv("constants_"+C+"Size",ae),this.setUniform1i("constants_"+C,this.constantsLength);break}case"HTMLImageArray":{var te=O,de=[te[0].width,te[0].height,te.length],_e=[te[0].width,te[0].height];_.activeTexture(_.TEXTURE0+this.constantsLength),_.bindTexture(_.TEXTURE_2D_ARRAY,I),_.texParameteri(_.TEXTURE_2D_ARRAY,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D_ARRAY,_.TEXTURE_MIN_FILTER,_.NEAREST),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,!0);var ye=0,he=_.RGBA,ge=te[0].width,M=te[0].height,A=te.length,B=0,$=_.RGBA,se=_.UNSIGNED_BYTE;_.texImage3D(_.TEXTURE_2D_ARRAY,ye,he,ge,M,A,B,$,se,null);for(var ie=0;ie<te.length;ie++){var pe=0,be=0,me=1;_.texSubImage3D(_.TEXTURE_2D_ARRAY,ye,pe,be,ie,te[ie].width,te[ie].height,me,$,se,te[ie])}this.setUniform3iv("constants_"+C+"Dim",de),this.setUniform2iv("constants_"+C+"Size",_e),this.setUniform1i("constants_"+C,this.constantsLength);break}case"ArrayTexture(4)":case"NumberTexture":{var D=O,S=D.dimensions,k=D.size;_.activeTexture(_.TEXTURE0+this.constantsLength),_.bindTexture(_.TEXTURE_2D,D.texture),this.setUniform3iv("constants_"+C+"Dim",S),this.setUniform2iv("constants_"+C+"Size",k),this.setUniform1i("constants_"+C+"BitRatio",1),this.setUniform1i("constants_"+C,this.constantsLength);break}case"Integer":case"Float":default:throw new Error("Input type not supported (WebGL): "+O)}}},{key:"_getGetResultString",value:function(){return this.floatTextures?"  return texel[channel];":"  return decode(texel, x, bitRatio);"}},{key:"_getHeaderString",value:function(){return""}},{key:"_getTextureCoordinate",value:function(){var O=this.subKernelOutputVariableNames;return O===null||O.length<1?`in highp vec2 vTexCoord;
`:`out highp vec2 vTexCoord;
`}},{key:"_getMainParamsString",value:function(O){for(var P=[],C=this.paramTypes,_=this.paramNames,I=0;I<_.length;I++){var T=O[I],E=_[I],v=C[I];if(this.hardcodeConstants)if(v==="Array"||v==="NumberTexture"||v==="ArrayTexture(4)"){var x=g.getDimensions(T,!0),Y=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},x);P.push("uniform highp sampler2D user_"+E,"highp ivec2 user_"+E+"Size = ivec2("+Y[0]+", "+Y[1]+")","highp ivec3 user_"+E+"Dim = ivec3("+x[0]+", "+x[1]+", "+x[2]+")","uniform highp int user_"+E+"BitRatio")}else v==="Integer"?P.push("highp float user_"+E+" = "+T+".0"):v==="Float"&&P.push("highp float user_"+E+" = "+T);else v==="Array"||v==="NumberTexture"||v==="ArrayTexture(4)"||v==="Input"||v==="HTMLImage"?(P.push("uniform highp sampler2D user_"+E,"uniform highp ivec2 user_"+E+"Size","uniform highp ivec3 user_"+E+"Dim"),v!=="HTMLImage"&&P.push("uniform highp int user_"+E+"BitRatio")):v==="HTMLImageArray"?P.push("uniform highp sampler2DArray user_"+E,"uniform highp ivec2 user_"+E+"Size","uniform highp ivec3 user_"+E+"Dim"):(v==="Integer"||v==="Float")&&P.push("uniform float user_"+E)}return this._linesToString(P)}},{key:"_getKernelString",value:function(){var O=[],P=this.subKernelOutputVariableNames;if(P!==null){O.push("float kernelResult = 0.0"),O.push("layout(location = 0) out vec4 data0");for(var C=0;C<P.length;C++)O.push("float "+P[C]+" = 0.0","layout(location = "+(C+1)+") out vec4 data"+(C+1))}else O.push("out vec4 data0"),O.push("float kernelResult = 0.0");return this._linesToString(O)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var O=this.subKernelOutputVariableNames,P=[];if(this.floatOutput&&P.push("  index *= 4"),this.graphical)P.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor");else if(this.floatOutput)for(var C=["r","g","b","a"],_=0;_<C.length;++_){if(P.push("  threadId = indexTo3D(index, uOutputDim)"),P.push("  kernel()"),O){P.push("  data0."+C[_]+" = kernelResult");for(var I=0;I<O.length;++I)P.push("  data"+(I+1)+"."+C[_]+" = "+O[I])}else P.push("  data0."+C[_]+" = kernelResult");_<C.length-1&&P.push("  index += 1")}else if(O!==null){P.push("  threadId = indexTo3D(index, uOutputDim)"),P.push("  kernel()"),P.push("  data0 = encode32(kernelResult)");for(var T=0;T<O.length;T++)P.push("  data"+(T+1)+" = encode32("+O[T]+")")}else P.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = encode32(kernelResult)");return this._linesToString(P)}},{key:"_addKernels",value:function(){var O=this,P=this.functionBuilder;this._webGl,P.addFunctions(this.functions,{constants:this.constants,output:this.output}),P.addNativeFunctions(this.nativeFunctions),P.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations,paramNames:this.paramNames,paramTypes:this.paramTypes,constantTypes:this.constantTypes,fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy}),this.subKernels!==null?(this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],this.subKernels.forEach(function(C){return O._addSubKernel(C)})):this.subKernelProperties!==null&&(this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],Object.keys(this.subKernelProperties).forEach(function(C){return O._addSubKernel(O.subKernelProperties[C])}))}},{key:"_getFragShaderString",value:function(O){return this.compiledFragShaderString!==null?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(this.constructor.fragShaderString,this._getFragShaderArtifactMap(O))}},{key:"_getVertShaderString",value:function(O){return this.compiledVertShaderString!==null?this.compiledVertShaderString:this.compiledVertShaderString=this.constructor.vertShaderString}}],[{key:"fragShaderString",get:function(){return a}},{key:"vertShaderString",get:function(){return m}}]),c}(l)},{"../../core/texture":86,"../../core/utils":88,"../web-gl/kernel":70,"./shader-frag":79,"./shader-vert":80}],78:[function(e,t,n){var i=function(){function a(m,y){for(var c=0;c<y.length;c++){var R=y[c];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}return function(m,y,c){return y&&a(m.prototype,y),c&&a(m,c),m}}();function s(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}function o(a,m){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:a}function f(a,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);a.prototype=Object.create(m&&m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(a,m):a.__proto__=m)}var l=e("../runner-base"),g=e("./function-builder"),u=e("./kernel");t.exports=function(a){f(m,a);function m(y){s(this,m);var c=o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,new g,y));return c.Kernel=u,c.kernel=null,c}return i(m,[{key:"getMode",value:function(){return"gpu"}}]),m}(l)},{"../runner-base":66,"./function-builder":75,"./kernel":77}],79:[function(e,t,n){t.exports=`#version 300 es
__HEADER__;
precision highp float;
precision highp int;
precision highp sampler2D;

const float LOOP_MAX = __LOOP_MAX__;

__CONSTANTS__;

in vec2 vTexCoord;

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 rgba) {
  __DECODE32_ENDIANNESS__;
  rgba *= 255.0;
  vec2 gte128;
  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  rgba.b = rgba.b - 128.0 * gte128.x;
  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

vec4 encode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  rgba.rg = integerMod(rgba.rg, 256.0);
  rgba.b = integerMod(rgba.b, 128.0);
  rgba.a = exponent*0.5 + 63.5;
  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  rgba = floor(rgba);
  rgba *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return rgba;
}
// Dragons end here

float decode(vec4 rgba, int x, int bitRatio) {
  if (bitRatio == 1) {
    return decode32(rgba);
  }
  __DECODE32_ENDIANNESS__;
  int channel = integerMod(x, bitRatio);
  if (bitRatio == 4) {
    return rgba[channel] * 255.0;
  }
  else {
    return rgba[channel*2] * 255.0 + rgba[channel*2 + 1] * 65280.0;
  }
}

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio,  int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  vec4 texel = texture(tex, st / vec2(texSize));
  __GET_RESULT__;
  
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  ivec3 xyz = ivec3(x, y, z);
  __GET_WRAPAROUND__;
  int index = xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z);
  __GET_TEXTURE_CHANNEL__;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  __GET_TEXTURE_INDEX__;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int y, int x) {
  return get(tex, texSize, texDim, bitRatio, 0, y, x);
}

float get(sampler2D tex, ivec2 texSize, ivec3 texDim, int bitRatio, int x) {
  return get(tex, texSize, texDim, bitRatio, 0, 0, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int y, int x) {
  return getImage2D(tex, texSize, texDim, 0, y, x);
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int x) {
  return getImage2D(tex, texSize, texDim, 0, 0, x);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

__MAIN_PARAMS__;
__MAIN_CONSTANTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`},{}],80:[function(e,t,n){t.exports=`#version 300 es
precision highp float;
precision highp int;
precision highp sampler2D;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`},{}],81:[function(e,t,n){var i=function(){function u(a,m){for(var y=0;y<m.length;y++){var c=m[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,m,y){return m&&u(a.prototype,m),y&&u(a,y),a}}();function s(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function o(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function f(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var l=e("./kernel"),g=e("../../core/utils");t.exports=function(u){f(a,u);function a(){return s(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return i(a,[{key:"validateOptions",value:function(){this._webGl.getExtension("EXT_color_buffer_float"),this.texSize=g.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),a}(l)},{"../../core/utils":88,"./kernel":77}],82:[function(e,t,n){var i=e("./utils");t.exports=function(o,f){var l=f.toString();return new Function("return function "+o+" ("+i.getParamNamesFromString(l).join(", ")+") {"+i.getFunctionBodyFromString(l)+"}")()}},{"./utils":88}],83:[function(e,t,n){var i=function(){function o(f,l){for(var g=0;g<l.length;g++){var u=l[g];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}return function(f,l,g){return l&&o(f.prototype,l),g&&o(f,g),f}}();function s(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}e("./utils-core"),t.exports=function(){function o(){s(this,o)}return i(o,null,[{key:"validateKernelObj",value:function(l){if(l===null)throw"KernelObj being validated is NULL";if(typeof l=="string"){try{l=JSON.parse(l)}catch(g){throw console.error(g),"Failed to convert KernelObj from JSON string"}if(l===null)throw"Invalid (NULL) KernelObj JSON string representation"}if(l.isKernelObj!==!0)throw"Failed missing isKernelObj flag check";return l}},{key:"loadKernelObj",value:function(l,g){l=validateKernelObj(l)}}]),o}()},{"./utils-core":87}],84:[function(e,t,n){var i=function(){function O(P,C){for(var _=0;_<C.length;_++){var I=C[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}return function(P,C,_){return C&&O(P.prototype,C),_&&O(P,_),P}}();function s(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function o(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function f(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var l=e("./utils"),g=e("../backend/web-gl/runner"),u=e("../backend/web-gl2/runner"),a=e("../backend/cpu/runner"),m=e("../backend/web-gl/validator-kernel"),y=e("../backend/web-gl2/validator-kernel"),c=e("./gpu-core"),R=function(O){f(P,O);function P(C){s(this,P);var _=o(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,C));C=C||{},_._canvas=C.canvas||null,_._webGl=C.webGl||null;var I=C.mode,T=void 0;if(l.isWebGlSupported())if(_._webGl)if(typeof WebGL2RenderingContext<"u"&&_._webGl.constructor===WebGL2RenderingContext)T="webgl2";else if(typeof WebGLRenderingContext<"u"&&_._webGl.constructor===WebGLRenderingContext)T="webgl";else throw new Error("unknown WebGL Context");else T=I||"gpu";else{if(I&&I!=="cpu")throw new Error('A requested mode of "'+I+'" and is not supported');console.warn("Warning: gpu not supported, falling back to cpu support"),T="cpu"}_.kernels=[];var E={canvas:_._canvas,webGl:_._webGl};switch(T){case"cpu":_._runner=new a(E);break;case"gpu":var v=_.getGPURunner();_._runner=new v(E);break;case"webgl2":_._runner=new u(E);break;case"webgl":_._runner=new g(E);break;case"webgl2-validator":_._runner=new u(E),_._runner.Kernel=y;break;case"webgl-validator":_._runner=new g(E),_._runner.Kernel=m;break;default:throw new Error('"'+I+'" mode is not defined')}return _}return i(P,[{key:"createKernel",value:function(_,I){if(typeof _>"u")throw"Missing fn parameter";if(!l.isFunction(_)&&typeof _!="string")throw"fn parameter not a function";var T=Object.assign({webGl:this._webGl,canvas:this._canvas},I||{}),E=this._runner.buildKernel(_,T);return this._canvas||(this._canvas=E.getCanvas()),this._runner.canvas||(this._runner.canvas=E.getCanvas()),this.kernels.push(E),E}},{key:"createKernelMap",value:function(){var _=void 0,I=void 0;typeof arguments[arguments.length-2]=="function"?(_=arguments[arguments.length-2],I=arguments[arguments.length-1]):_=arguments[arguments.length-1],l.isWebGlDrawBuffersSupported()||(this._runner=new a(I));var T=this.createKernel(_,I);if(Array.isArray(arguments[0]))for(var E=arguments[0],v=0;v<E.length;v++)T.addSubKernel(E[v]);else{var x=arguments[0];for(var Y in x)x.hasOwnProperty(Y)&&T.addSubKernelProperty(Y,x[Y])}return T}},{key:"combineKernels",value:function(){var _=arguments[arguments.length-2],I=arguments[arguments.length-1];if(this.getMode()==="cpu")return I;for(var T=arguments[0].getCanvas(),E=arguments[0].getWebGl(),v=0;v<arguments.length-1;v++)arguments[v].setCanvas(T).setWebGl(E).setOutputToTexture(!0);return function(){I.apply(null,arguments);var x=_.texSize,Y=_.getWebGl(),re=_.threadDim,ce=void 0;if(_.floatOutput){var oe=x[0],ue=Math.ceil(x[1]/4);ce=new Float32Array(oe*ue*4),Y.readPixels(0,0,oe,ue,Y.RGBA,Y.FLOAT,ce)}else{var U=new Uint8Array(x[0]*x[1]*4);Y.readPixels(0,0,x[0],x[1],Y.RGBA,Y.UNSIGNED_BYTE,U),ce=new Float32Array(U.buffer)}if(ce=ce.subarray(0,re[0]*re[1]*re[2]),_.output.length===1)return ce;if(_.output.length===2)return l.splitArray(ce,_.output[0]);if(_.output.length===3){var F=l.splitArray(ce,_.output[0]*_.output[1]);return F.map(function(j){return l.splitArray(j,_.output[0])})}}}},{key:"getGPURunner",value:function(){if(typeof WebGL2RenderingContext<"u"&&l.isWebGl2Supported())return u;if(typeof WebGLRenderingContext<"u")return g}},{key:"addFunction",value:function(_,I){return this._runner.functionBuilder.addFunction(null,_,I),this}},{key:"addNativeFunction",value:function(_,I){return this._runner.functionBuilder.addNativeFunction(_,I),this}},{key:"getMode",value:function(){return this._runner.getMode()}},{key:"isWebGlSupported",value:function(){return l.isWebGlSupported()}},{key:"hasIntegerDivisionAccuracyBug",value:function(){return l.hasIntegerDivisionAccuracyBug()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"destroy",value:function(){var _=this;setTimeout(function(){for(var I=_.kernels,T=!_._webGl&&I.length&&I[0]._webGl,E=0;E<_.kernels.length;E++)_.kernels[E].destroy(!0);if(T){T.OES_texture_float=null,T.OES_texture_float_linear=null,T.OES_element_index_uint=null;var v=T.getExtension("WEBGL_lose_context");v&&v.loseContext()}},0)}}]),P}(c);Object.assign(R,c),t.exports=R},{"../backend/cpu/runner":61,"../backend/web-gl/runner":71,"../backend/web-gl/validator-kernel":74,"../backend/web-gl2/runner":78,"../backend/web-gl2/validator-kernel":81,"./gpu-core":83,"./utils":88}],85:[function(e,t,n){function i(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}t.exports=function s(o,f){if(i(this,s),this.value=o,Array.isArray(f)){this.size=[];for(var l=0;l<f.length;l++)this.size[l]=f[l];for(;this.size.length<3;)this.size.push(1)}else f.z?this.size=[f.x,f.y,f.z]:f.y?this.size=[f.x,f.y,1]:this.size=[f.x,1,1]}},{}],86:[function(e,t,n){var i=function(){function o(f,l){for(var g=0;g<l.length;g++){var u=l[g];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}return function(f,l,g){return l&&o(f.prototype,l),g&&o(f,g),f}}();function s(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}t.exports=function(){function o(f,l,g,u,a){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"NumberTexture";s(this,o),this.texture=f,this.size=l,this.dimensions=g,this.output=u,this.webGl=a,this.kernel=null,this.type=m}return i(o,[{key:"toArray",value:function(l){if(!l)throw new Error("You need to pass the GPU object for toArray to work.");return this.kernel?this.kernel(this):(this.kernel=l.createKernel(function(g){return g[this.thread.z][this.thread.y][this.thread.x]}).setOutput(this.output),this.kernel(this))}},{key:"delete",value:function(){return this.webGl.deleteTexture(this.texture)}}]),o}()},{}],87:[function(e,t,n){var i=function(){function y(c,R){for(var O=0;O<R.length;O++){var P=R[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(c,P.key,P)}}return function(c,R,O){return R&&y(c.prototype,R),O&&y(c,O),c}}();function s(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function y(){s(this,y)}return i(y,null,[{key:"isCanvas",value:function(R){return R!==null&&(R.nodeName&&R.getContext&&R.nodeName.toUpperCase()==="CANVAS"||typeof OffscreenCanvas<"u"&&R instanceof OffscreenCanvas)}},{key:"isCanvasSupported",value:function(){return f}},{key:"initCanvas",value:function(){if(!f)return null;var R=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(0,0);return R.width=2,R.height=2,R}},{key:"isWebGl",value:function(R){return R&&typeof R.getExtension=="function"}},{key:"isWebGl2",value:function(R){return R&&typeof WebGL2RenderingContext<"u"&&R instanceof WebGL2RenderingContext}},{key:"isWebGlSupported",value:function(){return u}},{key:"isWebGl2Supported",value:function(){return a}},{key:"isWebGlDrawBuffersSupported",value:function(){return m}},{key:"initWebGlDefaultOptions",value:function(){return{alpha:!1,depth:!1,antialias:!1}}},{key:"initWebGl",value:function(R){if((typeof f<"u"||R===null)&&!f)return null;if(!y.isCanvas(R))throw new Error("Invalid canvas object - "+R);var O=null,P=y.initWebGlDefaultOptions();try{O=R.getContext("experimental-webgl",P)}catch{}return O===null&&(O=R.getContext("webgl2",P)||R.getContext("webgl",P)),O&&(O.OES_texture_float=O.getExtension("OES_texture_float"),O.OES_texture_float_linear=O.getExtension("OES_texture_float_linear"),O.OES_element_index_uint=O.getExtension("OES_element_index_uint")),O}},{key:"initWebGl2",value:function(R){if((typeof f<"u"||R===null)&&!f)return null;if(!y.isCanvas(R))throw new Error("Invalid canvas object - "+R);return R.getContext("webgl2",y.initWebGlDefaultOptions())}},{key:"checkOutput",value:function(R){if(!R||!Array.isArray(R))throw new Error("kernel.output not an array");for(var O=0;O<R.length;O++)if(isNaN(R[O])||R[O]<1)throw new Error("kernel.output["+O+"] incorrectly defined as `"+R[O]+"`, needs to be numeric, and greater than 0")}}]),y}(),f=typeof document<"u"?o.isCanvas(document.createElement("canvas")):typeof OffscreenCanvas<"u",l=o.initWebGl(o.initCanvas()),g=o.initWebGl2(o.initCanvas()),u=o.isWebGl(l),a=o.isWebGl2(g),m=u&&!!l.getExtension("WEBGL_draw_buffers");u?(o.OES_texture_float=l.OES_texture_float,o.OES_texture_float_linear=l.OES_texture_float_linear,o.OES_element_index_uint=l.OES_element_index_uint):(o.OES_texture_float=!1,o.OES_texture_float_linear=!1,o.OES_element_index_uint=!1),t.exports=o},{}],88:[function(e,t,n){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},s=function(){function T(E,v){for(var x=0;x<v.length;x++){var Y=v[x];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(E,Y.key,Y)}}return function(E,v,x){return v&&T(E.prototype,v),x&&T(E,x),E}}();function o(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function f(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function l(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var g=e("./utils-core"),u=e("./input"),a=e("./texture"),m=/function ([^(]*)/,y=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=/([^\s,]+)/g,R=function(){var T=new ArrayBuffer(4),E=new Uint32Array(T),v=new Uint8Array(T);if(E[0]=3735928559,v[0]===239)return"LE";if(v[0]===222)return"BE";throw new Error("unknown endianness")}(),O=null,P=null,C=function(){try{return new Function("let i = 1; const j = 1;")(),!0}catch{return!1}}(),_=null,I=function(T){l(E,T);function E(){return o(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,null,[{key:"systemEndianness",value:function(){return R}},{key:"isFunction",value:function(x){return typeof x=="function"}},{key:"isFunctionString",value:function(x){return x!==null?x.toString().slice(0,8).toLowerCase()==="function":!1}},{key:"getFunctionNameFromString",value:function(x){return m.exec(x)[1]}},{key:"getFunctionBodyFromString",value:function(x){return x.substring(x.indexOf("{")+1,x.lastIndexOf("}"))}},{key:"getParamNamesFromString",value:function(x){var Y=x.toString().replace(y,""),re=Y.slice(Y.indexOf("(")+1,Y.indexOf(")")).match(c);return re===null&&(re=[]),re}},{key:"clone",value:function(x){if(x===null||(typeof x>"u"?"undefined":i(x))!=="object"||x.hasOwnProperty("isActiveClone"))return x;var Y=x.constructor();for(var re in x)Object.prototype.hasOwnProperty.call(x,re)&&(x.isActiveClone=null,Y[re]=E.clone(x[re]),delete x.isActiveClone);return Y}},{key:"newPromise",value:function(x){var Y=Promise||small_promise;if(Y===null)throw TypeError("Browser is missing Promise implementation. Consider adding small_promise.js polyfill");return new Y(x)}},{key:"functionBinder",value:function(x,Y){return x.bind?x.bind(Y):function(){var re=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);return x.apply(Y,re)}}},{key:"isArray",value:function(x){return!isNaN(x.length)}},{key:"getArgumentType",value:function(x){return E.isArray(x)?x[0].nodeName==="IMG"?"HTMLImageArray":"Array":typeof x=="number"?Number.isInteger(x)?"Integer":"Float":x instanceof a?x.type:x instanceof u?"Input":x.nodeName==="IMG"?"HTMLImage":"Unknown"}},{key:"isFloatReadPixelsSupported",value:function(){if(O!==null)return O;var x=e("../index"),Y=new x({mode:"webgl-validator"}),re=Y.createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return O=re[0]===1,Y.destroy(),O}},{key:"isFloatReadPixelsSupportedWebGL2",value:function(){if(P!==null)return P;var x=e("../index"),Y=new x({mode:"webgl2-validator"}),re=Y.createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return P=re[0]===1,Y.destroy(),P}},{key:"hasIntegerDivisionAccuracyBug",value:function(){if(_!==null)return _;var x=e("../index"),Y=new x({mode:"webgl-validator"}),re=Y.createKernel(function(ce,oe){return ce[this.thread.x]/oe[this.thread.x]},{output:[1]})([6,6030401],[3,3991]);return _=re[0]!==2||re[1]!==1511,Y.destroy(),_}},{key:"isMixedIdentifiersSupported",value:function(){return C}},{key:"dimToTexSize",value:function(x,Y,re){for(var ce=Y[0],oe=Y[0],ue=Y[1],U=1;U<Y.length;U++)ce*=Y[U];if(x.floatTextures&&(!re||x.floatOutput)&&(oe=ce=Math.ceil(ce/4)),ue>1&&oe*ue===ce)return[oe,ue];for(var F=Math.sqrt(ce),j=Math.ceil(F),H=Math.floor(F);j*H>ce;)j--,H=Math.ceil(ce/j);return oe=H,ue=Math.ceil(ce/oe),[oe,ue]}},{key:"getDimensions",value:function(x,Y){var re=void 0;if(E.isArray(x)){for(var ce=[],oe=x;E.isArray(oe);)ce.push(oe.length),oe=oe[0];re=ce.reverse()}else if(x instanceof a)re=x.output;else if(x instanceof u)re=x.size;else throw"Unknown dimensions of "+x;if(Y)for(re=E.clone(re);re.length<3;)re.push(1);return new Int32Array(re)}},{key:"pad",value:function(x,Y){function re(U){return Array.apply(null,new Array(U)).map(Number.prototype.valueOf,0)}for(var ce=x.length+Y*2,oe=x.map(function(U){return[].concat(re(Y),U,re(Y))}),ue=0;ue<Y;ue++)oe=[].concat([re(ce)],oe,[re(ce)]);return oe}},{key:"flatten2dArrayTo",value:function(x,Y){for(var re=0,ce=0;ce<x.length;ce++)Y.set(x[ce],re),re+=x[ce].length}},{key:"flatten3dArrayTo",value:function(x,Y){for(var re=0,ce=0;ce<x.length;ce++)for(var oe=0;oe<x[ce].length;oe++)Y.set(x[ce][oe],re),re+=x[ce][oe].length}},{key:"flattenTo",value:function(x,Y){E.isArray(x[0])?E.isArray(x[0][0])?E.flatten3dArrayTo(x,Y):E.flatten2dArrayTo(x,Y):Y.set(x)}},{key:"splitArray",value:function(x,Y){for(var re=[],ce=0;ce<x.length;ce+=Y)re.push(new x.constructor(x.buffer,ce*4+x.byteOffset,Y));return re}},{key:"getAstString",value:function(x,Y){var re=Array.isArray(x)?x:x.split(/\r?\n/g),ce=Y.loc.start,oe=Y.loc.end,ue=[];ue.push(re[ce.line-1].slice(ce.column));for(var U=ce.line;U<oe.line-1;U++)ue.push(re[U]);return ue.push(re[oe.line-1].slice(0,oe.column)),ue.join(`
`)}},{key:"allPropertiesOf",value:function(x){var Y=[];do Y.push.apply(Y,Object.getOwnPropertyNames(x));while(x=Object.getPrototypeOf(x));return Y}}]),E}(g);Object.assign(I,g),t.exports=I},{"../index":89,"./input":85,"./texture":86,"./utils-core":87}],89:[function(e,t,n){var i=e("./core/gpu"),s=e("./core/alias"),o=e("./core/utils"),f=e("./core/input"),l=e("./core/texture"),g=e("./backend/cpu/function-builder"),u=e("./backend/cpu/function-node"),a=e("./backend/cpu/kernel"),m=e("./backend/cpu/runner"),y=e("./backend/web-gl/function-builder"),c=e("./backend/web-gl/function-node"),R=e("./backend/web-gl/kernel"),O=e("./backend/web-gl/runner"),P=e("./backend/web-gl2/function-builder"),C=e("./backend/web-gl2/function-node"),_=e("./backend/web-gl2/kernel"),I=e("./backend/web-gl2/runner");i.alias=s,i.utils=o,i.Texture=l,i.Input=f,i.input=function(T,E){return new f(T,E)},i.CPUFunctionBuilder=g,i.CPUFunctionNode=u,i.CPUKernel=a,i.CPURunner=m,i.WebGLFunctionBuilder=y,i.WebGLFunctionNode=c,i.WebGLKernel=R,i.WebGLRunner=O,i.WebGL2FunctionBuilder=P,i.WebGL2FunctionNode=C,i.WebGL2Kernel=_,i.WebGL2Runner=I,typeof t<"u"&&(t.exports=i),typeof window<"u"&&(window.GPU=i),typeof self<"u"&&(self.GPU=i)},{"./backend/cpu/function-builder":57,"./backend/cpu/function-node":58,"./backend/cpu/kernel":60,"./backend/cpu/runner":61,"./backend/web-gl/function-builder":67,"./backend/web-gl/function-node":68,"./backend/web-gl/kernel":70,"./backend/web-gl/runner":71,"./backend/web-gl2/function-builder":75,"./backend/web-gl2/function-node":76,"./backend/web-gl2/kernel":77,"./backend/web-gl2/runner":78,"./core/alias":82,"./core/gpu":84,"./core/input":85,"./core/texture":86,"./core/utils":88}],90:[function(e,t,n){(function(i,s){s(typeof n=="object"&&typeof t<"u"?n:i.acorn={})})(this,function(i){var s={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},o="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",f={5:o,6:o+" const class extends export import super"},l=/^in(stanceof)?$/,g="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",u="---------------------------------------------------------------------------------------------------------------------------------------------------",a=new RegExp("["+g+"]"),m=new RegExp("["+g+u+"]");g=u=null;var y=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,190,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,26,230,43,117,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,68,12,0,67,12,65,1,31,6129,15,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],c=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function R(r,b){for(var L=65536,z=0;z<b.length;z+=2){if(L+=b[z],L>r)return!1;if(L+=b[z+1],L>=r)return!0}}function O(r,b){return r<65?r===36:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&a.test(String.fromCharCode(r)):b===!1?!1:R(r,y)}function P(r,b){return r<48?r===36:r<58?!0:r<65?!1:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&m.test(String.fromCharCode(r)):b===!1?!1:R(r,y)||R(r,c)}var C=function(b,L){L===void 0&&(L={}),this.label=b,this.keyword=L.keyword,this.beforeExpr=!!L.beforeExpr,this.startsExpr=!!L.startsExpr,this.isLoop=!!L.isLoop,this.isAssign=!!L.isAssign,this.prefix=!!L.prefix,this.postfix=!!L.postfix,this.binop=L.binop||null,this.updateContext=null};function _(r,b){return new C(r,{beforeExpr:!0,binop:b})}var I={beforeExpr:!0},T={startsExpr:!0},E={};function v(r,b){return b===void 0&&(b={}),b.keyword=r,E[r]=new C(r,b)}var x={num:new C("num",T),regexp:new C("regexp",T),string:new C("string",T),name:new C("name",T),eof:new C("eof"),bracketL:new C("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new C("]"),braceL:new C("{",{beforeExpr:!0,startsExpr:!0}),braceR:new C("}"),parenL:new C("(",{beforeExpr:!0,startsExpr:!0}),parenR:new C(")"),comma:new C(",",I),semi:new C(";",I),colon:new C(":",I),dot:new C("."),question:new C("?",I),arrow:new C("=>",I),template:new C("template"),invalidTemplate:new C("invalidTemplate"),ellipsis:new C("...",I),backQuote:new C("`",T),dollarBraceL:new C("${",{beforeExpr:!0,startsExpr:!0}),eq:new C("=",{beforeExpr:!0,isAssign:!0}),assign:new C("_=",{beforeExpr:!0,isAssign:!0}),incDec:new C("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new C("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:_("||",1),logicalAND:_("&&",2),bitwiseOR:_("|",3),bitwiseXOR:_("^",4),bitwiseAND:_("&",5),equality:_("==/!=/===/!==",6),relational:_("</>/<=/>=",7),bitShift:_("<</>>/>>>",8),plusMin:new C("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:_("%",10),star:_("*",10),slash:_("/",10),starstar:new C("**",{beforeExpr:!0}),_break:v("break"),_case:v("case",I),_catch:v("catch"),_continue:v("continue"),_debugger:v("debugger"),_default:v("default",I),_do:v("do",{isLoop:!0,beforeExpr:!0}),_else:v("else",I),_finally:v("finally"),_for:v("for",{isLoop:!0}),_function:v("function",T),_if:v("if"),_return:v("return",I),_switch:v("switch"),_throw:v("throw",I),_try:v("try"),_var:v("var"),_const:v("const"),_while:v("while",{isLoop:!0}),_with:v("with"),_new:v("new",{beforeExpr:!0,startsExpr:!0}),_this:v("this",T),_super:v("super",T),_class:v("class",T),_extends:v("extends",I),_export:v("export"),_import:v("import"),_null:v("null",T),_true:v("true",T),_false:v("false",T),_in:v("in",{beforeExpr:!0,binop:7}),_instanceof:v("instanceof",{beforeExpr:!0,binop:7}),_typeof:v("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:v("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:v("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Y=/\r\n?|\n|\u2028|\u2029/,re=new RegExp(Y.source,"g");function ce(r,b){return r===10||r===13||!b&&(r===8232||r===8233)}var oe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ue=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,U=Object.prototype,F=U.hasOwnProperty,j=U.toString;function H(r,b){return F.call(r,b)}var N=Array.isArray||function(r){return j.call(r)==="[object Array]"},X=function(b,L){this.line=b,this.column=L};X.prototype.offset=function(b){return new X(this.line,this.column+b)};var Q=function(b,L,z){this.start=L,this.end=z,b.sourceFile!==null&&(this.source=b.sourceFile)};function W(r,b){for(var L=1,z=0;;){re.lastIndex=z;var V=re.exec(r);if(V&&V.index<b)++L,z=V.index+V[0].length;else return new X(L,b-z)}}var ae={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};function le(r){var b={};for(var L in ae)b[L]=r&&H(r,L)?r[L]:ae[L];if(b.ecmaVersion>=2015&&(b.ecmaVersion-=2009),b.allowReserved==null&&(b.allowReserved=b.ecmaVersion<5),N(b.onToken)){var z=b.onToken;b.onToken=function(V){return z.push(V)}}return N(b.onComment)&&(b.onComment=K(b,b.onComment)),b}function K(r,b){return function(L,z,V,fe,ve,we){var Te={type:L?"Block":"Line",value:z,start:V,end:fe};r.locations&&(Te.loc=new Q(this,ve,we)),r.ranges&&(Te.range=[V,fe]),b.push(Te)}}var J={};function ne(r){return new RegExp("^(?:"+r.replace(/ /g,"|")+")$")}var te=function(b,L,z){this.options=b=le(b),this.sourceFile=b.sourceFile,this.keywords=ne(f[b.ecmaVersion>=6?6:5]);var V="";if(!b.allowReserved){for(var fe=b.ecmaVersion;!(V=s[fe]);fe--);b.sourceType==="module"&&(V+=" await")}this.reservedWords=ne(V);var ve=(V?V+" ":"")+s.strict;this.reservedWordsStrict=ne(ve),this.reservedWordsStrictBind=ne(ve+" "+s.strictBind),this.input=String(L),this.containsEsc=!1,this.loadPlugins(b.plugins),z?(this.pos=z,this.lineStart=this.input.lastIndexOf(`
`,z-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Y).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=x.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=b.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],this.pos===0&&b.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};te.prototype.isKeyword=function(b){return this.keywords.test(b)},te.prototype.isReservedWord=function(b){return this.reservedWords.test(b)},te.prototype.extend=function(b,L){this[b]=L(this[b])},te.prototype.loadPlugins=function(b){var L=this;for(var z in b){var V=J[z];if(!V)throw new Error("Plugin '"+z+"' not found");V(L,b[z])}},te.prototype.parse=function(){var b=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(b)};var de=te.prototype,_e=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;de.strictDirective=function(r){for(var b=this;;){ue.lastIndex=r,r+=ue.exec(b.input)[0].length;var L=_e.exec(b.input.slice(r));if(!L)return!1;if((L[1]||L[2])==="use strict")return!0;r+=L[0].length}},de.eat=function(r){return this.type===r?(this.next(),!0):!1},de.isContextual=function(r){return this.type===x.name&&this.value===r&&!this.containsEsc},de.eatContextual=function(r){return this.isContextual(r)?(this.next(),!0):!1},de.expectContextual=function(r){this.eatContextual(r)||this.unexpected()},de.canInsertSemicolon=function(){return this.type===x.eof||this.type===x.braceR||Y.test(this.input.slice(this.lastTokEnd,this.start))},de.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},de.semicolon=function(){!this.eat(x.semi)&&!this.insertSemicolon()&&this.unexpected()},de.afterTrailingComma=function(r,b){if(this.type===r)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),b||this.next(),!0},de.expect=function(r){this.eat(r)||this.unexpected()},de.unexpected=function(r){this.raise(r??this.start,"Unexpected token")};function ye(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}de.checkPatternErrors=function(r,b){if(r){r.trailingComma>-1&&this.raiseRecoverable(r.trailingComma,"Comma is not permitted after the rest element");var L=b?r.parenthesizedAssign:r.parenthesizedBind;L>-1&&this.raiseRecoverable(L,"Parenthesized pattern")}},de.checkExpressionErrors=function(r,b){if(!r)return!1;var L=r.shorthandAssign,z=r.doubleProto;if(!b)return L>=0||z>=0;L>=0&&this.raise(L,"Shorthand property assignments are valid only in destructuring patterns"),z>=0&&this.raiseRecoverable(z,"Redefinition of __proto__ property")},de.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},de.isSimpleAssignTarget=function(r){return r.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(r.expression):r.type==="Identifier"||r.type==="MemberExpression"};var he=te.prototype;he.parseTopLevel=function(r){var b=this,L={};for(r.body||(r.body=[]);this.type!==x.eof;){var z=b.parseStatement(!0,!0,L);r.body.push(z)}return this.adaptDirectivePrologue(r.body),this.next(),this.options.ecmaVersion>=6&&(r.sourceType=this.options.sourceType),this.finishNode(r,"Program")};var ge={kind:"loop"},M={kind:"switch"};he.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ue.lastIndex=this.pos;var r=ue.exec(this.input),b=this.pos+r[0].length,L=this.input.charCodeAt(b);if(L===91||L===123)return!0;if(O(L,!0)){for(var z=b+1;P(this.input.charCodeAt(z),!0);)++z;var V=this.input.slice(b,z);if(!l.test(V))return!0}return!1},he.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ue.lastIndex=this.pos;var r=ue.exec(this.input),b=this.pos+r[0].length;return!Y.test(this.input.slice(this.pos,b))&&this.input.slice(b,b+8)==="function"&&(b+8===this.input.length||!P(this.input.charAt(b+8)))},he.parseStatement=function(r,b,L){var z=this.type,V=this.startNode(),fe;switch(this.isLet()&&(z=x._var,fe="let"),z){case x._break:case x._continue:return this.parseBreakContinueStatement(V,z.keyword);case x._debugger:return this.parseDebuggerStatement(V);case x._do:return this.parseDoStatement(V);case x._for:return this.parseForStatement(V);case x._function:return!r&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(V,!1);case x._class:return r||this.unexpected(),this.parseClass(V,!0);case x._if:return this.parseIfStatement(V);case x._return:return this.parseReturnStatement(V);case x._switch:return this.parseSwitchStatement(V);case x._throw:return this.parseThrowStatement(V);case x._try:return this.parseTryStatement(V);case x._const:case x._var:return fe=fe||this.value,!r&&fe!=="var"&&this.unexpected(),this.parseVarStatement(V,fe);case x._while:return this.parseWhileStatement(V);case x._with:return this.parseWithStatement(V);case x.braceL:return this.parseBlock();case x.semi:return this.parseEmptyStatement(V);case x._export:case x._import:return this.options.allowImportExportEverywhere||(b||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),z===x._import?this.parseImport(V):this.parseExport(V,L);default:if(this.isAsyncFunction())return r||this.unexpected(),this.next(),this.parseFunctionStatement(V,!0);var ve=this.value,we=this.parseExpression();return z===x.name&&we.type==="Identifier"&&this.eat(x.colon)?this.parseLabeledStatement(V,ve,we):this.parseExpressionStatement(V,we)}},he.parseBreakContinueStatement=function(r,b){var L=this,z=b==="break";this.next(),this.eat(x.semi)||this.insertSemicolon()?r.label=null:this.type!==x.name?this.unexpected():(r.label=this.parseIdent(),this.semicolon());for(var V=0;V<this.labels.length;++V){var fe=L.labels[V];if((r.label==null||fe.name===r.label.name)&&(fe.kind!=null&&(z||fe.kind==="loop")||r.label&&z))break}return V===this.labels.length&&this.raise(r.start,"Unsyntactic "+b),this.finishNode(r,z?"BreakStatement":"ContinueStatement")},he.parseDebuggerStatement=function(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")},he.parseDoStatement=function(r){return this.next(),this.labels.push(ge),r.body=this.parseStatement(!1),this.labels.pop(),this.expect(x._while),r.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(x.semi):this.semicolon(),this.finishNode(r,"DoWhileStatement")},he.parseForStatement=function(r){this.next();var b=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ge),this.enterLexicalScope(),this.expect(x.parenL),this.type===x.semi)return b>-1&&this.unexpected(b),this.parseFor(r,null);var L=this.isLet();if(this.type===x._var||this.type===x._const||L){var z=this.startNode(),V=L?"let":this.value;return this.next(),this.parseVar(z,!0,V),this.finishNode(z,"VariableDeclaration"),(this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&z.declarations.length===1&&!(V!=="var"&&z.declarations[0].init)?(this.options.ecmaVersion>=9&&(this.type===x._in?b>-1&&this.unexpected(b):r.await=b>-1),this.parseForIn(r,z)):(b>-1&&this.unexpected(b),this.parseFor(r,z))}var fe=new ye,ve=this.parseExpression(!0,fe);return this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===x._in?b>-1&&this.unexpected(b):r.await=b>-1),this.toAssignable(ve,!1,fe),this.checkLVal(ve),this.parseForIn(r,ve)):(this.checkExpressionErrors(fe,!0),b>-1&&this.unexpected(b),this.parseFor(r,ve))},he.parseFunctionStatement=function(r,b){return this.next(),this.parseFunction(r,!0,!1,b)},he.parseIfStatement=function(r){return this.next(),r.test=this.parseParenExpression(),r.consequent=this.parseStatement(!this.strict&&this.type===x._function),r.alternate=this.eat(x._else)?this.parseStatement(!this.strict&&this.type===x._function):null,this.finishNode(r,"IfStatement")},he.parseReturnStatement=function(r){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(x.semi)||this.insertSemicolon()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")},he.parseSwitchStatement=function(r){var b=this;this.next(),r.discriminant=this.parseParenExpression(),r.cases=[],this.expect(x.braceL),this.labels.push(M),this.enterLexicalScope();for(var L,z=!1;this.type!==x.braceR;)if(b.type===x._case||b.type===x._default){var V=b.type===x._case;L&&b.finishNode(L,"SwitchCase"),r.cases.push(L=b.startNode()),L.consequent=[],b.next(),V?L.test=b.parseExpression():(z&&b.raiseRecoverable(b.lastTokStart,"Multiple default clauses"),z=!0,L.test=null),b.expect(x.colon)}else L||b.unexpected(),L.consequent.push(b.parseStatement(!0));return this.exitLexicalScope(),L&&this.finishNode(L,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(r,"SwitchStatement")},he.parseThrowStatement=function(r){return this.next(),Y.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")};var A=[];he.parseTryStatement=function(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.type===x._catch){var b=this.startNode();this.next(),this.eat(x.parenL)?(b.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(b.param,"let"),this.expect(x.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),b.param=null,this.enterLexicalScope()),b.body=this.parseBlock(!1),this.exitLexicalScope(),r.handler=this.finishNode(b,"CatchClause")}return r.finalizer=this.eat(x._finally)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(r.start,"Missing catch or finally clause"),this.finishNode(r,"TryStatement")},he.parseVarStatement=function(r,b){return this.next(),this.parseVar(r,!1,b),this.semicolon(),this.finishNode(r,"VariableDeclaration")},he.parseWhileStatement=function(r){return this.next(),r.test=this.parseParenExpression(),this.labels.push(ge),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,"WhileStatement")},he.parseWithStatement=function(r){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),r.object=this.parseParenExpression(),r.body=this.parseStatement(!1),this.finishNode(r,"WithStatement")},he.parseEmptyStatement=function(r){return this.next(),this.finishNode(r,"EmptyStatement")},he.parseLabeledStatement=function(r,b,L){for(var z=this,V=0,fe=z.labels;V<fe.length;V+=1){var ve=fe[V];ve.name===b&&z.raise(L.start,"Label '"+b+"' is already declared")}for(var we=this.type.isLoop?"loop":this.type===x._switch?"switch":null,Te=this.labels.length-1;Te>=0;Te--){var Re=z.labels[Te];if(Re.statementStart===r.start)Re.statementStart=z.start,Re.kind=we;else break}return this.labels.push({name:b,kind:we,statementStart:this.start}),r.body=this.parseStatement(!0),(r.body.type==="ClassDeclaration"||r.body.type==="VariableDeclaration"&&r.body.kind!=="var"||r.body.type==="FunctionDeclaration"&&(this.strict||r.body.generator||r.body.async))&&this.raiseRecoverable(r.body.start,"Invalid labeled declaration"),this.labels.pop(),r.label=L,this.finishNode(r,"LabeledStatement")},he.parseExpressionStatement=function(r,b){return r.expression=b,this.semicolon(),this.finishNode(r,"ExpressionStatement")},he.parseBlock=function(r){var b=this;r===void 0&&(r=!0);var L=this.startNode();for(L.body=[],this.expect(x.braceL),r&&this.enterLexicalScope();!this.eat(x.braceR);){var z=b.parseStatement(!0);L.body.push(z)}return r&&this.exitLexicalScope(),this.finishNode(L,"BlockStatement")},he.parseFor=function(r,b){return r.init=b,this.expect(x.semi),r.test=this.type===x.semi?null:this.parseExpression(),this.expect(x.semi),r.update=this.type===x.parenR?null:this.parseExpression(),this.expect(x.parenR),this.exitLexicalScope(),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,"ForStatement")},he.parseForIn=function(r,b){var L=this.type===x._in?"ForInStatement":"ForOfStatement";return this.next(),L==="ForInStatement"&&(b.type==="AssignmentPattern"||b.type==="VariableDeclaration"&&b.declarations[0].init!=null&&(this.strict||b.declarations[0].id.type!=="Identifier"))&&this.raise(b.start,"Invalid assignment in for-in loop head"),r.left=b,r.right=L==="ForInStatement"?this.parseExpression():this.parseMaybeAssign(),this.expect(x.parenR),this.exitLexicalScope(),r.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(r,L)},he.parseVar=function(r,b,L){var z=this;for(r.declarations=[],r.kind=L;;){var V=z.startNode();if(z.parseVarId(V,L),z.eat(x.eq)?V.init=z.parseMaybeAssign(b):L==="const"&&!(z.type===x._in||z.options.ecmaVersion>=6&&z.isContextual("of"))?z.unexpected():V.id.type!=="Identifier"&&!(b&&(z.type===x._in||z.isContextual("of")))?z.raise(z.lastTokEnd,"Complex binding patterns require an initialization value"):V.init=null,r.declarations.push(z.finishNode(V,"VariableDeclarator")),!z.eat(x.comma))break}return r},he.parseVarId=function(r,b){r.id=this.parseBindingAtom(b),this.checkLVal(r.id,b,!1)},he.parseFunction=function(r,b,L,z){this.initFunction(r),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!z)&&(r.generator=this.eat(x.star)),this.options.ecmaVersion>=8&&(r.async=!!z),b&&(r.id=b==="nullableID"&&this.type!==x.name?null:this.parseIdent(),r.id&&this.checkLVal(r.id,this.inModule&&!this.inFunction?"let":"var"));var V=this.inGenerator,fe=this.inAsync,ve=this.yieldPos,we=this.awaitPos,Te=this.inFunction;return this.inGenerator=r.generator,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),b||(r.id=this.type===x.name?this.parseIdent():null),this.parseFunctionParams(r),this.parseFunctionBody(r,L),this.inGenerator=V,this.inAsync=fe,this.yieldPos=ve,this.awaitPos=we,this.inFunction=Te,this.finishNode(r,b?"FunctionDeclaration":"FunctionExpression")},he.parseFunctionParams=function(r){this.expect(x.parenL),r.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},he.parseClass=function(r,b){var L=this;this.next(),this.parseClassId(r,b),this.parseClassSuper(r);var z=this.startNode(),V=!1;for(z.body=[],this.expect(x.braceL);!this.eat(x.braceR);){var fe=L.parseClassMember(z);fe&&fe.type==="MethodDefinition"&&fe.kind==="constructor"&&(V&&L.raise(fe.start,"Duplicate constructor in the same class"),V=!0)}return r.body=this.finishNode(z,"ClassBody"),this.finishNode(r,b?"ClassDeclaration":"ClassExpression")},he.parseClassMember=function(r){var b=this;if(this.eat(x.semi))return null;var L=this.startNode(),z=function(we,Te){Te===void 0&&(Te=!1);var Re=b.start,Me=b.startLoc;return b.eatContextual(we)?b.type!==x.parenL&&(!Te||!b.canInsertSemicolon())?!0:(L.key&&b.unexpected(),L.computed=!1,L.key=b.startNodeAt(Re,Me),L.key.name=we,b.finishNode(L.key,"Identifier"),!1):!1};L.kind="method",L.static=z("static");var V=this.eat(x.star),fe=!1;V||(this.options.ecmaVersion>=8&&z("async",!0)?(fe=!0,V=this.options.ecmaVersion>=9&&this.eat(x.star)):z("get")?L.kind="get":z("set")&&(L.kind="set")),L.key||this.parsePropertyName(L);var ve=L.key;return!L.computed&&!L.static&&(ve.type==="Identifier"&&ve.name==="constructor"||ve.type==="Literal"&&ve.value==="constructor")?(L.kind!=="method"&&this.raise(ve.start,"Constructor can't have get/set modifier"),V&&this.raise(ve.start,"Constructor can't be a generator"),fe&&this.raise(ve.start,"Constructor can't be an async method"),L.kind="constructor"):L.static&&ve.type==="Identifier"&&ve.name==="prototype"&&this.raise(ve.start,"Classes may not have a static property named prototype"),this.parseClassMethod(r,L,V,fe),L.kind==="get"&&L.value.params.length!==0&&this.raiseRecoverable(L.value.start,"getter should have no params"),L.kind==="set"&&L.value.params.length!==1&&this.raiseRecoverable(L.value.start,"setter should have exactly one param"),L.kind==="set"&&L.value.params[0].type==="RestElement"&&this.raiseRecoverable(L.value.params[0].start,"Setter cannot use rest params"),L},he.parseClassMethod=function(r,b,L,z){b.value=this.parseMethod(L,z),r.body.push(this.finishNode(b,"MethodDefinition"))},he.parseClassId=function(r,b){r.id=this.type===x.name?this.parseIdent():b===!0?this.unexpected():null},he.parseClassSuper=function(r){r.superClass=this.eat(x._extends)?this.parseExprSubscripts():null},he.parseExport=function(r,b){var L=this;if(this.next(),this.eat(x.star))return this.expectContextual("from"),this.type!==x.string&&this.unexpected(),r.source=this.parseExprAtom(),this.semicolon(),this.finishNode(r,"ExportAllDeclaration");if(this.eat(x._default)){this.checkExport(b,"default",this.lastTokStart);var z;if(this.type===x._function||(z=this.isAsyncFunction())){var V=this.startNode();this.next(),z&&this.next(),r.declaration=this.parseFunction(V,"nullableID",!1,z)}else if(this.type===x._class){var fe=this.startNode();r.declaration=this.parseClass(fe,"nullableID")}else r.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(r,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())r.declaration=this.parseStatement(!0),r.declaration.type==="VariableDeclaration"?this.checkVariableExport(b,r.declaration.declarations):this.checkExport(b,r.declaration.id.name,r.declaration.id.start),r.specifiers=[],r.source=null;else{if(r.declaration=null,r.specifiers=this.parseExportSpecifiers(b),this.eatContextual("from"))this.type!==x.string&&this.unexpected(),r.source=this.parseExprAtom();else{for(var ve=0,we=r.specifiers;ve<we.length;ve+=1){var Te=we[ve];L.checkUnreserved(Te.local)}r.source=null}this.semicolon()}return this.finishNode(r,"ExportNamedDeclaration")},he.checkExport=function(r,b,L){r&&(H(r,b)&&this.raiseRecoverable(L,"Duplicate export '"+b+"'"),r[b]=!0)},he.checkPatternExport=function(r,b){var L=this,z=b.type;if(z==="Identifier")this.checkExport(r,b.name,b.start);else if(z==="ObjectPattern")for(var V=0,fe=b.properties;V<fe.length;V+=1){var ve=fe[V];L.checkPatternExport(r,ve)}else if(z==="ArrayPattern")for(var we=0,Te=b.elements;we<Te.length;we+=1){var Re=Te[we];Re&&L.checkPatternExport(r,Re)}else z==="Property"?this.checkPatternExport(r,b.value):z==="AssignmentPattern"?this.checkPatternExport(r,b.left):z==="RestElement"?this.checkPatternExport(r,b.argument):z==="ParenthesizedExpression"&&this.checkPatternExport(r,b.expression)},he.checkVariableExport=function(r,b){var L=this;if(r)for(var z=0,V=b;z<V.length;z+=1){var fe=V[z];L.checkPatternExport(r,fe.id)}},he.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},he.parseExportSpecifiers=function(r){var b=this,L=[],z=!0;for(this.expect(x.braceL);!this.eat(x.braceR);){if(z)z=!1;else if(b.expect(x.comma),b.afterTrailingComma(x.braceR))break;var V=b.startNode();V.local=b.parseIdent(!0),V.exported=b.eatContextual("as")?b.parseIdent(!0):V.local,b.checkExport(r,V.exported.name,V.exported.start),L.push(b.finishNode(V,"ExportSpecifier"))}return L},he.parseImport=function(r){return this.next(),this.type===x.string?(r.specifiers=A,r.source=this.parseExprAtom()):(r.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),r.source=this.type===x.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(r,"ImportDeclaration")},he.parseImportSpecifiers=function(){var r=this,b=[],L=!0;if(this.type===x.name){var z=this.startNode();if(z.local=this.parseIdent(),this.checkLVal(z.local,"let"),b.push(this.finishNode(z,"ImportDefaultSpecifier")),!this.eat(x.comma))return b}if(this.type===x.star){var V=this.startNode();return this.next(),this.expectContextual("as"),V.local=this.parseIdent(),this.checkLVal(V.local,"let"),b.push(this.finishNode(V,"ImportNamespaceSpecifier")),b}for(this.expect(x.braceL);!this.eat(x.braceR);){if(L)L=!1;else if(r.expect(x.comma),r.afterTrailingComma(x.braceR))break;var fe=r.startNode();fe.imported=r.parseIdent(!0),r.eatContextual("as")?fe.local=r.parseIdent():(r.checkUnreserved(fe.imported),fe.local=fe.imported),r.checkLVal(fe.local,"let"),b.push(r.finishNode(fe,"ImportSpecifier"))}return b},he.adaptDirectivePrologue=function(r){for(var b=0;b<r.length&&this.isDirectiveCandidate(r[b]);++b)r[b].directive=r[b].expression.raw.slice(1,-1)},he.isDirectiveCandidate=function(r){return r.type==="ExpressionStatement"&&r.expression.type==="Literal"&&typeof r.expression.value=="string"&&(this.input[r.start]==='"'||this.input[r.start]==="'")};var B=te.prototype;B.toAssignable=function(r,b,L){var z=this;if(this.options.ecmaVersion>=6&&r)switch(r.type){case"Identifier":this.inAsync&&r.name==="await"&&this.raise(r.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern",L&&this.checkPatternErrors(L,!0);for(var V=0,fe=r.properties;V<fe.length;V+=1){var ve=fe[V];z.toAssignable(ve,b),ve.type==="RestElement"&&(ve.argument.type==="ArrayPattern"||ve.argument.type==="ObjectPattern")&&z.raise(ve.argument.start,"Unexpected token")}break;case"Property":r.kind!=="init"&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,b);break;case"ArrayExpression":r.type="ArrayPattern",L&&this.checkPatternErrors(L,!0),this.toAssignableList(r.elements,b);break;case"SpreadElement":r.type="RestElement",this.toAssignable(r.argument,b),r.argument.type==="AssignmentPattern"&&this.raise(r.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":r.operator!=="="&&this.raise(r.left.end,"Only '=' operator can be used for specifying default value."),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,b);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(r.expression,b);break;case"MemberExpression":if(!b)break;default:this.raise(r.start,"Assigning to rvalue")}else L&&this.checkPatternErrors(L,!0);return r},B.toAssignableList=function(r,b){for(var L=this,z=r.length,V=0;V<z;V++){var fe=r[V];fe&&L.toAssignable(fe,b)}if(z){var ve=r[z-1];this.options.ecmaVersion===6&&b&&ve&&ve.type==="RestElement"&&ve.argument.type!=="Identifier"&&this.unexpected(ve.argument.start)}return r},B.parseSpread=function(r){var b=this.startNode();return this.next(),b.argument=this.parseMaybeAssign(!1,r),this.finishNode(b,"SpreadElement")},B.parseRestBinding=function(){var r=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==x.name&&this.unexpected(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")},B.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case x.bracketL:var r=this.startNode();return this.next(),r.elements=this.parseBindingList(x.bracketR,!0,!0),this.finishNode(r,"ArrayPattern");case x.braceL:return this.parseObj(!0)}return this.parseIdent()},B.parseBindingList=function(r,b,L){for(var z=this,V=[],fe=!0;!this.eat(r);)if(fe?fe=!1:z.expect(x.comma),b&&z.type===x.comma)V.push(null);else{if(L&&z.afterTrailingComma(r))break;if(z.type===x.ellipsis){var ve=z.parseRestBinding();z.parseBindingListItem(ve),V.push(ve),z.type===x.comma&&z.raise(z.start,"Comma is not permitted after the rest element"),z.expect(r);break}else{var we=z.parseMaybeDefault(z.start,z.startLoc);z.parseBindingListItem(we),V.push(we)}}return V},B.parseBindingListItem=function(r){return r},B.parseMaybeDefault=function(r,b,L){if(L=L||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(x.eq))return L;var z=this.startNodeAt(r,b);return z.left=L,z.right=this.parseMaybeAssign(),this.finishNode(z,"AssignmentPattern")},B.checkLVal=function(r,b,L){var z=this;switch(r.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(r.name)&&this.raiseRecoverable(r.start,(b?"Binding ":"Assigning to ")+r.name+" in strict mode"),L&&(H(L,r.name)&&this.raiseRecoverable(r.start,"Argument name clash"),L[r.name]=!0),b&&b!=="none"&&((b==="var"&&!this.canDeclareVarName(r.name)||b!=="var"&&!this.canDeclareLexicalName(r.name))&&this.raiseRecoverable(r.start,"Identifier '"+r.name+"' has already been declared"),b==="var"?this.declareVarName(r.name):this.declareLexicalName(r.name));break;case"MemberExpression":b&&this.raiseRecoverable(r.start,"Binding member expression");break;case"ObjectPattern":for(var V=0,fe=r.properties;V<fe.length;V+=1){var ve=fe[V];z.checkLVal(ve,b,L)}break;case"Property":this.checkLVal(r.value,b,L);break;case"ArrayPattern":for(var we=0,Te=r.elements;we<Te.length;we+=1){var Re=Te[we];Re&&z.checkLVal(Re,b,L)}break;case"AssignmentPattern":this.checkLVal(r.left,b,L);break;case"RestElement":this.checkLVal(r.argument,b,L);break;case"ParenthesizedExpression":this.checkLVal(r.expression,b,L);break;default:this.raise(r.start,(b?"Binding":"Assigning to")+" rvalue")}};var $=te.prototype;$.checkPropClash=function(r,b,L){if(!(this.options.ecmaVersion>=9&&r.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(r.computed||r.method||r.shorthand))){var z=r.key,V;switch(z.type){case"Identifier":V=z.name;break;case"Literal":V=String(z.value);break;default:return}var fe=r.kind;if(this.options.ecmaVersion>=6){V==="__proto__"&&fe==="init"&&(b.proto&&(L&&L.doubleProto<0?L.doubleProto=z.start:this.raiseRecoverable(z.start,"Redefinition of __proto__ property")),b.proto=!0);return}V="$"+V;var ve=b[V];if(ve){var we;fe==="init"?we=this.strict&&ve.init||ve.get||ve.set:we=ve.init||ve[fe],we&&this.raiseRecoverable(z.start,"Redefinition of property")}else ve=b[V]={init:!1,get:!1,set:!1};ve[fe]=!0}},$.parseExpression=function(r,b){var L=this,z=this.start,V=this.startLoc,fe=this.parseMaybeAssign(r,b);if(this.type===x.comma){var ve=this.startNodeAt(z,V);for(ve.expressions=[fe];this.eat(x.comma);)ve.expressions.push(L.parseMaybeAssign(r,b));return this.finishNode(ve,"SequenceExpression")}return fe},$.parseMaybeAssign=function(r,b,L){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var z=!1,V=-1,fe=-1;b?(V=b.parenthesizedAssign,fe=b.trailingComma,b.parenthesizedAssign=b.trailingComma=-1):(b=new ye,z=!0);var ve=this.start,we=this.startLoc;(this.type===x.parenL||this.type===x.name)&&(this.potentialArrowAt=this.start);var Te=this.parseMaybeConditional(r,b);if(L&&(Te=L.call(this,Te,ve,we)),this.type.isAssign){var Re=this.startNodeAt(ve,we);return Re.operator=this.value,Re.left=this.type===x.eq?this.toAssignable(Te,!1,b):Te,z||ye.call(b),b.shorthandAssign=-1,this.checkLVal(Te),this.next(),Re.right=this.parseMaybeAssign(r),this.finishNode(Re,"AssignmentExpression")}else z&&this.checkExpressionErrors(b,!0);return V>-1&&(b.parenthesizedAssign=V),fe>-1&&(b.trailingComma=fe),Te},$.parseMaybeConditional=function(r,b){var L=this.start,z=this.startLoc,V=this.parseExprOps(r,b);if(this.checkExpressionErrors(b))return V;if(this.eat(x.question)){var fe=this.startNodeAt(L,z);return fe.test=V,fe.consequent=this.parseMaybeAssign(),this.expect(x.colon),fe.alternate=this.parseMaybeAssign(r),this.finishNode(fe,"ConditionalExpression")}return V},$.parseExprOps=function(r,b){var L=this.start,z=this.startLoc,V=this.parseMaybeUnary(b,!1);return this.checkExpressionErrors(b)||V.start===L&&V.type==="ArrowFunctionExpression"?V:this.parseExprOp(V,L,z,-1,r)},$.parseExprOp=function(r,b,L,z,V){var fe=this.type.binop;if(fe!=null&&(!V||this.type!==x._in)&&fe>z){var ve=this.type===x.logicalOR||this.type===x.logicalAND,we=this.value;this.next();var Te=this.start,Re=this.startLoc,Me=this.parseExprOp(this.parseMaybeUnary(null,!1),Te,Re,fe,V),Fe=this.buildBinary(b,L,r,Me,we,ve);return this.parseExprOp(Fe,b,L,z,V)}return r},$.buildBinary=function(r,b,L,z,V,fe){var ve=this.startNodeAt(r,b);return ve.left=L,ve.operator=V,ve.right=z,this.finishNode(ve,fe?"LogicalExpression":"BinaryExpression")},$.parseMaybeUnary=function(r,b){var L=this,z=this.start,V=this.startLoc,fe;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))fe=this.parseAwait(),b=!0;else if(this.type.prefix){var ve=this.startNode(),we=this.type===x.incDec;ve.operator=this.value,ve.prefix=!0,this.next(),ve.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(r,!0),we?this.checkLVal(ve.argument):this.strict&&ve.operator==="delete"&&ve.argument.type==="Identifier"?this.raiseRecoverable(ve.start,"Deleting local variable in strict mode"):b=!0,fe=this.finishNode(ve,we?"UpdateExpression":"UnaryExpression")}else{if(fe=this.parseExprSubscripts(r),this.checkExpressionErrors(r))return fe;for(;this.type.postfix&&!this.canInsertSemicolon();){var Te=L.startNodeAt(z,V);Te.operator=L.value,Te.prefix=!1,Te.argument=fe,L.checkLVal(fe),L.next(),fe=L.finishNode(Te,"UpdateExpression")}}return!b&&this.eat(x.starstar)?this.buildBinary(z,V,fe,this.parseMaybeUnary(null,!1),"**",!1):fe},$.parseExprSubscripts=function(r){var b=this.start,L=this.startLoc,z=this.parseExprAtom(r),V=z.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")";if(this.checkExpressionErrors(r)||V)return z;var fe=this.parseSubscripts(z,b,L);return r&&fe.type==="MemberExpression"&&(r.parenthesizedAssign>=fe.start&&(r.parenthesizedAssign=-1),r.parenthesizedBind>=fe.start&&(r.parenthesizedBind=-1)),fe},$.parseSubscripts=function(r,b,L,z){for(var V=this,fe=this.options.ecmaVersion>=8&&r.type==="Identifier"&&r.name==="async"&&this.lastTokEnd===r.end&&!this.canInsertSemicolon()&&this.input.slice(r.start,r.end)==="async",ve=void 0;;)if((ve=V.eat(x.bracketL))||V.eat(x.dot)){var we=V.startNodeAt(b,L);we.object=r,we.property=ve?V.parseExpression():V.parseIdent(!0),we.computed=!!ve,ve&&V.expect(x.bracketR),r=V.finishNode(we,"MemberExpression")}else if(!z&&V.eat(x.parenL)){var Te=new ye,Re=V.yieldPos,Me=V.awaitPos;V.yieldPos=0,V.awaitPos=0;var Fe=V.parseExprList(x.parenR,V.options.ecmaVersion>=8,!1,Te);if(fe&&!V.canInsertSemicolon()&&V.eat(x.arrow))return V.checkPatternErrors(Te,!1),V.checkYieldAwaitInDefaultParams(),V.yieldPos=Re,V.awaitPos=Me,V.parseArrowExpression(V.startNodeAt(b,L),Fe,!0);V.checkExpressionErrors(Te,!0),V.yieldPos=Re||V.yieldPos,V.awaitPos=Me||V.awaitPos;var Ue=V.startNodeAt(b,L);Ue.callee=r,Ue.arguments=Fe,r=V.finishNode(Ue,"CallExpression")}else if(V.type===x.backQuote){var De=V.startNodeAt(b,L);De.tag=r,De.quasi=V.parseTemplate({isTagged:!0}),r=V.finishNode(De,"TaggedTemplateExpression")}else return r},$.parseExprAtom=function(r){var b,L=this.potentialArrowAt===this.start;switch(this.type){case x._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),b=this.startNode(),this.next(),this.type!==x.dot&&this.type!==x.bracketL&&this.type!==x.parenL&&this.unexpected(),this.finishNode(b,"Super");case x._this:return b=this.startNode(),this.next(),this.finishNode(b,"ThisExpression");case x.name:var z=this.start,V=this.startLoc,fe=this.containsEsc,ve=this.parseIdent(this.type!==x.name);if(this.options.ecmaVersion>=8&&!fe&&ve.name==="async"&&!this.canInsertSemicolon()&&this.eat(x._function))return this.parseFunction(this.startNodeAt(z,V),!1,!1,!0);if(L&&!this.canInsertSemicolon()){if(this.eat(x.arrow))return this.parseArrowExpression(this.startNodeAt(z,V),[ve],!1);if(this.options.ecmaVersion>=8&&ve.name==="async"&&this.type===x.name&&!fe)return ve=this.parseIdent(),(this.canInsertSemicolon()||!this.eat(x.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(z,V),[ve],!0)}return ve;case x.regexp:var we=this.value;return b=this.parseLiteral(we.value),b.regex={pattern:we.pattern,flags:we.flags},b;case x.num:case x.string:return this.parseLiteral(this.value);case x._null:case x._true:case x._false:return b=this.startNode(),b.value=this.type===x._null?null:this.type===x._true,b.raw=this.type.keyword,this.next(),this.finishNode(b,"Literal");case x.parenL:var Te=this.start,Re=this.parseParenAndDistinguishExpression(L);return r&&(r.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Re)&&(r.parenthesizedAssign=Te),r.parenthesizedBind<0&&(r.parenthesizedBind=Te)),Re;case x.bracketL:return b=this.startNode(),this.next(),b.elements=this.parseExprList(x.bracketR,!0,!0,r),this.finishNode(b,"ArrayExpression");case x.braceL:return this.parseObj(!1,r);case x._function:return b=this.startNode(),this.next(),this.parseFunction(b,!1);case x._class:return this.parseClass(this.startNode(),!1);case x._new:return this.parseNew();case x.backQuote:return this.parseTemplate();default:this.unexpected()}},$.parseLiteral=function(r){var b=this.startNode();return b.value=r,b.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(b,"Literal")},$.parseParenExpression=function(){this.expect(x.parenL);var r=this.parseExpression();return this.expect(x.parenR),r},$.parseParenAndDistinguishExpression=function(r){var b=this,L=this.start,z=this.startLoc,V,fe=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var ve=this.start,we=this.startLoc,Te=[],Re=!0,Me=!1,Fe=new ye,Ue=this.yieldPos,De=this.awaitPos,We;for(this.yieldPos=0,this.awaitPos=0;this.type!==x.parenR;)if(Re?Re=!1:b.expect(x.comma),fe&&b.afterTrailingComma(x.parenR,!0)){Me=!0;break}else if(b.type===x.ellipsis){We=b.start,Te.push(b.parseParenItem(b.parseRestBinding())),b.type===x.comma&&b.raise(b.start,"Comma is not permitted after the rest element");break}else Te.push(b.parseMaybeAssign(!1,Fe,b.parseParenItem));var Qe=this.start,et=this.startLoc;if(this.expect(x.parenR),r&&!this.canInsertSemicolon()&&this.eat(x.arrow))return this.checkPatternErrors(Fe,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ue,this.awaitPos=De,this.parseParenArrowList(L,z,Te);(!Te.length||Me)&&this.unexpected(this.lastTokStart),We&&this.unexpected(We),this.checkExpressionErrors(Fe,!0),this.yieldPos=Ue||this.yieldPos,this.awaitPos=De||this.awaitPos,Te.length>1?(V=this.startNodeAt(ve,we),V.expressions=Te,this.finishNodeAt(V,"SequenceExpression",Qe,et)):V=Te[0]}else V=this.parseParenExpression();if(this.options.preserveParens){var Ke=this.startNodeAt(L,z);return Ke.expression=V,this.finishNode(Ke,"ParenthesizedExpression")}else return V},$.parseParenItem=function(r){return r},$.parseParenArrowList=function(r,b,L){return this.parseArrowExpression(this.startNodeAt(r,b),L)};var se=[];$.parseNew=function(){var r=this.startNode(),b=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(x.dot)){r.meta=b;var L=this.containsEsc;return r.property=this.parseIdent(!0),(r.property.name!=="target"||L)&&this.raiseRecoverable(r.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(r.start,"new.target can only be used in functions"),this.finishNode(r,"MetaProperty")}var z=this.start,V=this.startLoc;return r.callee=this.parseSubscripts(this.parseExprAtom(),z,V,!0),this.eat(x.parenL)?r.arguments=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1):r.arguments=se,this.finishNode(r,"NewExpression")},$.parseTemplateElement=function(r){var b=r.isTagged,L=this.startNode();return this.type===x.invalidTemplate?(b||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),L.value={raw:this.value,cooked:null}):L.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),L.tail=this.type===x.backQuote,this.finishNode(L,"TemplateElement")},$.parseTemplate=function(r){var b=this;r===void 0&&(r={});var L=r.isTagged;L===void 0&&(L=!1);var z=this.startNode();this.next(),z.expressions=[];var V=this.parseTemplateElement({isTagged:L});for(z.quasis=[V];!V.tail;)b.expect(x.dollarBraceL),z.expressions.push(b.parseExpression()),b.expect(x.braceR),z.quasis.push(V=b.parseTemplateElement({isTagged:L}));return this.next(),this.finishNode(z,"TemplateLiteral")},$.isAsyncProp=function(r){return!r.computed&&r.key.type==="Identifier"&&r.key.name==="async"&&(this.type===x.name||this.type===x.num||this.type===x.string||this.type===x.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===x.star)&&!Y.test(this.input.slice(this.lastTokEnd,this.start))},$.parseObj=function(r,b){var L=this,z=this.startNode(),V=!0,fe={};for(z.properties=[],this.next();!this.eat(x.braceR);){if(V)V=!1;else if(L.expect(x.comma),L.afterTrailingComma(x.braceR))break;var ve=L.parseProperty(r,b);r||L.checkPropClash(ve,fe,b),z.properties.push(ve)}return this.finishNode(z,r?"ObjectPattern":"ObjectExpression")},$.parseProperty=function(r,b){var L=this.startNode(),z,V,fe,ve;if(this.options.ecmaVersion>=9&&this.eat(x.ellipsis))return r?(L.argument=this.parseIdent(!1),this.type===x.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(L,"RestElement")):(this.type===x.parenL&&b&&(b.parenthesizedAssign<0&&(b.parenthesizedAssign=this.start),b.parenthesizedBind<0&&(b.parenthesizedBind=this.start)),L.argument=this.parseMaybeAssign(!1,b),this.type===x.comma&&b&&b.trailingComma<0&&(b.trailingComma=this.start),this.finishNode(L,"SpreadElement"));this.options.ecmaVersion>=6&&(L.method=!1,L.shorthand=!1,(r||b)&&(fe=this.start,ve=this.startLoc),r||(z=this.eat(x.star)));var we=this.containsEsc;return this.parsePropertyName(L),!r&&!we&&this.options.ecmaVersion>=8&&!z&&this.isAsyncProp(L)?(V=!0,z=this.options.ecmaVersion>=9&&this.eat(x.star),this.parsePropertyName(L,b)):V=!1,this.parsePropertyValue(L,r,z,V,fe,ve,b,we),this.finishNode(L,"Property")},$.parsePropertyValue=function(r,b,L,z,V,fe,ve,we){if((L||z)&&this.type===x.colon&&this.unexpected(),this.eat(x.colon))r.value=b?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,ve),r.kind="init";else if(this.options.ecmaVersion>=6&&this.type===x.parenL)b&&this.unexpected(),r.kind="init",r.method=!0,r.value=this.parseMethod(L,z);else if(!b&&!we&&this.options.ecmaVersion>=5&&!r.computed&&r.key.type==="Identifier"&&(r.key.name==="get"||r.key.name==="set")&&this.type!==x.comma&&this.type!==x.braceR){(L||z)&&this.unexpected(),r.kind=r.key.name,this.parsePropertyName(r),r.value=this.parseMethod(!1);var Te=r.kind==="get"?0:1;if(r.value.params.length!==Te){var Re=r.value.start;r.kind==="get"?this.raiseRecoverable(Re,"getter should have no params"):this.raiseRecoverable(Re,"setter should have exactly one param")}else r.kind==="set"&&r.value.params[0].type==="RestElement"&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!r.computed&&r.key.type==="Identifier"?(this.checkUnreserved(r.key),r.kind="init",b?r.value=this.parseMaybeDefault(V,fe,r.key):this.type===x.eq&&ve?(ve.shorthandAssign<0&&(ve.shorthandAssign=this.start),r.value=this.parseMaybeDefault(V,fe,r.key)):r.value=r.key,r.shorthand=!0):this.unexpected()},$.parsePropertyName=function(r){if(this.options.ecmaVersion>=6){if(this.eat(x.bracketL))return r.computed=!0,r.key=this.parseMaybeAssign(),this.expect(x.bracketR),r.key;r.computed=!1}return r.key=this.type===x.num||this.type===x.string?this.parseExprAtom():this.parseIdent(!0)},$.initFunction=function(r){r.id=null,this.options.ecmaVersion>=6&&(r.generator=!1,r.expression=!1),this.options.ecmaVersion>=8&&(r.async=!1)},$.parseMethod=function(r,b){var L=this.startNode(),z=this.inGenerator,V=this.inAsync,fe=this.yieldPos,ve=this.awaitPos,we=this.inFunction;return this.initFunction(L),this.options.ecmaVersion>=6&&(L.generator=r),this.options.ecmaVersion>=8&&(L.async=!!b),this.inGenerator=L.generator,this.inAsync=L.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(x.parenL),L.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(L,!1),this.inGenerator=z,this.inAsync=V,this.yieldPos=fe,this.awaitPos=ve,this.inFunction=we,this.finishNode(L,"FunctionExpression")},$.parseArrowExpression=function(r,b,L){var z=this.inGenerator,V=this.inAsync,fe=this.yieldPos,ve=this.awaitPos,we=this.inFunction;return this.enterFunctionScope(),this.initFunction(r),this.options.ecmaVersion>=8&&(r.async=!!L),this.inGenerator=!1,this.inAsync=r.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,r.params=this.toAssignableList(b,!0),this.parseFunctionBody(r,!0),this.inGenerator=z,this.inAsync=V,this.yieldPos=fe,this.awaitPos=ve,this.inFunction=we,this.finishNode(r,"ArrowFunctionExpression")},$.parseFunctionBody=function(r,b){var L=b&&this.type!==x.braceL,z=this.strict,V=!1;if(L)r.body=this.parseMaybeAssign(),r.expression=!0,this.checkParams(r,!1);else{var fe=this.options.ecmaVersion>=7&&!this.isSimpleParamList(r.params);(!z||fe)&&(V=this.strictDirective(this.end),V&&fe&&this.raiseRecoverable(r.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var ve=this.labels;this.labels=[],V&&(this.strict=!0),this.checkParams(r,!z&&!V&&!b&&this.isSimpleParamList(r.params)),r.body=this.parseBlock(!1),r.expression=!1,this.adaptDirectivePrologue(r.body.body),this.labels=ve}this.exitFunctionScope(),this.strict&&r.id&&this.checkLVal(r.id,"none"),this.strict=z},$.isSimpleParamList=function(r){for(var b=0,L=r;b<L.length;b+=1){var z=L[b];if(z.type!=="Identifier")return!1}return!0},$.checkParams=function(r,b){for(var L=this,z={},V=0,fe=r.params;V<fe.length;V+=1){var ve=fe[V];L.checkLVal(ve,"var",b?null:z)}},$.parseExprList=function(r,b,L,z){for(var V=this,fe=[],ve=!0;!this.eat(r);){if(ve)ve=!1;else if(V.expect(x.comma),b&&V.afterTrailingComma(r))break;var we=void 0;L&&V.type===x.comma?we=null:V.type===x.ellipsis?(we=V.parseSpread(z),z&&V.type===x.comma&&z.trailingComma<0&&(z.trailingComma=V.start)):we=V.parseMaybeAssign(!1,z),fe.push(we)}return fe},$.checkUnreserved=function(r){var b=r.start,L=r.end,z=r.name;if(this.inGenerator&&z==="yield"&&this.raiseRecoverable(b,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&z==="await"&&this.raiseRecoverable(b,"Can not use 'await' as identifier inside an async function"),this.isKeyword(z)&&this.raise(b,"Unexpected keyword '"+z+"'"),!(this.options.ecmaVersion<6&&this.input.slice(b,L).indexOf("\\")!==-1)){var V=this.strict?this.reservedWordsStrict:this.reservedWords;V.test(z)&&(!this.inAsync&&z==="await"&&this.raiseRecoverable(b,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(b,"The keyword '"+z+"' is reserved"))}},$.parseIdent=function(r,b){var L=this.startNode();return r&&this.options.allowReserved==="never"&&(r=!1),this.type===x.name?L.name=this.value:this.type.keyword?(L.name=this.type.keyword,(L.name==="class"||L.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(),this.finishNode(L,"Identifier"),r||this.checkUnreserved(L),L},$.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===x.semi||this.canInsertSemicolon()||this.type!==x.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(x.star),r.argument=this.parseMaybeAssign()),this.finishNode(r,"YieldExpression")},$.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0),this.finishNode(r,"AwaitExpression")};var ie=te.prototype;ie.raise=function(r,b){var L=W(this.input,r);b+=" ("+L.line+":"+L.column+")";var z=new SyntaxError(b);throw z.pos=r,z.loc=L,z.raisedAt=this.pos,z},ie.raiseRecoverable=ie.raise,ie.curPosition=function(){if(this.options.locations)return new X(this.curLine,this.pos-this.lineStart)};var pe=te.prototype,be=Object.assign||function(r){for(var b=[],L=arguments.length-1;L-- >0;)b[L]=arguments[L+1];for(var z=0,V=b;z<V.length;z+=1){var fe=V[z];for(var ve in fe)H(fe,ve)&&(r[ve]=fe[ve])}return r};pe.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})},pe.exitFunctionScope=function(){this.scopeStack.pop()},pe.enterLexicalScope=function(){var r=this.scopeStack[this.scopeStack.length-1],b={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(b),be(b.parentLexical,r.lexical,r.parentLexical)},pe.exitLexicalScope=function(){var r=this.scopeStack.pop(),b=this.scopeStack[this.scopeStack.length-1];be(b.childVar,r.var,r.childVar)},pe.canDeclareVarName=function(r){var b=this.scopeStack[this.scopeStack.length-1];return!H(b.lexical,r)&&!H(b.parentLexical,r)},pe.canDeclareLexicalName=function(r){var b=this.scopeStack[this.scopeStack.length-1];return!H(b.lexical,r)&&!H(b.var,r)&&!H(b.childVar,r)},pe.declareVarName=function(r){this.scopeStack[this.scopeStack.length-1].var[r]=!0},pe.declareLexicalName=function(r){this.scopeStack[this.scopeStack.length-1].lexical[r]=!0};var me=function(b,L,z){this.type="",this.start=L,this.end=0,b.options.locations&&(this.loc=new Q(b,z)),b.options.directSourceFile&&(this.sourceFile=b.options.directSourceFile),b.options.ranges&&(this.range=[L,0])},D=te.prototype;D.startNode=function(){return new me(this,this.start,this.startLoc)},D.startNodeAt=function(r,b){return new me(this,r,b)};function S(r,b,L,z){return r.type=b,r.end=L,this.options.locations&&(r.loc.end=z),this.options.ranges&&(r.range[1]=L),r}D.finishNode=function(r,b){return S.call(this,r,b,this.lastTokEnd,this.lastTokEndLoc)},D.finishNodeAt=function(r,b,L,z){return S.call(this,r,b,L,z)};var k=function(b,L,z,V,fe){this.token=b,this.isExpr=!!L,this.preserveSpace=!!z,this.override=V,this.generator=!!fe},G={b_stat:new k("{",!1),b_expr:new k("{",!0),b_tmpl:new k("${",!1),p_stat:new k("(",!1),p_expr:new k("(",!0),q_tmpl:new k("`",!0,!0,function(r){return r.tryReadTemplateToken()}),f_stat:new k("function",!1),f_expr:new k("function",!0),f_expr_gen:new k("function",!0,!1,null,!0),f_gen:new k("function",!1,!1,null,!0)},q=te.prototype;q.initialContext=function(){return[G.b_stat]},q.braceIsBlock=function(r){var b=this.curContext();return b===G.f_expr||b===G.f_stat?!0:r===x.colon&&(b===G.b_stat||b===G.b_expr)?!b.isExpr:r===x._return||r===x.name&&this.exprAllowed?Y.test(this.input.slice(this.lastTokEnd,this.start)):r===x._else||r===x.semi||r===x.eof||r===x.parenR||r===x.arrow?!0:r===x.braceL?b===G.b_stat:r===x._var||r===x.name?!1:!this.exprAllowed},q.inGeneratorContext=function(){for(var r=this,b=this.context.length-1;b>=1;b--){var L=r.context[b];if(L.token==="function")return L.generator}return!1},q.updateContext=function(r){var b,L=this.type;L.keyword&&r===x.dot?this.exprAllowed=!1:(b=L.updateContext)?b.call(this,r):this.exprAllowed=L.beforeExpr},x.parenR.updateContext=x.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var r=this.context.pop();r===G.b_stat&&this.curContext().token==="function"&&(r=this.context.pop()),this.exprAllowed=!r.isExpr},x.braceL.updateContext=function(r){this.context.push(this.braceIsBlock(r)?G.b_stat:G.b_expr),this.exprAllowed=!0},x.dollarBraceL.updateContext=function(){this.context.push(G.b_tmpl),this.exprAllowed=!0},x.parenL.updateContext=function(r){var b=r===x._if||r===x._for||r===x._with||r===x._while;this.context.push(b?G.p_stat:G.p_expr),this.exprAllowed=!0},x.incDec.updateContext=function(){},x._function.updateContext=x._class.updateContext=function(r){r.beforeExpr&&r!==x.semi&&r!==x._else&&!((r===x.colon||r===x.braceL)&&this.curContext()===G.b_stat)?this.context.push(G.f_expr):this.context.push(G.f_stat),this.exprAllowed=!1},x.backQuote.updateContext=function(){this.curContext()===G.q_tmpl?this.context.pop():this.context.push(G.q_tmpl),this.exprAllowed=!1},x.star.updateContext=function(r){if(r===x._function){var b=this.context.length-1;this.context[b]===G.f_expr?this.context[b]=G.f_expr_gen:this.context[b]=G.f_gen}this.exprAllowed=!0},x.name.updateContext=function(r){var b=!1;this.options.ecmaVersion>=6&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(b=!0),this.exprAllowed=b};var Z={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(Z.$LONE,Z.General_Category),Z.gc=Z.General_Category,Z.sc=Z.Script_Extensions=Z.scx=Z.Script;var ee=te.prototype,xe=function(b){this.parser=b,this.validFlags="gim"+(b.options.ecmaVersion>=6?"uy":"")+(b.options.ecmaVersion>=9?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};xe.prototype.reset=function(b,L,z){var V=z.indexOf("u")!==-1;this.start=b|0,this.source=L+"",this.flags=z,this.switchU=V&&this.parser.options.ecmaVersion>=6,this.switchN=V&&this.parser.options.ecmaVersion>=9},xe.prototype.raise=function(b){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+b)},xe.prototype.at=function(b){var L=this.source,z=L.length;if(b>=z)return-1;var V=L.charCodeAt(b);return!this.switchU||V<=55295||V>=57344||b+1>=z?V:(V<<10)+L.charCodeAt(b+1)-56613888},xe.prototype.nextIndex=function(b){var L=this.source,z=L.length;if(b>=z)return z;var V=L.charCodeAt(b);return!this.switchU||V<=55295||V>=57344||b+1>=z?b+1:b+2},xe.prototype.current=function(){return this.at(this.pos)},xe.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},xe.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},xe.prototype.eat=function(b){return this.current()===b?(this.advance(),!0):!1};function Ee(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}ee.validateRegExpFlags=function(r){for(var b=this,L=r.validFlags,z=r.flags,V=0;V<z.length;V++){var fe=z.charAt(V);L.indexOf(fe)===-1&&b.raise(r.start,"Invalid regular expression flag"),z.indexOf(fe,V+1)>-1&&b.raise(r.start,"Duplicate regular expression flag")}},ee.validateRegExpPattern=function(r){this.regexp_pattern(r),!r.switchN&&this.options.ecmaVersion>=9&&r.groupNames.length>0&&(r.switchN=!0,this.regexp_pattern(r))},ee.regexp_pattern=function(r){r.pos=0,r.lastIntValue=0,r.lastStringValue="",r.lastAssertionIsQuantifiable=!1,r.numCapturingParens=0,r.maxBackReference=0,r.groupNames.length=0,r.backReferenceNames.length=0,this.regexp_disjunction(r),r.pos!==r.source.length&&(r.eat(41)&&r.raise("Unmatched ')'"),(r.eat(93)||r.eat(125))&&r.raise("Lone quantifier brackets")),r.maxBackReference>r.numCapturingParens&&r.raise("Invalid escape");for(var b=0,L=r.backReferenceNames;b<L.length;b+=1){var z=L[b];r.groupNames.indexOf(z)===-1&&r.raise("Invalid named capture referenced")}},ee.regexp_disjunction=function(r){var b=this;for(this.regexp_alternative(r);r.eat(124);)b.regexp_alternative(r);this.regexp_eatQuantifier(r,!0)&&r.raise("Nothing to repeat"),r.eat(123)&&r.raise("Lone quantifier brackets")},ee.regexp_alternative=function(r){for(;r.pos<r.source.length&&this.regexp_eatTerm(r););},ee.regexp_eatTerm=function(r){return this.regexp_eatAssertion(r)?(r.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(r)&&r.switchU&&r.raise("Invalid quantifier"),!0):(r.switchU?this.regexp_eatAtom(r):this.regexp_eatExtendedAtom(r))?(this.regexp_eatQuantifier(r),!0):!1},ee.regexp_eatAssertion=function(r){var b=r.pos;if(r.lastAssertionIsQuantifiable=!1,r.eat(94)||r.eat(36))return!0;if(r.eat(92)){if(r.eat(66)||r.eat(98))return!0;r.pos=b}if(r.eat(40)&&r.eat(63)){var L=!1;if(this.options.ecmaVersion>=9&&(L=r.eat(60)),r.eat(61)||r.eat(33))return this.regexp_disjunction(r),r.eat(41)||r.raise("Unterminated group"),r.lastAssertionIsQuantifiable=!L,!0}return r.pos=b,!1},ee.regexp_eatQuantifier=function(r,b){return b===void 0&&(b=!1),this.regexp_eatQuantifierPrefix(r,b)?(r.eat(63),!0):!1},ee.regexp_eatQuantifierPrefix=function(r,b){return r.eat(42)||r.eat(43)||r.eat(63)||this.regexp_eatBracedQuantifier(r,b)},ee.regexp_eatBracedQuantifier=function(r,b){var L=r.pos;if(r.eat(123)){var z=0,V=-1;if(this.regexp_eatDecimalDigits(r)&&(z=r.lastIntValue,r.eat(44)&&this.regexp_eatDecimalDigits(r)&&(V=r.lastIntValue),r.eat(125)))return V!==-1&&V<z&&!b&&r.raise("numbers out of order in {} quantifier"),!0;r.switchU&&!b&&r.raise("Incomplete quantifier"),r.pos=L}return!1},ee.regexp_eatAtom=function(r){return this.regexp_eatPatternCharacters(r)||r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)},ee.regexp_eatReverseSolidusAtomEscape=function(r){var b=r.pos;if(r.eat(92)){if(this.regexp_eatAtomEscape(r))return!0;r.pos=b}return!1},ee.regexp_eatUncapturingGroup=function(r){var b=r.pos;if(r.eat(40)){if(r.eat(63)&&r.eat(58)){if(this.regexp_disjunction(r),r.eat(41))return!0;r.raise("Unterminated group")}r.pos=b}return!1},ee.regexp_eatCapturingGroup=function(r){if(r.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(r):r.current()===63&&r.raise("Invalid group"),this.regexp_disjunction(r),r.eat(41))return r.numCapturingParens+=1,!0;r.raise("Unterminated group")}return!1},ee.regexp_eatExtendedAtom=function(r){return r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)||this.regexp_eatInvalidBracedQuantifier(r)||this.regexp_eatExtendedPatternCharacter(r)},ee.regexp_eatInvalidBracedQuantifier=function(r){return this.regexp_eatBracedQuantifier(r,!0)&&r.raise("Nothing to repeat"),!1},ee.regexp_eatSyntaxCharacter=function(r){var b=r.current();return Se(b)?(r.lastIntValue=b,r.advance(),!0):!1};function Se(r){return r===36||r>=40&&r<=43||r===46||r===63||r>=91&&r<=94||r>=123&&r<=125}ee.regexp_eatPatternCharacters=function(r){for(var b=r.pos,L=0;(L=r.current())!==-1&&!Se(L);)r.advance();return r.pos!==b},ee.regexp_eatExtendedPatternCharacter=function(r){var b=r.current();return b!==-1&&b!==36&&!(b>=40&&b<=43)&&b!==46&&b!==63&&b!==91&&b!==94&&b!==124?(r.advance(),!0):!1},ee.regexp_groupSpecifier=function(r){if(r.eat(63)){if(this.regexp_eatGroupName(r)){r.groupNames.indexOf(r.lastStringValue)!==-1&&r.raise("Duplicate capture group name"),r.groupNames.push(r.lastStringValue);return}r.raise("Invalid group")}},ee.regexp_eatGroupName=function(r){if(r.lastStringValue="",r.eat(60)){if(this.regexp_eatRegExpIdentifierName(r)&&r.eat(62))return!0;r.raise("Invalid capture group name")}return!1},ee.regexp_eatRegExpIdentifierName=function(r){if(r.lastStringValue="",this.regexp_eatRegExpIdentifierStart(r)){for(r.lastStringValue+=Ee(r.lastIntValue);this.regexp_eatRegExpIdentifierPart(r);)r.lastStringValue+=Ee(r.lastIntValue);return!0}return!1},ee.regexp_eatRegExpIdentifierStart=function(r){var b=r.pos,L=r.current();return r.advance(),L===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r)&&(L=r.lastIntValue),ke(L)?(r.lastIntValue=L,!0):(r.pos=b,!1)};function ke(r){return O(r,!0)||r===36||r===95}ee.regexp_eatRegExpIdentifierPart=function(r){var b=r.pos,L=r.current();return r.advance(),L===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r)&&(L=r.lastIntValue),Ie(L)?(r.lastIntValue=L,!0):(r.pos=b,!1)};function Ie(r){return P(r,!0)||r===36||r===95||r===8204||r===8205}ee.regexp_eatAtomEscape=function(r){return this.regexp_eatBackReference(r)||this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)||r.switchN&&this.regexp_eatKGroupName(r)?!0:(r.switchU&&(r.current()===99&&r.raise("Invalid unicode escape"),r.raise("Invalid escape")),!1)},ee.regexp_eatBackReference=function(r){var b=r.pos;if(this.regexp_eatDecimalEscape(r)){var L=r.lastIntValue;if(r.switchU)return L>r.maxBackReference&&(r.maxBackReference=L),!0;if(L<=r.numCapturingParens)return!0;r.pos=b}return!1},ee.regexp_eatKGroupName=function(r){if(r.eat(107)){if(this.regexp_eatGroupName(r))return r.backReferenceNames.push(r.lastStringValue),!0;r.raise("Invalid named reference")}return!1},ee.regexp_eatCharacterEscape=function(r){return this.regexp_eatControlEscape(r)||this.regexp_eatCControlLetter(r)||this.regexp_eatZero(r)||this.regexp_eatHexEscapeSequence(r)||this.regexp_eatRegExpUnicodeEscapeSequence(r)||!r.switchU&&this.regexp_eatLegacyOctalEscapeSequence(r)||this.regexp_eatIdentityEscape(r)},ee.regexp_eatCControlLetter=function(r){var b=r.pos;if(r.eat(99)){if(this.regexp_eatControlLetter(r))return!0;r.pos=b}return!1},ee.regexp_eatZero=function(r){return r.current()===48&&!Ne(r.lookahead())?(r.lastIntValue=0,r.advance(),!0):!1},ee.regexp_eatControlEscape=function(r){var b=r.current();return b===116?(r.lastIntValue=9,r.advance(),!0):b===110?(r.lastIntValue=10,r.advance(),!0):b===118?(r.lastIntValue=11,r.advance(),!0):b===102?(r.lastIntValue=12,r.advance(),!0):b===114?(r.lastIntValue=13,r.advance(),!0):!1},ee.regexp_eatControlLetter=function(r){var b=r.current();return Ce(b)?(r.lastIntValue=b%32,r.advance(),!0):!1};function Ce(r){return r>=65&&r<=90||r>=97&&r<=122}ee.regexp_eatRegExpUnicodeEscapeSequence=function(r){var b=r.pos;if(r.eat(117)){if(this.regexp_eatFixedHexDigits(r,4)){var L=r.lastIntValue;if(r.switchU&&L>=55296&&L<=56319){var z=r.pos;if(r.eat(92)&&r.eat(117)&&this.regexp_eatFixedHexDigits(r,4)){var V=r.lastIntValue;if(V>=56320&&V<=57343)return r.lastIntValue=(L-55296)*1024+(V-56320)+65536,!0}r.pos=z,r.lastIntValue=L}return!0}if(r.switchU&&r.eat(123)&&this.regexp_eatHexDigits(r)&&r.eat(125)&&Le(r.lastIntValue))return!0;r.switchU&&r.raise("Invalid unicode escape"),r.pos=b}return!1};function Le(r){return r>=0&&r<=1114111}ee.regexp_eatIdentityEscape=function(r){if(r.switchU)return this.regexp_eatSyntaxCharacter(r)?!0:r.eat(47)?(r.lastIntValue=47,!0):!1;var b=r.current();return b!==99&&(!r.switchN||b!==107)?(r.lastIntValue=b,r.advance(),!0):!1},ee.regexp_eatDecimalEscape=function(r){r.lastIntValue=0;var b=r.current();if(b>=49&&b<=57){do r.lastIntValue=10*r.lastIntValue+(b-48),r.advance();while((b=r.current())>=48&&b<=57);return!0}return!1},ee.regexp_eatCharacterClassEscape=function(r){var b=r.current();if(je(b))return r.lastIntValue=-1,r.advance(),!0;if(r.switchU&&this.options.ecmaVersion>=9&&(b===80||b===112)){if(r.lastIntValue=-1,r.advance(),r.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(r)&&r.eat(125))return!0;r.raise("Invalid property name")}return!1};function je(r){return r===100||r===68||r===115||r===83||r===119||r===87}ee.regexp_eatUnicodePropertyValueExpression=function(r){var b=r.pos;if(this.regexp_eatUnicodePropertyName(r)&&r.eat(61)){var L=r.lastStringValue;if(this.regexp_eatUnicodePropertyValue(r)){var z=r.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(r,L,z),!0}}if(r.pos=b,this.regexp_eatLoneUnicodePropertyNameOrValue(r)){var V=r.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(r,V),!0}return!1},ee.regexp_validateUnicodePropertyNameAndValue=function(r,b,L){(!Z.hasOwnProperty(b)||Z[b].indexOf(L)===-1)&&r.raise("Invalid property name")},ee.regexp_validateUnicodePropertyNameOrValue=function(r,b){Z.$LONE.indexOf(b)===-1&&r.raise("Invalid property name")},ee.regexp_eatUnicodePropertyName=function(r){var b=0;for(r.lastStringValue="";Pe(b=r.current());)r.lastStringValue+=Ee(b),r.advance();return r.lastStringValue!==""};function Pe(r){return Ce(r)||r===95}ee.regexp_eatUnicodePropertyValue=function(r){var b=0;for(r.lastStringValue="";Ae(b=r.current());)r.lastStringValue+=Ee(b),r.advance();return r.lastStringValue!==""};function Ae(r){return Pe(r)||Ne(r)}ee.regexp_eatLoneUnicodePropertyNameOrValue=function(r){return this.regexp_eatUnicodePropertyValue(r)},ee.regexp_eatCharacterClass=function(r){if(r.eat(91)){if(r.eat(94),this.regexp_classRanges(r),r.eat(93))return!0;r.raise("Unterminated character class")}return!1},ee.regexp_classRanges=function(r){for(var b=this;this.regexp_eatClassAtom(r);){var L=r.lastIntValue;if(r.eat(45)&&b.regexp_eatClassAtom(r)){var z=r.lastIntValue;r.switchU&&(L===-1||z===-1)&&r.raise("Invalid character class"),L!==-1&&z!==-1&&L>z&&r.raise("Range out of order in character class")}}},ee.regexp_eatClassAtom=function(r){var b=r.pos;if(r.eat(92)){if(this.regexp_eatClassEscape(r))return!0;if(r.switchU){var L=r.current();(L===99||$e(L))&&r.raise("Invalid class escape"),r.raise("Invalid escape")}r.pos=b}var z=r.current();return z!==93?(r.lastIntValue=z,r.advance(),!0):!1},ee.regexp_eatClassEscape=function(r){var b=r.pos;if(r.eat(98))return r.lastIntValue=8,!0;if(r.switchU&&r.eat(45))return r.lastIntValue=45,!0;if(!r.switchU&&r.eat(99)){if(this.regexp_eatClassControlLetter(r))return!0;r.pos=b}return this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)},ee.regexp_eatClassControlLetter=function(r){var b=r.current();return Ne(b)||b===95?(r.lastIntValue=b%32,r.advance(),!0):!1},ee.regexp_eatHexEscapeSequence=function(r){var b=r.pos;if(r.eat(120)){if(this.regexp_eatFixedHexDigits(r,2))return!0;r.switchU&&r.raise("Invalid escape"),r.pos=b}return!1},ee.regexp_eatDecimalDigits=function(r){var b=r.pos,L=0;for(r.lastIntValue=0;Ne(L=r.current());)r.lastIntValue=10*r.lastIntValue+(L-48),r.advance();return r.pos!==b};function Ne(r){return r>=48&&r<=57}ee.regexp_eatHexDigits=function(r){var b=r.pos,L=0;for(r.lastIntValue=0;He(L=r.current());)r.lastIntValue=16*r.lastIntValue+Xe(L),r.advance();return r.pos!==b};function He(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}function Xe(r){return r>=65&&r<=70?10+(r-65):r>=97&&r<=102?10+(r-97):r-48}ee.regexp_eatLegacyOctalEscapeSequence=function(r){if(this.regexp_eatOctalDigit(r)){var b=r.lastIntValue;if(this.regexp_eatOctalDigit(r)){var L=r.lastIntValue;b<=3&&this.regexp_eatOctalDigit(r)?r.lastIntValue=b*64+L*8+r.lastIntValue:r.lastIntValue=b*8+L}else r.lastIntValue=b;return!0}return!1},ee.regexp_eatOctalDigit=function(r){var b=r.current();return $e(b)?(r.lastIntValue=b-48,r.advance(),!0):(r.lastIntValue=0,!1)};function $e(r){return r>=48&&r<=55}ee.regexp_eatFixedHexDigits=function(r,b){var L=r.pos;r.lastIntValue=0;for(var z=0;z<b;++z){var V=r.current();if(!He(V))return r.pos=L,!1;r.lastIntValue=16*r.lastIntValue+Xe(V),r.advance()}return!0};var Ge=function(b){this.type=b.type,this.value=b.value,this.start=b.start,this.end=b.end,b.options.locations&&(this.loc=new Q(b,b.startLoc,b.endLoc)),b.options.ranges&&(this.range=[b.start,b.end])},Oe=te.prototype;Oe.next=function(){this.options.onToken&&this.options.onToken(new Ge(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Oe.getToken=function(){return this.next(),new Ge(this)},typeof Symbol<"u"&&(Oe[Symbol.iterator]=function(){var r=this;return{next:function(){var b=r.getToken();return{done:b.type===x.eof,value:b}}}}),Oe.curContext=function(){return this.context[this.context.length-1]},Oe.nextToken=function(){var r=this.curContext();if((!r||!r.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(x.eof);if(r.override)return r.override(this);this.readToken(this.fullCharCodeAtPos())},Oe.readToken=function(r){return O(r,this.options.ecmaVersion>=6)||r===92?this.readWord():this.getTokenFromCode(r)},Oe.fullCharCodeAtPos=function(){var r=this.input.charCodeAt(this.pos);if(r<=55295||r>=57344)return r;var b=this.input.charCodeAt(this.pos+1);return(r<<10)+b-56613888},Oe.skipBlockComment=function(){var r=this,b=this.options.onComment&&this.curPosition(),L=this.pos,z=this.input.indexOf("*/",this.pos+=2);if(z===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=z+2,this.options.locations){re.lastIndex=L;for(var V;(V=re.exec(this.input))&&V.index<this.pos;)++r.curLine,r.lineStart=V.index+V[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(L+2,z),L,this.pos,b,this.curPosition())},Oe.skipLineComment=function(r){for(var b=this,L=this.pos,z=this.options.onComment&&this.curPosition(),V=this.input.charCodeAt(this.pos+=r);this.pos<this.input.length&&!ce(V);)V=b.input.charCodeAt(++b.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(L+r,this.pos),L,this.pos,z,this.curPosition())},Oe.skipSpace=function(){var r=this;e:for(;this.pos<this.input.length;){var b=r.input.charCodeAt(r.pos);switch(b){case 32:case 160:++r.pos;break;case 13:r.input.charCodeAt(r.pos+1)===10&&++r.pos;case 10:case 8232:case 8233:++r.pos,r.options.locations&&(++r.curLine,r.lineStart=r.pos);break;case 47:switch(r.input.charCodeAt(r.pos+1)){case 42:r.skipBlockComment();break;case 47:r.skipLineComment(2);break;default:break e}break;default:if(b>8&&b<14||b>=5760&&oe.test(String.fromCharCode(b)))++r.pos;else break e}}},Oe.finishToken=function(r,b){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var L=this.type;this.type=r,this.value=b,this.updateContext(L)},Oe.readToken_dot=function(){var r=this.input.charCodeAt(this.pos+1);if(r>=48&&r<=57)return this.readNumber(!0);var b=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&r===46&&b===46?(this.pos+=3,this.finishToken(x.ellipsis)):(++this.pos,this.finishToken(x.dot))},Oe.readToken_slash=function(){var r=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):r===61?this.finishOp(x.assign,2):this.finishOp(x.slash,1)},Oe.readToken_mult_modulo_exp=function(r){var b=this.input.charCodeAt(this.pos+1),L=1,z=r===42?x.star:x.modulo;return this.options.ecmaVersion>=7&&r===42&&b===42&&(++L,z=x.starstar,b=this.input.charCodeAt(this.pos+2)),b===61?this.finishOp(x.assign,L+1):this.finishOp(z,L)},Oe.readToken_pipe_amp=function(r){var b=this.input.charCodeAt(this.pos+1);return b===r?this.finishOp(r===124?x.logicalOR:x.logicalAND,2):b===61?this.finishOp(x.assign,2):this.finishOp(r===124?x.bitwiseOR:x.bitwiseAND,1)},Oe.readToken_caret=function(){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(x.assign,2):this.finishOp(x.bitwiseXOR,1)},Oe.readToken_plus_min=function(r){var b=this.input.charCodeAt(this.pos+1);return b===r?b===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Y.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(x.incDec,2):b===61?this.finishOp(x.assign,2):this.finishOp(x.plusMin,1)},Oe.readToken_lt_gt=function(r){var b=this.input.charCodeAt(this.pos+1),L=1;return b===r?(L=r===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+L)===61?this.finishOp(x.assign,L+1):this.finishOp(x.bitShift,L)):b===33&&r===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(b===61&&(L=2),this.finishOp(x.relational,L))},Oe.readToken_eq_excl=function(r){var b=this.input.charCodeAt(this.pos+1);return b===61?this.finishOp(x.equality,this.input.charCodeAt(this.pos+2)===61?3:2):r===61&&b===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(x.arrow)):this.finishOp(r===61?x.eq:x.prefix,1)},Oe.getTokenFromCode=function(r){switch(r){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(x.parenL);case 41:return++this.pos,this.finishToken(x.parenR);case 59:return++this.pos,this.finishToken(x.semi);case 44:return++this.pos,this.finishToken(x.comma);case 91:return++this.pos,this.finishToken(x.bracketL);case 93:return++this.pos,this.finishToken(x.bracketR);case 123:return++this.pos,this.finishToken(x.braceL);case 125:return++this.pos,this.finishToken(x.braceR);case 58:return++this.pos,this.finishToken(x.colon);case 63:return++this.pos,this.finishToken(x.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(x.backQuote);case 48:var b=this.input.charCodeAt(this.pos+1);if(b===120||b===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(b===111||b===79)return this.readRadixNumber(8);if(b===98||b===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(r);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(r);case 124:case 38:return this.readToken_pipe_amp(r);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(r);case 60:case 62:return this.readToken_lt_gt(r);case 61:case 33:return this.readToken_eq_excl(r);case 126:return this.finishOp(x.prefix,1)}this.raise(this.pos,"Unexpected character '"+Be(r)+"'")},Oe.finishOp=function(r,b){var L=this.input.slice(this.pos,this.pos+b);return this.pos+=b,this.finishToken(r,L)},Oe.readRegexp=function(){for(var r=this,b,L,z=this.pos;;){r.pos>=r.input.length&&r.raise(z,"Unterminated regular expression");var V=r.input.charAt(r.pos);if(Y.test(V)&&r.raise(z,"Unterminated regular expression"),b)b=!1;else{if(V==="[")L=!0;else if(V==="]"&&L)L=!1;else if(V==="/"&&!L)break;b=V==="\\"}++r.pos}var fe=this.input.slice(z,this.pos);++this.pos;var ve=this.pos,we=this.readWord1();this.containsEsc&&this.unexpected(ve);var Te=this.regexpState||(this.regexpState=new xe(this));Te.reset(z,fe,we),this.validateRegExpFlags(Te),this.validateRegExpPattern(Te);var Re=null;try{Re=new RegExp(fe,we)}catch{}return this.finishToken(x.regexp,{pattern:fe,flags:we,value:Re})},Oe.readInt=function(r,b){for(var L=this,z=this.pos,V=0,fe=0,ve=b??1/0;fe<ve;++fe){var we=L.input.charCodeAt(L.pos),Te=void 0;if(we>=97?Te=we-97+10:we>=65?Te=we-65+10:we>=48&&we<=57?Te=we-48:Te=1/0,Te>=r)break;++L.pos,V=V*r+Te}return this.pos===z||b!=null&&this.pos-z!==b?null:V},Oe.readRadixNumber=function(r){this.pos+=2;var b=this.readInt(r);return b==null&&this.raise(this.start+2,"Expected number in radix "+r),O(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,b)},Oe.readNumber=function(r){var b=this.pos;!r&&this.readInt(10)===null&&this.raise(b,"Invalid number");var L=this.pos-b>=2&&this.input.charCodeAt(b)===48;L&&this.strict&&this.raise(b,"Invalid number"),L&&/[89]/.test(this.input.slice(b,this.pos))&&(L=!1);var z=this.input.charCodeAt(this.pos);z===46&&!L&&(++this.pos,this.readInt(10),z=this.input.charCodeAt(this.pos)),(z===69||z===101)&&!L&&(z=this.input.charCodeAt(++this.pos),(z===43||z===45)&&++this.pos,this.readInt(10)===null&&this.raise(b,"Invalid number")),O(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var V=this.input.slice(b,this.pos),fe=L?parseInt(V,8):parseFloat(V);return this.finishToken(x.num,fe)},Oe.readCodePoint=function(){var r=this.input.charCodeAt(this.pos),b;if(r===123){this.options.ecmaVersion<6&&this.unexpected();var L=++this.pos;b=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,b>1114111&&this.invalidStringToken(L,"Code point out of bounds")}else b=this.readHexChar(4);return b};function Be(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}Oe.readString=function(r){for(var b=this,L="",z=++this.pos;;){b.pos>=b.input.length&&b.raise(b.start,"Unterminated string constant");var V=b.input.charCodeAt(b.pos);if(V===r)break;V===92?(L+=b.input.slice(z,b.pos),L+=b.readEscapedChar(!1),z=b.pos):(ce(V,b.options.ecmaVersion>=10)&&b.raise(b.start,"Unterminated string constant"),++b.pos)}return L+=this.input.slice(z,this.pos++),this.finishToken(x.string,L)};var ze={};Oe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(r){if(r===ze)this.readInvalidTemplateToken();else throw r}this.inTemplateElement=!1},Oe.invalidStringToken=function(r,b){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ze;this.raise(r,b)},Oe.readTmplToken=function(){for(var r=this,b="",L=this.pos;;){r.pos>=r.input.length&&r.raise(r.start,"Unterminated template");var z=r.input.charCodeAt(r.pos);if(z===96||z===36&&r.input.charCodeAt(r.pos+1)===123)return r.pos===r.start&&(r.type===x.template||r.type===x.invalidTemplate)?z===36?(r.pos+=2,r.finishToken(x.dollarBraceL)):(++r.pos,r.finishToken(x.backQuote)):(b+=r.input.slice(L,r.pos),r.finishToken(x.template,b));if(z===92)b+=r.input.slice(L,r.pos),b+=r.readEscapedChar(!0),L=r.pos;else if(ce(z)){switch(b+=r.input.slice(L,r.pos),++r.pos,z){case 13:r.input.charCodeAt(r.pos)===10&&++r.pos;case 10:b+=`
`;break;default:b+=String.fromCharCode(z);break}r.options.locations&&(++r.curLine,r.lineStart=r.pos),L=r.pos}else++r.pos}},Oe.readInvalidTemplateToken=function(){for(var r=this;this.pos<this.input.length;this.pos++)switch(r.input[r.pos]){case"\\":++r.pos;break;case"$":if(r.input[r.pos+1]!=="{")break;case"`":return r.finishToken(x.invalidTemplate,r.input.slice(r.start,r.pos))}this.raise(this.start,"Unterminated template")},Oe.readEscapedChar=function(r){var b=this.input.charCodeAt(++this.pos);switch(++this.pos,b){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Be(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(b>=48&&b<=55){var L=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],z=parseInt(L,8);return z>255&&(L=L.slice(0,-1),z=parseInt(L,8)),this.pos+=L.length-1,b=this.input.charCodeAt(this.pos),(L!=="0"||b===56||b===57)&&(this.strict||r)&&this.invalidStringToken(this.pos-1-L.length,r?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(z)}return String.fromCharCode(b)}},Oe.readHexChar=function(r){var b=this.pos,L=this.readInt(16,r);return L===null&&this.invalidStringToken(b,"Bad character escape sequence"),L},Oe.readWord1=function(){var r=this;this.containsEsc=!1;for(var b="",L=!0,z=this.pos,V=this.options.ecmaVersion>=6;this.pos<this.input.length;){var fe=r.fullCharCodeAtPos();if(P(fe,V))r.pos+=fe<=65535?1:2;else if(fe===92){r.containsEsc=!0,b+=r.input.slice(z,r.pos);var ve=r.pos;r.input.charCodeAt(++r.pos)!==117&&r.invalidStringToken(r.pos,"Expecting Unicode escape sequence \\uXXXX"),++r.pos;var we=r.readCodePoint();(L?O:P)(we,V)||r.invalidStringToken(ve,"Invalid Unicode escape"),b+=Be(we),z=r.pos}else break;L=!1}return b+this.input.slice(z,this.pos)},Oe.readWord=function(){var r=this.readWord1(),b=x.name;return this.keywords.test(r)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+r),b=E[r]),this.finishToken(b,r)};var Ye="5.7.2";function Ve(r,b){return new te(b,r).parse()}function Je(r,b,L){var z=new te(L,r,b);return z.nextToken(),z.parseExpression()}function Ze(r,b){return new te(b,r)}function qe(r,b,L){i.parse_dammit=r,i.LooseParser=b,i.pluginsLoose=L}i.version=Ye,i.parse=Ve,i.parseExpressionAt=Je,i.tokenizer=Ze,i.addLooseExports=qe,i.Parser=te,i.plugins=J,i.defaultOptions=ae,i.Position=X,i.SourceLocation=Q,i.getLineInfo=W,i.Node=me,i.TokenType=C,i.tokTypes=x,i.keywordTypes=E,i.TokContext=k,i.tokContexts=G,i.isIdentifierChar=P,i.isIdentifierStart=O,i.Token=Ge,i.isNewLine=ce,i.lineBreak=Y,i.lineBreakG=re,i.nonASCIIwhitespace=oe,Object.defineProperty(i,"__esModule",{value:!0})})},{}],91:[function(e,t,n){n.read=function(i,s,o,f,l){var g,u,a=l*8-f-1,m=(1<<a)-1,y=m>>1,c=-7,R=o?l-1:0,O=o?-1:1,P=i[s+R];for(R+=O,g=P&(1<<-c)-1,P>>=-c,c+=a;c>0;g=g*256+i[s+R],R+=O,c-=8);for(u=g&(1<<-c)-1,g>>=-c,c+=f;c>0;u=u*256+i[s+R],R+=O,c-=8);if(g===0)g=1-y;else{if(g===m)return u?NaN:(P?-1:1)*(1/0);u=u+Math.pow(2,f),g=g-y}return(P?-1:1)*u*Math.pow(2,g-f)},n.write=function(i,s,o,f,l,g){var u,a,m,y=g*8-l-1,c=(1<<y)-1,R=c>>1,O=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=f?0:g-1,C=f?1:-1,_=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(a=isNaN(s)?1:0,u=c):(u=Math.floor(Math.log(s)/Math.LN2),s*(m=Math.pow(2,-u))<1&&(u--,m*=2),u+R>=1?s+=O/m:s+=O*Math.pow(2,1-R),s*m>=2&&(u++,m/=2),u+R>=c?(a=0,u=c):u+R>=1?(a=(s*m-1)*Math.pow(2,l),u=u+R):(a=s*Math.pow(2,R-1)*Math.pow(2,l),u=0));l>=8;i[o+P]=a&255,P+=C,a/=256,l-=8);for(u=u<<l|a,y+=l;y>0;i[o+P]=u&255,P+=C,u/=256,y-=8);i[o+P-C]|=_*128}},{}],92:[function(e,t,n){typeof Object.create=="function"?t.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(s,o){s.super_=o;var f=function(){};f.prototype=o.prototype,s.prototype=new f,s.prototype.constructor=s}},{}],93:[function(e,t,n){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(o){return o!=null&&(i(o)||s(o)||!!o._isBuffer)};function i(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function s(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&i(o.slice(0,0))}},{}],94:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},{}],95:[function(e,t,n){(function(i){!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?t.exports={nextTick:s}:t.exports=i;function s(o,f,l,g){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,a,m;switch(u){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick(function(){o.call(null,f)});case 3:return i.nextTick(function(){o.call(null,f,l)});case 4:return i.nextTick(function(){o.call(null,f,l,g)});default:for(a=new Array(u-1),m=0;m<a.length;)a[m++]=arguments[m];return i.nextTick(function(){o.apply(null,a)})}}}).call(this,e("_process"))},{_process:96}],96:[function(e,t,n){var i=t.exports={},s,o;function f(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=f}catch{s=f}try{typeof clearTimeout=="function"?o=clearTimeout:o=l}catch{o=l}})();function g(_){if(s===setTimeout)return setTimeout(_,0);if((s===f||!s)&&setTimeout)return s=setTimeout,setTimeout(_,0);try{return s(_,0)}catch{try{return s.call(null,_,0)}catch{return s.call(this,_,0)}}}function u(_){if(o===clearTimeout)return clearTimeout(_);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{return o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}var a=[],m=!1,y,c=-1;function R(){!m||!y||(m=!1,y.length?a=y.concat(a):c=-1,a.length&&O())}function O(){if(!m){var _=g(R);m=!0;for(var I=a.length;I;){for(y=a,a=[];++c<I;)y&&y[c].run();c=-1,I=a.length}y=null,m=!1,u(_)}}i.nextTick=function(_){var I=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)I[T-1]=arguments[T];a.push(new P(_,I)),a.length===1&&!m&&g(O)};function P(_,I){this.fun=_,this.array=I}P.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function C(){}i.on=C,i.addListener=C,i.once=C,i.off=C,i.removeListener=C,i.removeAllListeners=C,i.emit=C,i.prependListener=C,i.prependOnceListener=C,i.listeners=function(_){return[]},i.binding=function(_){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(_){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],97:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":98}],98:[function(e,t,n){var i=e("process-nextick-args"),s=Object.keys||function(R){var O=[];for(var P in R)O.push(P);return O};t.exports=m;var o=e("core-util-is");o.inherits=e("inherits");var f=e("./_stream_readable"),l=e("./_stream_writable");o.inherits(m,f);for(var g=s(l.prototype),u=0;u<g.length;u++){var a=g[u];m.prototype[a]||(m.prototype[a]=l.prototype[a])}function m(R){if(!(this instanceof m))return new m(R);f.call(this,R),l.call(this,R),R&&R.readable===!1&&(this.readable=!1),R&&R.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,R&&R.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function y(){this.allowHalfOpen||this._writableState.ended||i.nextTick(c,this)}function c(R){R.end()}Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=R,this._writableState.destroyed=R)}}),m.prototype._destroy=function(R,O){this.push(null),this.end(),i.nextTick(O,R)}},{"./_stream_readable":100,"./_stream_writable":102,"core-util-is":55,inherits:92,"process-nextick-args":95}],99:[function(e,t,n){t.exports=o;var i=e("./_stream_transform"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(o,i);function o(f){if(!(this instanceof o))return new o(f);i.call(this,f)}o.prototype._transform=function(f,l,g){g(null,f)}},{"./_stream_transform":101,"core-util-is":55,inherits:92}],100:[function(e,t,n){(function(i,s){var o=e("process-nextick-args");t.exports=x;var f=e("isarray"),l;x.ReadableState=v,e("events").EventEmitter;var g=function(M,A){return M.listeners(A).length},u=e("./internal/streams/stream"),a=e("safe-buffer").Buffer,m=s.Uint8Array||function(){};function y(M){return a.from(M)}function c(M){return a.isBuffer(M)||M instanceof m}var R=e("core-util-is");R.inherits=e("inherits");var O=e("util"),P=void 0;O&&O.debuglog?P=O.debuglog("stream"):P=function(){};var C=e("./internal/streams/BufferList"),_=e("./internal/streams/destroy"),I;R.inherits(x,u);var T=["error","close","destroy","pause","resume"];function E(M,A,B){if(typeof M.prependListener=="function")return M.prependListener(A,B);!M._events||!M._events[A]?M.on(A,B):f(M._events[A])?M._events[A].unshift(B):M._events[A]=[B,M._events[A]]}function v(M,A){l=l||e("./_stream_duplex"),M=M||{};var B=A instanceof l;this.objectMode=!!M.objectMode,B&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var $=M.highWaterMark,se=M.readableHighWaterMark,ie=this.objectMode?16:16*1024;$||$===0?this.highWaterMark=$:B&&(se||se===0)?this.highWaterMark=se:this.highWaterMark=ie,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new C,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(I||(I=e("string_decoder/").StringDecoder),this.decoder=new I(M.encoding),this.encoding=M.encoding)}function x(M){if(l=l||e("./_stream_duplex"),!(this instanceof x))return new x(M);this._readableState=new v(M,this),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),u.call(this)}Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),x.prototype.destroy=_.destroy,x.prototype._undestroy=_.undestroy,x.prototype._destroy=function(M,A){this.push(null),A(M)},x.prototype.push=function(M,A){var B=this._readableState,$;return B.objectMode?$=!0:typeof M=="string"&&(A=A||B.defaultEncoding,A!==B.encoding&&(M=a.from(M,A),A=""),$=!0),Y(this,M,A,!1,$)},x.prototype.unshift=function(M){return Y(this,M,null,!0,!1)};function Y(M,A,B,$,se){var ie=M._readableState;if(A===null)ie.reading=!1,j(M,ie);else{var pe;se||(pe=ce(ie,A)),pe?M.emit("error",pe):ie.objectMode||A&&A.length>0?(typeof A!="string"&&!ie.objectMode&&Object.getPrototypeOf(A)!==a.prototype&&(A=y(A)),$?ie.endEmitted?M.emit("error",new Error("stream.unshift() after end event")):re(M,ie,A,!0):ie.ended?M.emit("error",new Error("stream.push() after EOF")):(ie.reading=!1,ie.decoder&&!B?(A=ie.decoder.write(A),ie.objectMode||A.length!==0?re(M,ie,A,!1):X(M,ie)):re(M,ie,A,!1))):$||(ie.reading=!1)}return oe(ie)}function re(M,A,B,$){A.flowing&&A.length===0&&!A.sync?(M.emit("data",B),M.read(0)):(A.length+=A.objectMode?1:B.length,$?A.buffer.unshift(B):A.buffer.push(B),A.needReadable&&H(M)),X(M,A)}function ce(M,A){var B;return!c(A)&&typeof A!="string"&&A!==void 0&&!M.objectMode&&(B=new TypeError("Invalid non-string/buffer chunk")),B}function oe(M){return!M.ended&&(M.needReadable||M.length<M.highWaterMark||M.length===0)}x.prototype.isPaused=function(){return this._readableState.flowing===!1},x.prototype.setEncoding=function(M){return I||(I=e("string_decoder/").StringDecoder),this._readableState.decoder=new I(M),this._readableState.encoding=M,this};var ue=8388608;function U(M){return M>=ue?M=ue:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function F(M,A){return M<=0||A.length===0&&A.ended?0:A.objectMode?1:M!==M?A.flowing&&A.length?A.buffer.head.data.length:A.length:(M>A.highWaterMark&&(A.highWaterMark=U(M)),M<=A.length?M:A.ended?A.length:(A.needReadable=!0,0))}x.prototype.read=function(M){P("read",M),M=parseInt(M,10);var A=this._readableState,B=M;if(M!==0&&(A.emittedReadable=!1),M===0&&A.needReadable&&(A.length>=A.highWaterMark||A.ended))return P("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?ye(this):H(this),null;if(M=F(M,A),M===0&&A.ended)return A.length===0&&ye(this),null;var $=A.needReadable;P("need readable",$),(A.length===0||A.length-M<A.highWaterMark)&&($=!0,P("length less than watermark",$)),A.ended||A.reading?($=!1,P("reading or ended",$)):$&&(P("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(M=F(B,A)));var se;return M>0?se=ne(M,A):se=null,se===null?(A.needReadable=!0,M=0):A.length-=M,A.length===0&&(A.ended||(A.needReadable=!0),B!==M&&A.ended&&ye(this)),se!==null&&this.emit("data",se),se};function j(M,A){if(!A.ended){if(A.decoder){var B=A.decoder.end();B&&B.length&&(A.buffer.push(B),A.length+=A.objectMode?1:B.length)}A.ended=!0,H(M)}}function H(M){var A=M._readableState;A.needReadable=!1,A.emittedReadable||(P("emitReadable",A.flowing),A.emittedReadable=!0,A.sync?o.nextTick(N,M):N(M))}function N(M){P("emit readable"),M.emit("readable"),J(M)}function X(M,A){A.readingMore||(A.readingMore=!0,o.nextTick(Q,M,A))}function Q(M,A){for(var B=A.length;!A.reading&&!A.flowing&&!A.ended&&A.length<A.highWaterMark&&(P("maybeReadMore read 0"),M.read(0),B!==A.length);)B=A.length;A.readingMore=!1}x.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},x.prototype.pipe=function(M,A){var B=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=M;break;case 1:$.pipes=[$.pipes,M];break;default:$.pipes.push(M);break}$.pipesCount+=1,P("pipe count=%d opts=%j",$.pipesCount,A);var se=(!A||A.end!==!1)&&M!==i.stdout&&M!==i.stderr,ie=se?be:xe;$.endEmitted?o.nextTick(ie):B.once("end",ie),M.on("unpipe",pe);function pe(Ee,Se){P("onunpipe"),Ee===B&&Se&&Se.hasUnpiped===!1&&(Se.hasUnpiped=!0,S())}function be(){P("onend"),M.end()}var me=W(B);M.on("drain",me);var D=!1;function S(){P("cleanup"),M.removeListener("close",Z),M.removeListener("finish",ee),M.removeListener("drain",me),M.removeListener("error",q),M.removeListener("unpipe",pe),B.removeListener("end",be),B.removeListener("end",xe),B.removeListener("data",G),D=!0,$.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&me()}var k=!1;B.on("data",G);function G(Ee){P("ondata"),k=!1;var Se=M.write(Ee);Se===!1&&!k&&(($.pipesCount===1&&$.pipes===M||$.pipesCount>1&&ge($.pipes,M)!==-1)&&!D&&(P("false write response, pause",B._readableState.awaitDrain),B._readableState.awaitDrain++,k=!0),B.pause())}function q(Ee){P("onerror",Ee),xe(),M.removeListener("error",q),g(M,"error")===0&&M.emit("error",Ee)}E(M,"error",q);function Z(){M.removeListener("finish",ee),xe()}M.once("close",Z);function ee(){P("onfinish"),M.removeListener("close",Z),xe()}M.once("finish",ee);function xe(){P("unpipe"),B.unpipe(M)}return M.emit("pipe",B),$.flowing||(P("pipe resume"),B.resume()),M};function W(M){return function(){var A=M._readableState;P("pipeOnDrain",A.awaitDrain),A.awaitDrain&&A.awaitDrain--,A.awaitDrain===0&&g(M,"data")&&(A.flowing=!0,J(M))}}x.prototype.unpipe=function(M){var A=this._readableState,B={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return M&&M!==A.pipes?this:(M||(M=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,M&&M.emit("unpipe",this,B),this);if(!M){var $=A.pipes,se=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var ie=0;ie<se;ie++)$[ie].emit("unpipe",this,B);return this}var pe=ge(A.pipes,M);return pe===-1?this:(A.pipes.splice(pe,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),M.emit("unpipe",this,B),this)},x.prototype.on=function(M,A){var B=u.prototype.on.call(this,M,A);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var $=this._readableState;!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.emittedReadable=!1,$.reading?$.length&&H(this):o.nextTick(ae,this))}return B},x.prototype.addListener=x.prototype.on;function ae(M){P("readable nexttick read 0"),M.read(0)}x.prototype.resume=function(){var M=this._readableState;return M.flowing||(P("resume"),M.flowing=!0,le(this,M)),this};function le(M,A){A.resumeScheduled||(A.resumeScheduled=!0,o.nextTick(K,M,A))}function K(M,A){A.reading||(P("resume read 0"),M.read(0)),A.resumeScheduled=!1,A.awaitDrain=0,M.emit("resume"),J(M),A.flowing&&!A.reading&&M.read(0)}x.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function J(M){var A=M._readableState;for(P("flow",A.flowing);A.flowing&&M.read()!==null;);}x.prototype.wrap=function(M){var A=this,B=this._readableState,$=!1;M.on("end",function(){if(P("wrapped end"),B.decoder&&!B.ended){var pe=B.decoder.end();pe&&pe.length&&A.push(pe)}A.push(null)}),M.on("data",function(pe){if(P("wrapped data"),B.decoder&&(pe=B.decoder.write(pe)),!(B.objectMode&&pe==null)&&!(!B.objectMode&&(!pe||!pe.length))){var be=A.push(pe);be||($=!0,M.pause())}});for(var se in M)this[se]===void 0&&typeof M[se]=="function"&&(this[se]=function(pe){return function(){return M[pe].apply(M,arguments)}}(se));for(var ie=0;ie<T.length;ie++)M.on(T[ie],this.emit.bind(this,T[ie]));return this._read=function(pe){P("wrapped _read",pe),$&&($=!1,M.resume())},this},Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),x._fromList=ne;function ne(M,A){if(A.length===0)return null;var B;return A.objectMode?B=A.buffer.shift():!M||M>=A.length?(A.decoder?B=A.buffer.join(""):A.buffer.length===1?B=A.buffer.head.data:B=A.buffer.concat(A.length),A.buffer.clear()):B=te(M,A.buffer,A.decoder),B}function te(M,A,B){var $;return M<A.head.data.length?($=A.head.data.slice(0,M),A.head.data=A.head.data.slice(M)):M===A.head.data.length?$=A.shift():$=B?de(M,A):_e(M,A),$}function de(M,A){var B=A.head,$=1,se=B.data;for(M-=se.length;B=B.next;){var ie=B.data,pe=M>ie.length?ie.length:M;if(pe===ie.length?se+=ie:se+=ie.slice(0,M),M-=pe,M===0){pe===ie.length?(++$,B.next?A.head=B.next:A.head=A.tail=null):(A.head=B,B.data=ie.slice(pe));break}++$}return A.length-=$,se}function _e(M,A){var B=a.allocUnsafe(M),$=A.head,se=1;for($.data.copy(B),M-=$.data.length;$=$.next;){var ie=$.data,pe=M>ie.length?ie.length:M;if(ie.copy(B,B.length-M,0,pe),M-=pe,M===0){pe===ie.length?(++se,$.next?A.head=$.next:A.head=A.tail=null):(A.head=$,$.data=ie.slice(pe));break}++se}return A.length-=se,B}function ye(M){var A=M._readableState;if(A.length>0)throw new Error('"endReadable()" called on non-empty stream');A.endEmitted||(A.ended=!0,o.nextTick(he,A,M))}function he(M,A){!M.endEmitted&&M.length===0&&(M.endEmitted=!0,A.readable=!1,A.emit("end"))}function ge(M,A){for(var B=0,$=M.length;B<$;B++)if(M[B]===A)return B;return-1}}).call(this,e("_process"),typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":98,"./internal/streams/BufferList":103,"./internal/streams/destroy":104,"./internal/streams/stream":105,_process:96,"core-util-is":55,events:56,inherits:92,isarray:94,"process-nextick-args":95,"safe-buffer":111,"string_decoder/":106,util:53}],101:[function(e,t,n){t.exports=f;var i=e("./_stream_duplex"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(f,i);function o(u,a){var m=this._transformState;m.transforming=!1;var y=m.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,a!=null&&this.push(a),y(u);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}function f(u){if(!(this instanceof f))return new f(u);i.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"?this._flush(function(a,m){g(u,a,m)}):g(this,null,null)}f.prototype.push=function(u,a){return this._transformState.needTransform=!1,i.prototype.push.call(this,u,a)},f.prototype._transform=function(u,a,m){throw new Error("_transform() is not implemented")},f.prototype._write=function(u,a,m){var y=this._transformState;if(y.writecb=m,y.writechunk=u,y.writeencoding=a,!y.transforming){var c=this._readableState;(y.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}},f.prototype._read=function(u){var a=this._transformState;a.writechunk!==null&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0},f.prototype._destroy=function(u,a){var m=this;i.prototype._destroy.call(this,u,function(y){a(y),m.emit("close")})};function g(u,a,m){if(a)return u.emit("error",a);if(m!=null&&u.push(m),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}},{"./_stream_duplex":98,"core-util-is":55,inherits:92}],102:[function(e,t,n){(function(i,s,o){var f=e("process-nextick-args");t.exports=E;function l(K){var J=this;this.next=null,this.entry=null,this.finish=function(){le(J,K)}}var g=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:f.nextTick,u;E.WritableState=I;var a=e("core-util-is");a.inherits=e("inherits");var m={deprecate:e("util-deprecate")},y=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,R=s.Uint8Array||function(){};function O(K){return c.from(K)}function P(K){return c.isBuffer(K)||K instanceof R}var C=e("./internal/streams/destroy");a.inherits(E,y);function _(){}function I(K,J){u=u||e("./_stream_duplex"),K=K||{};var ne=J instanceof u;this.objectMode=!!K.objectMode,ne&&(this.objectMode=this.objectMode||!!K.writableObjectMode);var te=K.highWaterMark,de=K.writableHighWaterMark,_e=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:ne&&(de||de===0)?this.highWaterMark=de:this.highWaterMark=_e,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ye=K.decodeStrings===!1;this.decodeStrings=!ye,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){U(J,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}I.prototype.getBuffer=function(){for(var J=this.bufferedRequest,ne=[];J;)ne.push(J),J=J.next;return ne},function(){try{Object.defineProperty(I.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(K){return T.call(this,K)?!0:this!==E?!1:K&&K._writableState instanceof I}})):T=function(K){return K instanceof this};function E(K){if(u=u||e("./_stream_duplex"),!T.call(E,this)&&!(this instanceof u))return new E(K);this._writableState=new I(K,this),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),y.call(this)}E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function v(K,J){var ne=new Error("write after end");K.emit("error",ne),f.nextTick(J,ne)}function x(K,J,ne,te){var de=!0,_e=!1;return ne===null?_e=new TypeError("May not write null values to stream"):typeof ne!="string"&&ne!==void 0&&!J.objectMode&&(_e=new TypeError("Invalid non-string/buffer chunk")),_e&&(K.emit("error",_e),f.nextTick(te,_e),de=!1),de}E.prototype.write=function(K,J,ne){var te=this._writableState,de=!1,_e=!te.objectMode&&P(K);return _e&&!c.isBuffer(K)&&(K=O(K)),typeof J=="function"&&(ne=J,J=null),_e?J="buffer":J||(J=te.defaultEncoding),typeof ne!="function"&&(ne=_),te.ended?v(this,ne):(_e||x(this,te,K,ne))&&(te.pendingcb++,de=re(this,te,_e,K,J,ne)),de},E.prototype.cork=function(){var K=this._writableState;K.corked++},E.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.finished&&!K.bufferProcessing&&K.bufferedRequest&&H(this,K))},E.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+J);return this._writableState.defaultEncoding=J,this};function Y(K,J,ne){return!K.objectMode&&K.decodeStrings!==!1&&typeof J=="string"&&(J=c.from(J,ne)),J}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function re(K,J,ne,te,de,_e){if(!ne){var ye=Y(J,te,de);te!==ye&&(ne=!0,de="buffer",te=ye)}var he=J.objectMode?1:te.length;J.length+=he;var ge=J.length<J.highWaterMark;if(ge||(J.needDrain=!0),J.writing||J.corked){var M=J.lastBufferedRequest;J.lastBufferedRequest={chunk:te,encoding:de,isBuf:ne,callback:_e,next:null},M?M.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else ce(K,J,!1,he,te,de,_e);return ge}function ce(K,J,ne,te,de,_e,ye){J.writelen=te,J.writecb=ye,J.writing=!0,J.sync=!0,ne?K._writev(de,J.onwrite):K._write(de,_e,J.onwrite),J.sync=!1}function oe(K,J,ne,te,de){--J.pendingcb,ne?(f.nextTick(de,te),f.nextTick(W,K,J),K._writableState.errorEmitted=!0,K.emit("error",te)):(de(te),K._writableState.errorEmitted=!0,K.emit("error",te),W(K,J))}function ue(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function U(K,J){var ne=K._writableState,te=ne.sync,de=ne.writecb;if(ue(ne),J)oe(K,ne,te,J,de);else{var _e=N(ne);!_e&&!ne.corked&&!ne.bufferProcessing&&ne.bufferedRequest&&H(K,ne),te?g(F,K,ne,_e,de):F(K,ne,_e,de)}}function F(K,J,ne,te){ne||j(K,J),J.pendingcb--,te(),W(K,J)}function j(K,J){J.length===0&&J.needDrain&&(J.needDrain=!1,K.emit("drain"))}function H(K,J){J.bufferProcessing=!0;var ne=J.bufferedRequest;if(K._writev&&ne&&ne.next){var te=J.bufferedRequestCount,de=new Array(te),_e=J.corkedRequestsFree;_e.entry=ne;for(var ye=0,he=!0;ne;)de[ye]=ne,ne.isBuf||(he=!1),ne=ne.next,ye+=1;de.allBuffers=he,ce(K,J,!0,J.length,de,"",_e.finish),J.pendingcb++,J.lastBufferedRequest=null,_e.next?(J.corkedRequestsFree=_e.next,_e.next=null):J.corkedRequestsFree=new l(J),J.bufferedRequestCount=0}else{for(;ne;){var ge=ne.chunk,M=ne.encoding,A=ne.callback,B=J.objectMode?1:ge.length;if(ce(K,J,!1,B,ge,M,A),ne=ne.next,J.bufferedRequestCount--,J.writing)break}ne===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=ne,J.bufferProcessing=!1}E.prototype._write=function(K,J,ne){ne(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(K,J,ne){var te=this._writableState;typeof K=="function"?(ne=K,K=null,J=null):typeof J=="function"&&(ne=J,J=null),K!=null&&this.write(K,J),te.corked&&(te.corked=1,this.uncork()),!te.ending&&!te.finished&&ae(this,te,ne)};function N(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function X(K,J){K._final(function(ne){J.pendingcb--,ne&&K.emit("error",ne),J.prefinished=!0,K.emit("prefinish"),W(K,J)})}function Q(K,J){!J.prefinished&&!J.finalCalled&&(typeof K._final=="function"?(J.pendingcb++,J.finalCalled=!0,f.nextTick(X,K,J)):(J.prefinished=!0,K.emit("prefinish")))}function W(K,J){var ne=N(J);return ne&&(Q(K,J),J.pendingcb===0&&(J.finished=!0,K.emit("finish"))),ne}function ae(K,J,ne){J.ending=!0,W(K,J),ne&&(J.finished?f.nextTick(ne):K.once("finish",ne)),J.ended=!0,K.writable=!1}function le(K,J,ne){var te=K.entry;for(K.entry=null;te;){var de=te.callback;J.pendingcb--,de(ne),te=te.next}J.corkedRequestsFree?J.corkedRequestsFree.next=K:J.corkedRequestsFree=K}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),E.prototype.destroy=C.destroy,E.prototype._undestroy=C.undestroy,E.prototype._destroy=function(K,J){this.end(),J(K)}}).call(this,e("_process"),typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":98,"./internal/streams/destroy":104,"./internal/streams/stream":105,_process:96,"core-util-is":55,inherits:92,"process-nextick-args":95,"safe-buffer":111,timers:116,"util-deprecate":117}],103:[function(e,t,n){function i(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}var s=e("safe-buffer").Buffer,o=e("util");function f(l,g,u){l.copy(g,u)}t.exports=function(){function l(){i(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(u){var a={data:u,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},l.prototype.unshift=function(u){var a={data:u,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},l.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(u){if(this.length===0)return"";for(var a=this.head,m=""+a.data;a=a.next;)m+=u+a.data;return m},l.prototype.concat=function(u){if(this.length===0)return s.alloc(0);if(this.length===1)return this.head.data;for(var a=s.allocUnsafe(u>>>0),m=this.head,y=0;m;)f(m.data,a,y),y+=m.data.length,m=m.next;return a},l}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var l=o.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":111,util:53}],104:[function(e,t,n){var i=e("process-nextick-args");function s(l,g){var u=this,a=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return a||m?(g?g(l):l&&(!this._writableState||!this._writableState.errorEmitted)&&i.nextTick(f,this,l),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(y){!g&&y?(i.nextTick(f,u,y),u._writableState&&(u._writableState.errorEmitted=!0)):g&&g(y)}),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(l,g){l.emit("error",g)}t.exports={destroy:s,undestroy:o}},{"process-nextick-args":95}],105:[function(e,t,n){t.exports=e("events").EventEmitter},{events:56}],106:[function(e,t,n){var i=e("safe-buffer").Buffer,s=i.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(T){if(!T)return"utf8";for(var E;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(E)return;T=(""+T).toLowerCase(),E=!0}}function f(T){var E=o(T);if(typeof E!="string"&&(i.isEncoding===s||!s(T)))throw new Error("Unknown encoding: "+T);return E||T}n.StringDecoder=l;function l(T){this.encoding=f(T);var E;switch(this.encoding){case"utf16le":this.text=R,this.end=O,E=4;break;case"utf8":this.fillLast=m,E=4;break;case"base64":this.text=P,this.end=C,E=3;break;default:this.write=_,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(E)}l.prototype.write=function(T){if(T.length===0)return"";var E,v;if(this.lastNeed){if(E=this.fillLast(T),E===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<T.length?E?E+this.text(T,v):this.text(T,v):E||""},l.prototype.end=c,l.prototype.text=y,l.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function g(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function u(T,E,v){var x=E.length-1;if(x<v)return 0;var Y=g(E[x]);return Y>=0?(Y>0&&(T.lastNeed=Y-1),Y):--x<v||Y===-2?0:(Y=g(E[x]),Y>=0?(Y>0&&(T.lastNeed=Y-2),Y):--x<v||Y===-2?0:(Y=g(E[x]),Y>=0?(Y>0&&(Y===2?Y=0:T.lastNeed=Y-3),Y):0))}function a(T,E,v){if((E[0]&192)!==128)return T.lastNeed=0,"";if(T.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return T.lastNeed=1,"";if(T.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return T.lastNeed=2,""}}function m(T){var E=this.lastTotal-this.lastNeed,v=a(this,T);if(v!==void 0)return v;if(this.lastNeed<=T.length)return T.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,E,0,T.length),this.lastNeed-=T.length}function y(T,E){var v=u(this,T,E);if(!this.lastNeed)return T.toString("utf8",E);this.lastTotal=v;var x=T.length-(v-this.lastNeed);return T.copy(this.lastChar,0,x),T.toString("utf8",E,x)}function c(T){var E=T&&T.length?this.write(T):"";return this.lastNeed?E+"":E}function R(T,E){if((T.length-E)%2===0){var v=T.toString("utf16le",E);if(v){var x=v.charCodeAt(v.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",E,T.length-1)}function O(T){var E=T&&T.length?this.write(T):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,v)}return E}function P(T,E){var v=(T.length-E)%3;return v===0?T.toString("base64",E):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",E,T.length-v))}function C(T){var E=T&&T.length?this.write(T):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(T){return T.toString(this.encoding)}function I(T){return T&&T.length?this.write(T):""}},{"safe-buffer":111}],107:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":108}],108:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":98,"./lib/_stream_passthrough.js":99,"./lib/_stream_readable.js":100,"./lib/_stream_transform.js":101,"./lib/_stream_writable.js":102}],109:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":108}],110:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":102}],111:[function(e,t,n){var i=e("buffer"),s=i.Buffer;function o(l,g){for(var u in l)g[u]=l[u]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=i:(o(i,n),n.Buffer=f);function f(l,g,u){return s(l,g,u)}o(s,f),f.from=function(l,g,u){if(typeof l=="number")throw new TypeError("Argument must not be a number");return s(l,g,u)},f.alloc=function(l,g,u){if(typeof l!="number")throw new TypeError("Argument must be a number");var a=s(l);return g!==void 0?typeof u=="string"?a.fill(g,u):a.fill(g):a.fill(0),a},f.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return s(l)},f.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:54}],112:[function(e,t,n){t.exports=o;var i=e("events").EventEmitter,s=e("inherits");s(o,i),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o;function o(){i.call(this)}o.prototype.pipe=function(f,l){var g=this;function u(P){f.writable&&f.write(P)===!1&&g.pause&&g.pause()}g.on("data",u);function a(){g.readable&&g.resume&&g.resume()}f.on("drain",a),!f._isStdio&&(!l||l.end!==!1)&&(g.on("end",y),g.on("close",c));var m=!1;function y(){m||(m=!0,f.end())}function c(){m||(m=!0,typeof f.destroy=="function"&&f.destroy())}function R(P){if(O(),i.listenerCount(this,"error")===0)throw P}g.on("error",R),f.on("error",R);function O(){g.removeListener("data",u),f.removeListener("drain",a),g.removeListener("end",y),g.removeListener("close",c),g.removeListener("error",R),f.removeListener("error",R),g.removeListener("end",O),g.removeListener("close",O),f.removeListener("close",O)}return g.on("end",O),g.on("close",O),f.on("close",O),f.emit("pipe",g),f}},{events:56,inherits:92,"readable-stream/duplex.js":97,"readable-stream/passthrough.js":107,"readable-stream/readable.js":108,"readable-stream/transform.js":109,"readable-stream/writable.js":110}],113:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function u(a,m){for(var y=0;y<m.length;y++){var c=m[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,m,y){return m&&u(a.prototype,m),y&&u(a,y),a}}(),s=e("./"),o=f(s);function f(u){return u&&u.__esModule?u:{default:u}}function l(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}var g=function(){function u(a,m){l(this,u),this.index=0,this.thaws=[],this.count=m||200,this.options=a}return i(u,[{key:"add",value:function(m){var y=this._next();return y.add(m),this}},{key:"addArray",value:function(m){var y=this._next();return y.addArray(m),this}},{key:"insert",value:function(m){var y=this._next();return y.insert(m),this}},{key:"insertArray",value:function(m){var y=this._next();return y.insertArray(m),this}},{key:"stop",value:function(){for(var m=0;m<this.thaws.length;m++)this.thaws[m].stop();return this}},{key:"_next",value:function(){var m=null,y=this.thaws;return y.length<this.count?y.push(m=new o.default([],this.options)):m=y[this.index],this.index++,this.index>=this.count&&(this.index=0),m}}]),u}();n.default=g},{"./":114}],114:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Block=void 0;var i=e("./thaw"),s=l(i),o=e("./block"),f=l(o);function l(g){return g&&g.__esModule?g:{default:g}}n.default=s.default,n.Block=f.default,typeof window<"u"&&(window.Thaw=s.default,window.Thaw.Block=f.default)},{"./block":113,"./thaw":115}],115:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(a){for(var m=1;m<arguments.length;m++){var y=arguments[m];for(var c in y)Object.prototype.hasOwnProperty.call(y,c)&&(a[c]=y[c])}return a},s=function(){function a(m,y){for(var c=0;c<y.length;c++){var R=y[c];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}return function(m,y,c){return y&&a(m.prototype,y),c&&a(m,c),m}}();n.thaw=u;function o(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}var f=!1,l=[],g=function(){s(a,null,[{key:"stopAll",value:function(){for(var y=0;y<l.length;y++)l[y].stop()}},{key:"defaultSettings",get:function(){return{each:null,done:null}}},{key:"isThawing",get:function(){return f}}]);function a(m){var y=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a);var R=i({},this.constructor.defaultSettings,c),O=R.each,P=R.done;this.items=m,this.i=0,this.options=c;var C=this.tick=function(){if(!(y.i<0)&&(y.timeout=setTimeout(C,0),!f)){var _=m[y.i];if(y.i>=m.length){P!==null&&(f=!0,P(_,y.i),f=!1),y.i=-1,clearTimeout(y.timeout);return}O!==null?(f=!0,O(_,y.i),f=!1):_!==void 0&&_(),y.i++}};l.push(this),c.delay||C()}return s(a,[{key:"makeReady",value:function(){return this.i<0?(this.i=this.items.length,!0):!1}},{key:"add",value:function(y){var c=this.makeReady();return this.items.push(y),c&&this.tick(),this}},{key:"insert",value:function(y){var c=this.makeReady();return this.items.splice(this.i,0,y),c&&this.tick(),this}},{key:"addArray",value:function(y){var c=this.makeReady();return this.items=this.items.concat(y),c&&this.tick(),this}},{key:"insertArray",value:function(y){var c=this.makeReady(),R=this.items,O=y,P=this.items.splice(this.i,this.items.length-this.i+1);return this.items=R.concat(O,P),c&&this.tick(),this}},{key:"stop",value:function(){return this.i=-1,clearTimeout(this.timeout),this.options.done&&this.options.done(),this}}]),a}();n.default=g;function u(a){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new g(a,m)}},{}],116:[function(e,t,n){(function(i,s){var o=e("process/browser.js").nextTick,f=Function.prototype.apply,l=Array.prototype.slice,g={},u=0;n.setTimeout=function(){return new a(f.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new a(f.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(m){m.close()};function a(m,y){this._id=m,this._clearFn=y}a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(m,y){clearTimeout(m._idleTimeoutId),m._idleTimeout=y},n.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},n._unrefActive=n.active=function(m){clearTimeout(m._idleTimeoutId);var y=m._idleTimeout;y>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},y))},n.setImmediate=typeof i=="function"?i:function(m){var y=u++,c=arguments.length<2?!1:l.call(arguments,1);return g[y]=!0,o(function(){g[y]&&(c?m.apply(null,c):m.call(null),n.clearImmediate(y))}),y},n.clearImmediate=typeof s=="function"?s:function(m){delete g[m]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":96,timers:116}],117:[function(e,t,n){(function(i){t.exports=s;function s(f,l){if(o("noDeprecation"))return f;var g=!1;function u(){if(!g){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),g=!0}return f.apply(this,arguments)}return u}function o(f){try{if(!i.localStorage)return!1}catch{return!1}var l=i.localStorage[f];return l==null?!1:String(l).toLowerCase()==="true"}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[51])(51)})})(browser);var browserExports=browser.exports;const brain=getDefaultExportFromCjs(browserExports),_export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},_withScopeId=e=>(pushScopeId("data-v-1675f155"),e=e(),popScopeId(),e),_hoisted_1={id:"last_round",class:"foo"},_hoisted_2={key:0},_hoisted_3={key:1},_hoisted_4={id:"scores"},_hoisted_5={style:{color:"hsl(120deg 30% 50%)","font-size":"20vmin"}},_hoisted_6=_withScopeId(()=>createBaseVNode("span",{style:{color:"hsl(0deg 0% 70%)","font-size":"20vmin"}},":",-1)),_hoisted_7={style:{color:"hsl(0deg 0% 50%)","font-size":"20vmin"}},_hoisted_8=_withScopeId(()=>createBaseVNode("span",{style:{color:"hsl(0deg 0% 70%)","font-size":"20vmin"}},":",-1)),_hoisted_9={style:{color:"hsl(240deg 30% 50%)","font-size":"20vmin"}},_hoisted_10={id:"player",class:"foo"},_hoisted_11=["onClick"],_hoisted_12={id:"computer",class:"foo"},_hoisted_13=_withScopeId(()=>createBaseVNode("div",{style:{"flex-grow":"1"}},null,-1)),_sfc_main={__name:"App",setup(e){const t=ref([]),n=new brain.recurrent.LSTMTimeStep({inputSize:3,hiddenLayers:[20],outputSize:3}),i=ref(0),s=ref(0),o=ref(1),f=ref(!1);async function l(y){if(f.value)return;const c=m.value;i.value=y,s.value=c,o.value=[[1,2,0],[0,1,2],[2,0,1]][y][c],g.value[o.value]+=1,console.log(i.value,s.value),f.value=!0,await nextTick(),setTimeout(()=>{const R=[...Array(3).keys()].map(O=>1*(O==y));t.value.push(R),t.value=t.value.slice(-10),f.value=!1},100)}const g=ref([0,0,0]),u=computed(()=>{if(f.value)return[0,0,0];if(t.value.length<2)return[.3,.3,.3];n.train(t.value);const c=n.run(t.value).map(O=>Math.max(0,O)),R=c.reduce((O,P)=>O+P);return c.map(O=>O/R)}),a=computed(()=>{const y=u.value;return[y[2]-y[1],y[0]-y[2],y[1]-y[0]]}),m=computed(()=>{const y=a.value;return y[0]>y[1]?y[0]>y[2]?0:2:y[1]>y[2]?1:2});return(y,c)=>(openBlock(),createElementBlock("main",null,[createBaseVNode("div",_hoisted_1,[t.value.length?(openBlock(),createElementBlock("div",_hoisted_2,[createVNode(_sfc_main$1,{"hand-id":i.value,hue:120,size:"30vmin",saturation:o.value==0?50:20},null,8,["hand-id","saturation"]),createVNode(_sfc_main$1,{"hand-id":s.value,hue:240,size:"30vmin",saturation:o.value==2?50:20},null,8,["hand-id","saturation"])])):(openBlock(),createElementBlock("div",_hoisted_3,[(openBlock(),createElementBlock(Fragment,null,renderList(3,(R,O)=>createVNode(_sfc_main$1,{"hand-id":O,hue:120,size:"30vmin",saturation:0},null,8,["hand-id"])),64))]))]),createBaseVNode("div",_hoisted_4,[createBaseVNode("span",_hoisted_5,toDisplayString(g.value[0]),1),_hoisted_6,createBaseVNode("span",_hoisted_7,toDisplayString(g.value[1]),1),_hoisted_8,createBaseVNode("span",_hoisted_9,toDisplayString(g.value[2]),1)]),createBaseVNode("div",_hoisted_10,[(openBlock(),createElementBlock(Fragment,null,renderList(3,(R,O)=>createBaseVNode("div",{onClick:P=>l(O),key:O},[createVNode(_sfc_main$1,{"hand-id":O,hue:120,saturation:O==i.value?40:20,lightness:f.value?70:50},null,8,["hand-id","saturation","lightness"])],8,_hoisted_11)),64))]),createBaseVNode("div",_hoisted_12,[(openBlock(),createElementBlock(Fragment,null,renderList(3,(R,O)=>createBaseVNode("div",{key:O},[createVNode(_sfc_main$1,{"hand-id":O,hue:30,saturation:u.value[O]*100},null,8,["hand-id","saturation"])])),64)),_hoisted_13,createBaseVNode("div",null,[createVNode(_sfc_main$1,{"hand-id":m.value,hue:240,saturation:f.value?10:50},null,8,["hand-id","saturation"])])])]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-1675f155"]]);function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty$1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _iterableToArrayLimit(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,o=!1,f,l;try{for(n=n.call(e);!(s=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));s=!0);}catch(g){o=!0,l=g}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return i}}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop=function e(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(e){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$1(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),_defineProperty$1(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$1(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$1(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$1(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$1(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$1(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$1(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$1(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$1(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(e){return"".concat(e,"x")})).concat(oneToTwenty.map(function(e){return"w-".concat(e)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(e){var t=DOCUMENT.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function coerce(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],s=coerce(getAttrConfig(n));s!=null&&(initial[i]=s)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(e){Object.defineProperty(config,e,{enumerable:!0,set:function(n){_config[e]=n,_onChangeCb.forEach(function(i){return i(config)})},get:function(){return _config[e]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function e(t){_config.cssPrefix=t,_onChangeCb.forEach(function(n){return n(config)})},get:function e(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(e){return _onChangeCb.push(e),function(){_onChangeCb.splice(_onChangeCb.indexOf(e),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(e){if(!(!e||!IS_DOM)){var t=DOCUMENT.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=DOCUMENT.head.childNodes,i=null,s=n.length-1;s>-1;s--){var o=n[s],f=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(i=o)}return DOCUMENT.head.insertBefore(t,i),e}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var e=12,t="";e-- >0;)t+=idPool[Math.random()*62|0];return t}function toArray(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function classArray(e){return e.classList?toArray(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function htmlEscape(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(htmlEscape(e[n]),'" ')},"").trim()}function joinStyles(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function transformIsMeaningful(e){return e.size!==meaninglessTransform.size||e.x!==meaninglessTransform.x||e.y!==meaninglessTransform.y||e.rotate!==meaninglessTransform.rotate||e.flipX||e.flipY}function transformForSvg(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),f="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),g={transform:"".concat(o," ").concat(f," ").concat(l)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:g,path:u}}function transformForCss(e){var t=e.transform,n=e.width,i=n===void 0?UNITS_IN_GRID:n,s=e.height,o=s===void 0?UNITS_IN_GRID:s,f=e.startCentered,l=f===void 0?!1:f,g="";return l&&IS_IE?g+="translate(".concat(t.x/d-i/2,"em, ").concat(t.y/d-o/2,"em) "):l?g+="translate(calc(-50% + ".concat(t.x/d,"em), calc(-50% + ").concat(t.y/d,"em)) "):g+="translate(".concat(t.x/d,"em, ").concat(t.y/d,"em) "),g+="scale(".concat(t.size/d*(t.flipX?-1:1),", ").concat(t.size/d*(t.flipY?-1:1),") "),g+="rotate(".concat(t.rotate,"deg) "),g}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var e=DEFAULT_CSS_PREFIX,t=DEFAULT_REPLACEMENT_CLASS,n=config.cssPrefix,i=config.replacementClass,s=baseStyles;if(n!==e||i!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),f=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");s=s.replace(o,".".concat(n,"-")).replace(f,"--".concat(n,"-")).replace(l,".".concat(i))}return s}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function e(){return{dom:{css,insertCss:ensureCss}}},hooks:function e(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function e(){DOCUMENT.removeEventListener("DOMContentLoaded",e),loaded=1,functions.map(function(t){return t()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(e){IS_DOM&&(loaded?setTimeout(e,0):functions.push(e))}function toHtml(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,s=e.children,o=s===void 0?[]:s;return typeof e=="string"?htmlEscape(e):"<".concat(t," ").concat(joinAttributes(i),">").concat(o.map(toHtml).join(""),"</").concat(t,">")}function iconFromMapping(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var bindInternal4=function e(t,n){return function(i,s,o,f){return t.call(n,i,s,o,f)}},reduce=function e(t,n,i,s){var o=Object.keys(t),f=o.length,l=s!==void 0?bindInternal4(n,s):n,g,u,a;for(i===void 0?(g=1,a=t[o[0]]):(g=0,a=i);g<f;g++)u=o[g],a=l(a,t[u],u,t);return a};function ucs2decode(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var o=e.charCodeAt(n++);(o&64512)==56320?t.push(((s&1023)<<10)+(o&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function toHex(e){var t=ucs2decode(e);return t.length===1?t[0].toString(16):null}function codePointAt(e,t){var n=e.length,i=e.charCodeAt(t),s;return i>=55296&&i<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function normalizeIcons(e){return Object.keys(e).reduce(function(t,n){var i=e[n],s=!!i.icon;return s?t[i.iconName]=i.icon:t[n]=i,t},{})}function defineIcons(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,s=i===void 0?!1:i,o=normalizeIcons(t);typeof namespace.hooks.addPack=="function"&&!s?namespace.hooks.addPack(e,normalizeIcons(t)):namespace.styles[e]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[e]||{}),o),e==="fas"&&defineIcons("fa",t)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$1(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$1(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(e){return~RESERVED_CLASSES.indexOf(e)}function getIconName(e,t){var n=t.split("-"),i=n[0],s=n.slice(1).join("-");return i===e&&s!==""&&!isReserved(s)?s:null}var build=function e(){var t=function(o){return reduce(styles,function(f,l,g){return f[g]=reduce(l,o,{}),f},{})};_byUnicode=t(function(s,o,f){if(o[3]&&(s[o[3]]=f),o[2]){var l=o[2].filter(function(g){return typeof g=="number"});l.forEach(function(g){s[g.toString(16)]=f})}return s}),_byLigature=t(function(s,o,f){if(s[f]=f,o[2]){var l=o[2].filter(function(g){return typeof g=="string"});l.forEach(function(g){s[g]=f})}return s}),_byAlias=t(function(s,o,f){var l=o[2];return s[f]=f,l.forEach(function(g){s[g]=f}),s});var n="far"in styles||config.autoFetchSvg,i=reduce(shims,function(s,o){var f=o[0],l=o[1],g=o[2];return l==="far"&&!n&&(l="fas"),typeof f=="string"&&(s.names[f]={prefix:l,iconName:g}),typeof f=="number"&&(s.unicodes[f.toString(16)]={prefix:l,iconName:g}),s},{names:{},unicodes:{}});_byOldName=i.names,_byOldUnicode=i.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(e){_defaultUsablePrefix=getCanonicalPrefix(e.styleDefault,{family:config.familyDefault})});build();function byUnicode(e,t){return(_byUnicode[e]||{})[t]}function byLigature(e,t){return(_byLigature[e]||{})[t]}function byAlias(e,t){return(_byAlias[e]||{})[t]}function byOldName(e){return _byOldName[e]||{prefix:null,iconName:null}}function byOldUnicode(e){var t=_byOldUnicode[e],n=byUnicode("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function e(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?FAMILY_CLASSIC:n,s=PREFIX_TO_STYLE[i][e],o=STYLE_TO_PREFIX[i][e]||STYLE_TO_PREFIX[i][s],f=e in namespace.styles?e:null;return o||f||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,s=i===void 0?!1:i,o=(t={},_defineProperty$1(t,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$1(t,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),t),f=null,l=FAMILY_CLASSIC;(e.includes(o[FAMILY_CLASSIC])||e.some(function(u){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(u)}))&&(l=FAMILY_CLASSIC),(e.includes(o[FAMILY_SHARP])||e.some(function(u){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(u)}))&&(l=FAMILY_SHARP);var g=e.reduce(function(u,a){var m=getIconName(config.cssPrefix,a);if(styles[a]?(a=LONG_STYLE[l].includes(a)?LONG_STYLE_TO_PREFIX[l][a]:a,f=a,u.prefix=a):PREFIXES[l].indexOf(a)>-1?(f=a,u.prefix=getCanonicalPrefix(a,{family:l})):m?u.iconName=m:a!==config.replacementClass&&a!==o[FAMILY_CLASSIC]&&a!==o[FAMILY_SHARP]&&u.rest.push(a),!s&&u.prefix&&u.iconName){var y=f==="fa"?byOldName(u.iconName):{},c=byAlias(u.prefix,u.iconName);y.prefix&&(f=null),u.iconName=y.iconName||c||u.iconName,u.prefix=y.prefix||u.prefix,u.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(u.prefix="fas")}return u},emptyCanonicalIcon());return(e.includes("fa-brands")||e.includes("fab"))&&(g.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(g.prefix="fad"),!g.prefix&&l===FAMILY_SHARP&&(styles.fass||config.autoFetchSvg)&&(g.prefix="fass",g.iconName=byAlias(g.prefix,g.iconName)||g.iconName),(g.prefix==="fa"||f==="fa")&&(g.prefix=getDefaultUsablePrefix()||"fas"),g}var Library=function(){function e(){_classCallCheck(this,e),this.definitions={}}return _createClass(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var f=s.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(l){n.definitions[l]=_objectSpread2$1(_objectSpread2$1({},n.definitions[l]||{}),f[l]),defineIcons(l,f[l]);var g=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][l];g&&defineIcons(g,f[l]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(o){var f=s[o],l=f.prefix,g=f.iconName,u=f.icon,a=u[2];n[l]||(n[l]={}),a.length>0&&a.forEach(function(m){typeof m=="string"&&(n[l][m]=u)}),n[l][g]=u}),n}}]),e}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(e,t){var n=t.mixoutsTo;return _plugins=e,_hooks={},Object.keys(providers).forEach(function(i){defaultProviderKeys.indexOf(i)===-1&&delete providers[i]}),_plugins.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(f){typeof s[f]=="function"&&(n[f]=s[f]),_typeof$1(s[f])==="object"&&Object.keys(s[f]).forEach(function(l){n[f]||(n[f]={}),n[f][l]=s[f][l]})}),i.hooks){var o=i.hooks();Object.keys(o).forEach(function(f){_hooks[f]||(_hooks[f]=[]),_hooks[f].push(o[f])})}i.provides&&i.provides(providers)}),n}function chainHooks(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=_hooks[e]||[];return o.forEach(function(f){t=f.apply(null,[t].concat(i))}),t}function callHooks(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=_hooks[e]||[];s.forEach(function(o){o.apply(null,n)})}function callProvided(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return providers[e]?providers[e].apply(null,t):void 0}function findIconDefinition(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||getDefaultUsablePrefix();if(t)return t=byAlias(n,t)||t,iconFromMapping(library.definitions,n,t)||iconFromMapping(namespace.styles,n,t)}var library=new Library,noAuto=function e(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",t),callProvided("pseudoElements2svg",t),callProvided("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:n}),callHooks("watch",t)})}},parse={icon:function e(t){if(t===null)return null;if(_typeof$1(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:byAlias(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=getCanonicalPrefix(t[0]);return{prefix:i,iconName:byAlias(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(config.cssPrefix,"-"))>-1||t.match(ICON_SELECTION_SYNTAX_PATTERN))){var s=getCanonicalIcon(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||getDefaultUsablePrefix(),iconName:byAlias(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var o=getDefaultUsablePrefix();return{prefix:o,iconName:byAlias(o,t)||t}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?DOCUMENT:n;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:i})};function domVariants(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return toHtml(i)})}}),Object.defineProperty(e,"node",{get:function(){if(IS_DOM){var i=DOCUMENT.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function asIcon(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,o=e.styles,f=e.transform;if(transformIsMeaningful(f)&&n.found&&!i.found){var l=n.width,g=n.height,u={x:l/g/2,y:.5};s.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},o),{},{"transform-origin":"".concat(u.x+f.x/16,"em ").concat(u.y+f.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function asSymbol(e){var t=e.prefix,n=e.iconName,i=e.children,s=e.attributes,o=e.symbol,f=o===!0?"".concat(t,"-").concat(config.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},s),{},{id:f}),children:i}]}]}function makeInlineSvgAbstract(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,o=e.iconName,f=e.transform,l=e.symbol,g=e.title,u=e.maskId,a=e.titleId,m=e.extra,y=e.watchable,c=y===void 0?!1:y,R=i.found?i:n,O=R.width,P=R.height,C=s==="fak",_=[config.replacementClass,o?"".concat(config.cssPrefix,"-").concat(o):""].filter(function(re){return m.classes.indexOf(re)===-1}).filter(function(re){return re!==""||!!re}).concat(m.classes).join(" "),I={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},m.attributes),{},{"data-prefix":s,"data-icon":o,class:_,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(O," ").concat(P)})},T=C&&!~m.classes.indexOf("fa-fw")?{width:"".concat(O/P*16*.0625,"em")}:{};c&&(I.attributes[DATA_FA_I2SVG]=""),g&&(I.children.push({tag:"title",attributes:{id:I.attributes["aria-labelledby"]||"title-".concat(a||nextUniqueId())},children:[g]}),delete I.attributes.title);var E=_objectSpread2$1(_objectSpread2$1({},I),{},{prefix:s,iconName:o,main:n,mask:i,maskId:u,transform:f,symbol:l,styles:_objectSpread2$1(_objectSpread2$1({},T),m.styles)}),v=i.found&&n.found?callProvided("generateAbstractMask",E)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",E)||{children:[],attributes:{}},x=v.children,Y=v.attributes;return E.children=x,E.attributes=Y,l?asSymbol(E):asIcon(E)}function makeLayersTextAbstract(e){var t=e.content,n=e.width,i=e.height,s=e.transform,o=e.title,f=e.extra,l=e.watchable,g=l===void 0?!1:l,u=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},f.attributes),o?{title:o}:{}),{},{class:f.classes.join(" ")});g&&(u[DATA_FA_I2SVG]="");var a=_objectSpread2$1({},f.styles);transformIsMeaningful(s)&&(a.transform=transformForCss({transform:s,startCentered:!0,width:n,height:i}),a["-webkit-transform"]=a.transform);var m=joinStyles(a);m.length>0&&(u.style=m);var y=[];return y.push({tag:"span",attributes:u,children:[t]}),o&&y.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),y}function makeLayersCounterAbstract(e){var t=e.content,n=e.title,i=e.extra,s=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),o=joinStyles(i.styles);o.length>0&&(s.style=o);var f=[];return f.push({tag:"span",attributes:s,children:[t]}),n&&f.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),f}var styles$1=namespace.styles;function asFoundIcon(e){var t=e[0],n=e[1],i=e.slice(4),s=_slicedToArray(i,1),o=s[0],f=null;return Array.isArray(o)?f={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:o[1]}}]}:f={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:n,icon:f}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(e,t){!PRODUCTION$1&&!config.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function findIcon(e,t){var n=t;return t==="fa"&&config.styleDefault!==null&&(t=getDefaultUsablePrefix()),new Promise(function(i,s){if(callProvided("missingIconAbstract"),n==="fa"){var o=byOldName(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&styles$1[t]&&styles$1[t][e]){var f=styles$1[t][e];return i(asFoundIcon(f))}maybeNotifyMissing(e,t),i(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&e?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1=function e(){},p=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.5.1"',begin=function e(t){return p.mark("".concat(preamble," ").concat(t," begins")),function(){return end(t)}},end=function e(t){p.mark("".concat(preamble," ").concat(t," ends")),p.measure("".concat(preamble," ").concat(t),"".concat(preamble," ").concat(t," begins"),"".concat(preamble," ").concat(t," ends"))},perf={begin,end},noop$2=function e(){};function isWatched(e){var t=e.getAttribute?e.getAttribute(DATA_FA_I2SVG):null;return typeof t=="string"}function hasPrefixAndIcon(e){var t=e.getAttribute?e.getAttribute(DATA_PREFIX):null,n=e.getAttribute?e.getAttribute(DATA_ICON):null;return t&&n}function hasBeenReplaced(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var e=mutators[config.autoReplaceSvg];return e||mutators.replace}function createElementNS(e){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",e)}function createElement(e){return DOCUMENT.createElement(e)}function convertSVG(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?createElementNS:createElement:n;if(typeof e=="string")return DOCUMENT.createTextNode(e);var s=i(e.tag);Object.keys(e.attributes||[]).forEach(function(f){s.setAttribute(f,e.attributes[f])});var o=e.children||[];return o.forEach(function(f){s.appendChild(convertSVG(f,{ceFn:i}))}),s}function nodeAsComment(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var mutators={replace:function e(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(s){n.parentNode.insertBefore(convertSVG(s),n)}),n.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var i=DOCUMENT.createComment(nodeAsComment(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function e(t){var n=t[0],i=t[1];if(~classArray(n).indexOf(config.replacementClass))return mutators.replace(t);var s=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var o=i[0].attributes.class.split(" ").reduce(function(l,g){return g===config.replacementClass||g.match(s)?l.toSvg.push(g):l.toNode.push(g),l},{toNode:[],toSvg:[]});i[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var f=i.map(function(l){return toHtml(l)}).join(`
`);n.setAttribute(DATA_FA_I2SVG,""),n.innerHTML=f}};function performOperationSync(e){e()}function perform(e,t){var n=typeof t=="function"?t:noop$2;if(e.length===0)n();else{var i=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(i=WINDOW.requestAnimationFrame||performOperationSync),i(function(){var s=getMutator(),o=perf.begin("mutate");e.map(s),o(),n()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(e){if(MUTATION_OBSERVER&&config.observeMutations){var t=e.treeCallback,n=t===void 0?noop$2:t,i=e.nodeCallback,s=i===void 0?noop$2:i,o=e.pseudoElementsCallback,f=o===void 0?noop$2:o,l=e.observeMutationsRoot,g=l===void 0?DOCUMENT:l;mo=new MUTATION_OBSERVER(function(u){if(!disabled){var a=getDefaultUsablePrefix();toArray(u).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!isWatched(m.addedNodes[0])&&(config.searchPseudoElements&&f(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&config.searchPseudoElements&&f(m.target.parentNode),m.type==="attributes"&&isWatched(m.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(m.attributeName))if(m.attributeName==="class"&&hasPrefixAndIcon(m.target)){var y=getCanonicalIcon(classArray(m.target)),c=y.prefix,R=y.iconName;m.target.setAttribute(DATA_PREFIX,c||a),R&&m.target.setAttribute(DATA_ICON,R)}else hasBeenReplaced(m.target)&&s(m.target)})}}),IS_DOM&&mo.observe(g,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,s){var o=s.split(":"),f=o[0],l=o.slice(1);return f&&l.length>0&&(i[f]=l.join(":").trim()),i},{})),n}function classParser(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",s=getCanonicalIcon(classArray(e));return s.prefix||(s.prefix=getDefaultUsablePrefix()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=byLigature(s.prefix,e.innerText)||byUnicode(s.prefix,toHex(e.innerText))),!s.iconName&&config.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function attributesParser(e){var t=toArray(e.attributes).reduce(function(s,o){return s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return config.autoA11y&&(n?t["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(i||nextUniqueId()):(t["aria-hidden"]="true",t.focusable="false")),t}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=classParser(e),i=n.iconName,s=n.prefix,o=n.rest,f=attributesParser(e),l=chainHooks("parseNodeAttributes",{},e),g=t.styleParser?styleParser(e):[];return _objectSpread2$1({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:g,attributes:f}},l)}var styles$2=namespace.styles;function generateMutation(e){var t=config.autoReplaceSvg==="nest"?parseMeta(e,{styleParser:!1}):parseMeta(e);return~t.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",e,t):callProvided("generateSvgReplacementMutation",e,t)}var knownPrefixes=new Set;FAMILIES.map(function(e){knownPrefixes.add("fa-".concat(e))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray(knownPrefixes);function onTree(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var n=DOCUMENT.documentElement.classList,i=function(m){return n.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(m))},s=function(m){return n.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(m))},o=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(a){return"fa-".concat(a)}).concat(Object.keys(styles$2));o.includes("fa")||o.push("fa");var f=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(o.map(function(a){return".".concat(a,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if(f.length===0)return Promise.resolve();var l=[];try{l=toArray(e.querySelectorAll(f))}catch{}if(l.length>0)i("pending"),s("complete");else return Promise.resolve();var g=perf.begin("onTree"),u=l.reduce(function(a,m){try{var y=generateMutation(m);y&&a.push(y)}catch(c){PRODUCTION$1||c.name==="MissingIcon"&&console.error(c)}return a},[]);return new Promise(function(a,m){Promise.all(u).then(function(y){perform(y,function(){i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),g(),a()})}).catch(function(y){g(),m(y)})})}function onNode(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(e).then(function(n){n&&perform([n],t)})}function resolveIcons(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:findIconDefinition(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:findIconDefinition(s||{})),e(i,_objectSpread2$1(_objectSpread2$1({},n),{},{mask:s}))}}var render=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?meaninglessTransform:i,o=n.symbol,f=o===void 0?!1:o,l=n.mask,g=l===void 0?null:l,u=n.maskId,a=u===void 0?null:u,m=n.title,y=m===void 0?null:m,c=n.titleId,R=c===void 0?null:c,O=n.classes,P=O===void 0?[]:O,C=n.attributes,_=C===void 0?{}:C,I=n.styles,T=I===void 0?{}:I;if(t){var E=t.prefix,v=t.iconName,x=t.icon;return domVariants(_objectSpread2$1({type:"icon"},t),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:t,params:n}),config.autoA11y&&(y?_["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(R||nextUniqueId()):(_["aria-hidden"]="true",_.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(x),mask:g?asFoundIcon(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:v,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),s),symbol:f,title:y,maskId:a,titleId:R,extra:{attributes:_,styles:T,classes:P}})})}},ReplaceElements={mixout:function e(){return{icon:resolveIcons(render)}},hooks:function e(){return{mutationObserverCallbacks:function(n){return n.treeCallback=onTree,n.nodeCallback=onNode,n}}},provides:function e(t){t.i2svg=function(n){var i=n.node,s=i===void 0?DOCUMENT:i,o=n.callback,f=o===void 0?function(){}:o;return onTree(s,f)},t.generateSvgReplacementMutation=function(n,i){var s=i.iconName,o=i.title,f=i.titleId,l=i.prefix,g=i.transform,u=i.symbol,a=i.mask,m=i.maskId,y=i.extra;return new Promise(function(c,R){Promise.all([findIcon(s,l),a.iconName?findIcon(a.iconName,a.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(O){var P=_slicedToArray(O,2),C=P[0],_=P[1];c([n,makeInlineSvgAbstract({icons:{main:C,mask:_},prefix:l,iconName:s,transform:g,symbol:u,maskId:m,title:o,titleId:f,extra:y,watchable:!0})])}).catch(R)})},t.generateAbstractIcon=function(n){var i=n.children,s=n.attributes,o=n.main,f=n.transform,l=n.styles,g=joinStyles(l);g.length>0&&(s.style=g);var u;return transformIsMeaningful(f)&&(u=callProvided("generateAbstractTransformGrouping",{main:o,transform:f,containerWidth:o.width,iconWidth:o.width})),i.push(u||o.icon),{children:i,attributes:s}}}},Layers={mixout:function e(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,o=s===void 0?[]:s;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:n,params:i});var f=[];return n(function(l){Array.isArray(l)?l.map(function(g){f=f.concat(g.abstract)}):f=f.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray(o)).join(" ")},children:f}]})}}}},LayersCounter={mixout:function e(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,o=s===void 0?null:s,f=i.classes,l=f===void 0?[]:f,g=i.attributes,u=g===void 0?{}:g,a=i.styles,m=a===void 0?{}:a;return domVariants({type:"counter",content:n},function(){return callHooks("beforeDOMElementCreation",{content:n,params:i}),makeLayersCounterAbstract({content:n.toString(),title:o,extra:{attributes:u,styles:m,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray(l))}})})}}}},LayersText={mixout:function e(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,o=s===void 0?meaninglessTransform:s,f=i.title,l=f===void 0?null:f,g=i.classes,u=g===void 0?[]:g,a=i.attributes,m=a===void 0?{}:a,y=i.styles,c=y===void 0?{}:y;return domVariants({type:"text",content:n},function(){return callHooks("beforeDOMElementCreation",{content:n,params:i}),makeLayersTextAbstract({content:n,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),o),title:l,extra:{attributes:m,styles:c,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray(u))}})})}}},provides:function e(t){t.generateLayersText=function(n,i){var s=i.title,o=i.transform,f=i.extra,l=null,g=null;if(IS_IE){var u=parseInt(getComputedStyle(n).fontSize,10),a=n.getBoundingClientRect();l=a.width/u,g=a.height/u}return config.autoA11y&&!s&&(f.attributes["aria-hidden"]="true"),Promise.resolve([n,makeLayersTextAbstract({content:n.innerHTML,width:l,height:g,transform:o,title:s,extra:f,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(e){var t=e.replace(CLEAN_CONTENT_PATTERN,""),n=codePointAt(t,0),i=n>=SECONDARY_UNICODE_RANGE[0]&&n<=SECONDARY_UNICODE_RANGE[1],s=t.length===2?t[0]===t[1]:!1;return{value:toHex(s?t[0]:t),isSecondary:i||s}}function replaceForPosition(e,t){var n="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(t.replace(":","-"));return new Promise(function(i,s){if(e.getAttribute(n)!==null)return i();var o=toArray(e.children),f=o.filter(function(x){return x.getAttribute(DATA_FA_PSEUDO_ELEMENT)===t})[0],l=WINDOW.getComputedStyle(e,t),g=l.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),u=l.getPropertyValue("font-weight"),a=l.getPropertyValue("content");if(f&&!g)return e.removeChild(f),i();if(g&&a!=="none"&&a!==""){var m=l.getPropertyValue("content"),y=~["Sharp"].indexOf(g[2])?FAMILY_SHARP:FAMILY_CLASSIC,c=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(g[2])?STYLE_TO_PREFIX[y][g[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[y][u],R=hexValueFromContent(m),O=R.value,P=R.isSecondary,C=g[0].startsWith("FontAwesome"),_=byUnicode(c,O),I=_;if(C){var T=byOldUnicode(O);T.iconName&&T.prefix&&(_=T.iconName,c=T.prefix)}if(_&&!P&&(!f||f.getAttribute(DATA_PREFIX)!==c||f.getAttribute(DATA_ICON)!==I)){e.setAttribute(n,I),f&&e.removeChild(f);var E=blankMeta(),v=E.extra;v.attributes[DATA_FA_PSEUDO_ELEMENT]=t,findIcon(_,c).then(function(x){var Y=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},E),{},{icons:{main:x,mask:emptyCanonicalIcon()},prefix:c,iconName:I,extra:v,watchable:!0})),re=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(re,e.firstChild):e.appendChild(re),re.outerHTML=Y.map(function(ce){return toHtml(ce)}).join(`
`),e.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function replace2(e){return Promise.all([replaceForPosition(e,"::before"),replaceForPosition(e,"::after")])}function processable(e){return e.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function searchPseudoElements(e){if(IS_DOM)return new Promise(function(t,n){var i=toArray(e.querySelectorAll("*")).filter(processable).map(replace2),s=perf.begin("searchPseudoElements");disableObservation(),Promise.all(i).then(function(){s(),enableObservation(),t()}).catch(function(){s(),enableObservation(),n()})})}var PseudoElements={hooks:function e(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=searchPseudoElements,n}}},provides:function e(t){t.pseudoElements2svg=function(n){var i=n.node,s=i===void 0?DOCUMENT:i;config.searchPseudoElements&&searchPseudoElements(s)}}},_unwatched=!1,MutationObserver$1={mixout:function e(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function e(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(n){var i=n.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},parseTransformString=function e(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,s){var o=s.toLowerCase().split("-"),f=o[0],l=o.slice(1).join("-");if(f&&l==="h")return i.flipX=!0,i;if(f&&l==="v")return i.flipY=!0,i;if(l=parseFloat(l),isNaN(l))return i;switch(f){case"grow":i.size=i.size+l;break;case"shrink":i.size=i.size-l;break;case"left":i.x=i.x-l;break;case"right":i.x=i.x+l;break;case"up":i.y=i.y-l;break;case"down":i.y=i.y+l;break;case"rotate":i.rotate=i.rotate+l;break}return i},n)},PowerTransforms={mixout:function e(){return{parse:{transform:function(n){return parseTransformString(n)}}}},hooks:function e(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-transform");return s&&(n.transform=parseTransformString(s)),n}}},provides:function e(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,s=n.transform,o=n.containerWidth,f=n.iconWidth,l={transform:"translate(".concat(o/2," 256)")},g="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),a="rotate(".concat(s.rotate," 0 0)"),m={transform:"".concat(g," ").concat(u," ").concat(a)},y={transform:"translate(".concat(f/2*-1," -256)")},c={outer:l,inner:m,path:y};return{tag:"g",attributes:_objectSpread2$1({},c.outer),children:[{tag:"g",attributes:_objectSpread2$1({},c.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},i.icon.attributes),c.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function deGroup(e){return e.tag==="g"?e.children:[e]}var Masks={hooks:function e(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-mask"),o=s?getCanonicalIcon(s.split(" ").map(function(f){return f.trim()})):emptyCanonicalIcon();return o.prefix||(o.prefix=getDefaultUsablePrefix()),n.mask=o,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function e(t){t.generateAbstractMask=function(n){var i=n.children,s=n.attributes,o=n.main,f=n.mask,l=n.maskId,g=n.transform,u=o.width,a=o.icon,m=f.width,y=f.icon,c=transformForSvg({transform:g,containerWidth:m,iconWidth:u}),R={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},O=a.children?{children:a.children.map(fillBlack)}:{},P={tag:"g",attributes:_objectSpread2$1({},c.inner),children:[fillBlack(_objectSpread2$1({tag:a.tag,attributes:_objectSpread2$1(_objectSpread2$1({},a.attributes),c.path)},O))]},C={tag:"g",attributes:_objectSpread2$1({},c.outer),children:[P]},_="mask-".concat(l||nextUniqueId()),I="clip-".concat(l||nextUniqueId()),T={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,C]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:I},children:deGroup(y)},T]};return i.push(E,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(I,")"),mask:"url(#".concat(_,")")},ALL_SPACE)}),{children:i,attributes:s}}}},MissingIconIndicator={provides:function e(t){var n=!1;WINDOW.matchMedia&&(n=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=_objectSpread2$1(_objectSpread2$1({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},f),{},{values:"1;0;1;1;0;1;"})}),i.push(l),i.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},f),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},SvgSymbols={hooks:function e(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-symbol"),o=s===null?!1:s===""?!0:s;return n.symbol=o,n}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;var library$1=api.library;api.dom;var parse$1=api.parse;api.findIconDefinition;api.toHtml;var icon2=api.icon;api.layer;api.text;api.counter;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _objectWithoutProperties(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose(e,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function _toPrimitive(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:String(t)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},humps$1={exports:{}};(function(e){(function(t){var n=function(C,_,I){if(!u(_)||m(_)||y(_)||c(_)||g(_))return _;var T,E=0,v=0;if(a(_))for(T=[],v=_.length;E<v;E++)T.push(n(C,_[E],I));else{T={};for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(T[C(x,I)]=n(C,_[x],I))}return T},i=function(C,_){_=_||{};var I=_.separator||"_",T=_.split||/(?=[A-Z])/;return C.split(T).join(I)},s=function(C){return R(C)?C:(C=C.replace(/[\-_\s]+(.)?/g,function(_,I){return I?I.toUpperCase():""}),C.substr(0,1).toLowerCase()+C.substr(1))},o=function(C){var _=s(C);return _.substr(0,1).toUpperCase()+_.substr(1)},f=function(C,_){return i(C,_).toLowerCase()},l=Object.prototype.toString,g=function(C){return typeof C=="function"},u=function(C){return C===Object(C)},a=function(C){return l.call(C)=="[object Array]"},m=function(C){return l.call(C)=="[object Date]"},y=function(C){return l.call(C)=="[object RegExp]"},c=function(C){return l.call(C)=="[object Boolean]"},R=function(C){return C=C-0,C===C},O=function(C,_){var I=_&&"process"in _?_.process:_;return typeof I!="function"?C:function(T,E){return I(T,C,E)}},P={camelize:s,decamelize:f,pascalize:o,depascalize:f,camelizeKeys:function(C,_){return n(O(s,_),C)},decamelizeKeys:function(C,_){return n(O(f,_),C,_)},pascalizeKeys:function(C,_){return n(O(o,_),C)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=P:t.humps=P})(commonjsGlobal)})(humps$1);var humps=humps$1.exports,_excluded=["class","style"];function styleToObject(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),s=humps.camelize(n.slice(0,i)),o=n.slice(i+1).trim();return t[s]=o,t},{})}function classToObject(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function convert(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(g){return convert(g)}),s=Object.keys(e.attributes||{}).reduce(function(g,u){var a=e.attributes[u];switch(u){case"class":g.class=classToObject(a);break;case"style":g.style=styleToObject(a);break;default:g.attrs[u]=a}return g},{attrs:{},class:{},style:{}});n.class;var o=n.style,f=o===void 0?{}:o,l=_objectWithoutProperties(n,_excluded);return h(e.tag,_objectSpread2(_objectSpread2(_objectSpread2({},t),{},{class:s.class,style:_objectSpread2(_objectSpread2({},s.style),f)},s.attrs),l),i)}var PRODUCTION=!1;try{PRODUCTION=!0}catch(e){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function objectWithKey(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?_defineProperty({},e,t):{}}function classList(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},_defineProperty(t,"fa-".concat(e.size),e.size!==null),_defineProperty(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),_defineProperty(t,"fa-pull-".concat(e.pull),e.pull!==null),_defineProperty(t,"fa-swap-opacity",e.swapOpacity),_defineProperty(t,"fa-bounce",e.bounce),_defineProperty(t,"fa-shake",e.shake),_defineProperty(t,"fa-beat",e.beat),_defineProperty(t,"fa-fade",e.fade),_defineProperty(t,"fa-beat-fade",e.beatFade),_defineProperty(t,"fa-flash",e.flash),_defineProperty(t,"fa-spin-pulse",e.spinPulse),_defineProperty(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(i){return n[i]?i:null}).filter(function(i){return i})}function normalizeIconArgs(e){if(e&&_typeof(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(parse$1.icon)return parse$1.icon(e);if(e===null)return null;if(_typeof(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var FontAwesomeIcon=defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function e(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function e(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function e(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function e(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function e(t,n){var i=n.attrs,s=computed(function(){return normalizeIconArgs(t.icon)}),o=computed(function(){return objectWithKey("classes",classList(t))}),f=computed(function(){return objectWithKey("transform",typeof t.transform=="string"?parse$1.transform(t.transform):t.transform)}),l=computed(function(){return objectWithKey("mask",normalizeIconArgs(t.mask))}),g=computed(function(){return icon2(s.value,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},o.value),f.value),l.value),{},{symbol:t.symbol,title:t.title,titleId:t.titleId,maskId:t.maskId}))});watch(g,function(a){if(!a)return log("Could not find one or more icon(s)",s.value,l.value)},{immediate:!0});var u=computed(function(){return g.value?convert(g.value.abstract[0],{},i):null});return function(){return u.value}}}),faHand={prefix:"far",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M256 0c-25.3 0-47.2 14.7-57.6 36c-7-2.6-14.5-4-22.4-4c-35.3 0-64 28.7-64 64V261.5l-2.7-2.7c-25-25-65.5-25-90.5 0s-25 65.5 0 90.5L106.5 437c48 48 113.1 75 181 75H296h8c1.5 0 3-.1 4.5-.4c91.7-6.2 165-79.4 171.1-171.1c.3-1.5 .4-3 .4-4.5V160c0-35.3-28.7-64-64-64c-5.5 0-10.9 .7-16 2V96c0-35.3-28.7-64-64-64c-7.9 0-15.4 1.4-22.4 4C303.2 14.7 281.3 0 256 0zM240 96.1c0 0 0-.1 0-.1V64c0-8.8 7.2-16 16-16s16 7.2 16 16V95.9c0 0 0 .1 0 .1V232c0 13.3 10.7 24 24 24s24-10.7 24-24V96c0 0 0 0 0-.1c0-8.8 7.2-16 16-16s16 7.2 16 16v55.9c0 0 0 .1 0 .1v80c0 13.3 10.7 24 24 24s24-10.7 24-24V160.1c0 0 0-.1 0-.1c0-8.8 7.2-16 16-16s16 7.2 16 16V332.9c-.1 .6-.1 1.3-.2 1.9c-3.4 69.7-59.3 125.6-129 129c-.6 0-1.3 .1-1.9 .2H296h-8.5c-55.2 0-108.1-21.9-147.1-60.9L52.7 315.3c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L119 336.4c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V96c0-8.8 7.2-16 16-16c8.8 0 16 7.1 16 15.9V232c0 13.3 10.7 24 24 24s24-10.7 24-24V96.1z"]},faHandPaper=faHand,faHandBackFist={prefix:"far",iconName:"hand-back-fist",icon:[512,512,["hand-rock"],"f255","M408.9 79.1c-22.4-33.9-66.1-42.3-98.8-23.6-29.5-31.5-79.1-31.1-108.3 0-47.2-27-108.7 5.1-110.7 60.8C44.8 105.4 0 140 0 187.4v57c0 32.7 14.3 64 39.2 85.6l97.7 85.1c4.3 3.7 3.1 5.6 3.1 32.9 0 17.7 14.3 32 32 32h252c17.7 0 32-14.3 32-32 0-23.5-1-30.7 4-42.4l42.8-99.7c6.1-14.2 9.2-29.2 9.2-44.6V147c0-52.8-54.3-88.7-103.1-67.9zM464 261.4a64.5 64.5 0 0 1 -5.3 25.6l-42.8 99.7c-5.2 12.2-7.9 25-7.9 38.3V432H188v-10.3c0-16.4-7.1-32-19.6-42.8l-97.7-85.1C56.3 281.3 48 263.2 48 244.4v-57c0-33.2 52-33.5 52 .7v41.2a16 16 0 0 0 5.5 12.1l7 6.1A16 16 0 0 0 139 235.4V118.9c0-33.1 52-33.7 52 .7v26.8c0 8.8 7.2 16 16 16h7c8.8 0 16-7.2 16-16v-41.1c0-33.1 52-33.7 52 .7v40.5c0 8.8 7.2 16 16 16h7c8.8 0 16-7.2 16-16v-27.4c0-33 52-33.8 52 .7v26.8c0 8.8 7.2 16 16 16h7c8.8 0 16-7.2 16-16 0-33.1 52-33.6 52 .7v114.4z"]},faHandRock={prefix:"far",iconName:"hand-rock",icon:[512,512,["hand-rock"],"f255","M408.9 79.1c-22.4-33.9-66.1-42.3-98.8-23.6-29.5-31.5-79.1-31.1-108.3 0-47.2-27-108.7 5.1-110.7 60.8C44.8 105.4 0 140 0 187.4v57c0 32.7 14.3 64 39.2 85.6l97.7 85.1c4.3 3.7 3.1 5.6 3.1 32.9 0 17.7 14.3 32 32 32h252c17.7 0 32-14.3 32-32 0-23.5-1-30.7 4-42.4l42.8-99.7c6.1-14.2 9.2-29.2 9.2-44.6V147c0-52.8-54.3-88.7-103.1-67.9zM464 261.4a64.5 64.5 0 0 1 -5.3 25.6l-42.8 99.7c-5.2 12.2-7.9 25-7.9 38.3V432H188v-10.3c0-16.4-7.1-32-19.6-42.8l-97.7-85.1C56.3 281.3 48 263.2 48 244.4v-57c0-33.2 52-33.5 52 .7v41.2a16 16 0 0 0 5.5 12.1l7 6.1A16 16 0 0 0 139 235.4V118.9c0-33.1 52-33.7 52 .7v26.8c0 8.8 7.2 16 16 16h7c8.8 0 16-7.2 16-16v-41.1c0-33.1 52-33.7 52 .7v40.5c0 8.8 7.2 16 16 16h7c8.8 0 16-7.2 16-16v-27.4c0-33 52-33.8 52 .7v26.8c0 8.8 7.2 16 16 16h7c8.8 0 16-7.2 16-16 0-33.1 52-33.6 52 .7v114.4z"]},faHandScissors={prefix:"far",iconName:"hand-scissors",icon:[512,512,[],"f257","M.2 276.3c-1.2-35.3 26.4-65 61.7-66.2l3.3-.1L57 208.1C22.5 200.5 .7 166.3 8.3 131.8S50.2 75.5 84.7 83.2l173 38.3c2.3-2.9 4.7-5.7 7.1-8.5l18.4-20.3C299.9 74.5 323.5 64 348.3 64l10.2 0c54.1 0 104.1 28.7 131.3 75.4l1.5 2.6c13.6 23.2 20.7 49.7 20.7 76.6L512 344c0 66.3-53.7 120-120 120l-8 0-96 0c-35.3 0-64-28.7-64-64c0-2.8 .2-5.6 .5-8.3c-19.4-11-32.5-31.8-32.5-55.7c0-.8 0-1.6 0-2.4L66.4 338c-35.3 1.2-65-26.4-66.2-61.7zm63.4-18.2c-8.8 .3-15.7 7.7-15.4 16.5s7.7 15.7 16.5 15.4l161.5-5.6c9.8-.3 18.7 5.3 22.7 14.2s2.2 19.3-4.5 26.4c-2.8 2.9-4.4 6.7-4.4 11c0 8.8 7.2 16 16 16c9.1 0 17.4 5.1 21.5 13.3s3.2 17.9-2.3 25.1c-2 2.7-3.2 6-3.2 9.6c0 8.8 7.2 16 16 16l96 0 8 0c39.8 0 72-32.2 72-72l0-125.4c0-18.4-4.9-36.5-14.2-52.4l-1.5-2.6c-18.6-32-52.8-51.6-89.8-51.6l-10.2 0c-11.3 0-22 4.8-29.6 13.1l-17.5-15.9 17.5 15.9-18.4 20.3c-.6 .6-1.1 1.3-1.7 1.9l57 13.2c8.6 2 14 10.6 12 19.2s-10.6 14-19.2 12l-85.6-19.7L74.3 130c-8.6-1.9-17.2 3.5-19.1 12.2s3.5 17.2 12.2 19.1l187.5 41.6c10.2 2.3 17.8 10.9 18.7 21.4l.1 1c.6 6.6-1.5 13.1-5.8 18.1s-10.6 7.9-17.2 8.2L63.6 258.1z"]};library$1.add(faHandRock,faHandBackFist,faHandScissors,faHandPaper);createApp(App).component("font-awesome-icon",FontAwesomeIcon).mount("#app");
